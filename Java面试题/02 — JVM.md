## 初识Java
### 一、JVM 概述与基本功能

#### 1. 什么是 JVM？

- **本质：** JVM **本质上**是一个运行在计算机上的程序。
    
- **职责：** 它的职责是**运行 Java 字节码文件**。
    
- **编译和执行流程：**
    
    1. **编写：** 编写 Java 源代码文件（例如 `HelloWorld.java`）。
        
    2. **编译：** 使用 `javac` 工具对源代码进行编译。
        
    3. **生成：** 编译后生成 Java 字节码文件（例如 `HelloWorld.class`），其中包含**字节码指令**。
        
    4. **运行：** 使用 `java` 运行字节码文件。
        
    5. **解释/执行：** **JVM 解释**字节码指令，并将其转换为**机器码**，交由计算机执行。
        

#### 2. JVM 的三大核心功能

JVM 的功能可以概括为以下三点：

- **解释和执行（即时编译 JIT）：**
    
    - 对字节码文件中的指令进行**实时**的**解释**，并将其转换成**机器码**。
        
    - 让计算机执行这些机器码。
        
- **内存管理：**
    
    - **自动**为对象、方法等分配内存。
        
    - 通过**自动垃圾回收机制**，回收不再使用的对象。
        
- **即时编译（JIT Compilation）：**
    
    - 对**热点代码**（经常执行的代码）进行**优化**。
        
    - 目标是提升执行效率。
        

---

### 二、JVM 实现跨平台特性与 JIT 编译

#### 1. 跨平台支持（“一次编译，到处运行”）

Java 语言实现跨平台，主要依赖于 JVM 的**实时解释**功能。

- **传统 C/C++ 语言：** 源代码 (`main.c`) 经过**编译和链接**后，直接生成**可执行文件（机器码）**，例如 `main.exe`。这种机器码是**特定平台**的。
    
- **Java 语言与 JVM：** Java 源代码编译后生成统一的**字节码指令** (`.class` 文件)。
    
    - 当程序在 **Windows** 上运行时，JVM 会实时解释字节码，生成 **Windows 机器码**。
        
    - 当程序在 **Linux** 上运行时，JVM 会实时解释字节码，生成 **Linux 机器码**。
        

#### 2. 即时编译 (Just-In-Time, JIT) 的性能优化

JVM 实时解释字节码，如果不做任何优化，性能不如 C++ 等语言。**即时编译（JIT）**是 JVM 提高性能的核心手段。

- **目的：** JIT 编译的目的是对性能进行优化，最终达到**接近**甚至在特定场景下**超越 C++ 语言**的运行性能。
    
- **JIT 优化流程：**
    
    1. JVM **解释**字节码文件中的指令。
        
    2. 当发现**热点字节码指令**（经常被调用的代码块）时。
        
    3. JVM 会对这部分热点代码进行**解释并优化**。
        
    4. 优化后的代码被**编译**成**汇编和机器码**，并**保存到内存（RAM）**中。
        
    5. 该段代码**再次执行**时，**直接调用**内存中已优化的机器码，而**不需要再次解释**。
        

---

### 三、常见的 JVM 版本及其特性

|**名称 (Name)**|**作者 (Author)**|**支持版本 (Supported Versions)**|**社区活跃度 (Community Star)**|**特性 (Features)**|**适用场景 (Application)**|
|---|---|---|---|---|---|
|**HotSpot (Oracle JDK 版)**|Oracle|所有版本|高 (开源)|使用最广泛、稳定可靠，社区活跃，支持 JIT|默认|
|**HotSpot (Open JDK 版)**|Oracle|所有版本|中 (16.1k)|基于 OpenJDK 默认虚拟机|默认，对 JDK 有二次开发要求|
|**GraalVM**|Oracle|11, 17, 19 (企业版支持 8)|高 (18.7k)|**多语言支持**，高性能，支持 **JIT 和 AOT** (Ahead-Of-Time 预先编译)|微服务、云原生架构，需要多语言混合编程|
|**Dragonwell 龙井**|Alibaba|标准版 8, 11, 17；扩展版 11, 17|低 (3.9k)|基于 OpenJDK 的增强，高性能，Bug 修复，安全性提升，支持 JWarmup, ElasticHeap, Wisp 特性|电商、物流、金融领域，对性能要求比较高|
|**Eclipse OpenJ9 (原 IBM J9)**|IBM|8, 11, 17, 19, 20|低 (3.1k)|高性能、可扩展，支持 JIT 和 AOT 特性|微服务、云原生架构|

## JVM的组成
![[Pasted image 20251208200327.png]]
## 字节码详解





