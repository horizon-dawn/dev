
> æœ¬æ–‡æ¡£åŒ…å« Java åŸºç¡€çš„æ ¸å¿ƒé¢è¯•é¢˜

---

## ğŸ“‘ <a id="table-of-contents">ç›®å½•</a>

### ä¸€ã€ Java è¯­è¨€æ¦‚è®º

- [1.1 Java å’Œ C++ ä¸»è¦æœ‰å“ªäº›åŒºåˆ«ï¼Ÿåˆ†åˆ«æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ](https://github.com/horizon-dawn/dev-docs/blob/main/Java%E9%9D%A2%E8%AF%95%E9%A2%98/Java%20%E5%9F%BA%E7%A1%80.md#211-%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81%E6%9C%89%E5%93%AA%E4%BA%9B%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB)
    
- [1.2 å¦‚ä½•ç†è§£é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2312-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%92%8C%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8B)
    
- [1.3 Java æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2313-java-%E6%98%AF%E5%80%BC%E4%BC%A0%E9%80%92%E8%BF%98%E6%98%AF%E5%BC%95%E7%94%A8%E4%BC%A0%E9%80%92)
    

### äºŒã€ åŸºæœ¬æ•°æ®ç±»å‹ä¸ç¼–ç 

- [2.1 Java ä¸­æœ‰äº†åŸºæœ¬ç±»å‹ä¸ºä»€ä¹ˆè¿˜éœ€è¦åŒ…è£…ç±»ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2321-java-%E4%B8%AD%E6%9C%89%E4%BA%86%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E9%9C%80%E8%A6%81%E5%8C%85%E8%A3%85%E7%B1%BB)
    
- [2.2 RPC æ¥å£è¿”å›ä¸­ï¼Œä½¿ç”¨åŸºæœ¬ç±»å‹è¿˜æ˜¯åŒ…è£…ç±»ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2322-rpc-%E6%8E%A5%E5%8F%A3%E8%BF%94%E5%9B%9E%E4%B8%AD%E4%BD%BF%E7%94%A8%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E8%BF%98%E6%98%AF%E5%8C%85%E8%A3%85%E7%B1%BB)
    
- [2.3 ä¸ºä»€ä¹ˆä¸èƒ½ç”¨æµ®ç‚¹æ•°è¡¨ç¤ºé‡‘é¢ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2323-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E8%83%BD%E7%94%A8%E6%B5%AE%E7%82%B9%E6%95%B0%E8%A1%A8%E7%A4%BA%E9%87%91%E9%A2%9D)
    
- [2.4 BigDecimal å’Œ Long è¡¨ç¤ºé‡‘é¢å“ªä¸ªæ›´åˆé€‚ï¼Œæ€ä¹ˆé€‰æ‹©ï¼Ÿ(å¾…è¡¥å……)](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2324-bigdecimal-%E5%92%8C-long-%E8%A1%A8%E7%A4%BA%E9%87%91%E9%A2%9D%E5%93%AA%E4%B8%AA%E6%9B%B4%E5%90%88%E9%80%82%E6%80%8E%E4%B9%88%E9%80%89%E6%8B%A9%E5%BE%85%E8%A1%A5%E5%85%85)
    
- [2.5 ä¸ºä»€ä¹ˆä¸èƒ½ç”¨ BigDecimal çš„ equals æ–¹æ³•åšç­‰å€¼æ¯”è¾ƒï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2325-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E8%83%BD%E7%94%A8-bigdecimal-%E7%9A%84-equals-%E6%96%B9%E6%B3%95%E5%81%9A%E7%AD%89%E5%80%BC%E6%AF%94%E8%BE%83)
    
- [2.6 BigDecimal(double) å’Œ BigDecimal(String) æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2326-bigdecimaldouble-%E5%92%8C-bigdecimalstring-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB)
    
- [2.7 ä¸ºä»€ä¹ˆå¯¹ Java ä¸­çš„è´Ÿæ•°å–ç»å¯¹å€¼ç»“æœä¸ä¸€å®šæ˜¯æ­£æ•°ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2327-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%AF%B9-java-%E4%B8%AD%E7%9A%84%E8%B4%9F%E6%95%B0%E5%8F%96%E7%BB%9D%E5%AF%B9%E5%80%BC%E7%BB%93%E6%9E%9C%E4%B8%8D%E4%B8%80%E5%AE%9A%E6%98%AF%E6%AD%A3%E6%95%B0)
    
- [2.8 Integer a = 1000, a == b æ˜¯ä»€ä¹ˆç»“æœï¼Ÿå¦‚æœæ˜¯ 100 å‘¢ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2328-integer-a--1000-integer-b--1000-a--b-%E6%98%AF%E4%BB%80%E4%B9%88%E7%BB%93%E6%9E%9C%E5%A6%82%E6%9E%9C%E6%98%AF-100-%E5%91%A2)
    
- [2.9 Java ä¸­çš„æšä¸¾æœ‰ä»€ä¹ˆç‰¹ç‚¹å’Œå¥½å¤„ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2329-java-%E4%B8%AD%E7%9A%84%E6%9E%9A%E4%B8%BE%E6%9C%89%E4%BB%80%E4%B9%88%E7%89%B9%E7%82%B9%E5%92%8C%E5%A5%BD%E5%A4%84)
    
- [2.10 char èƒ½å­˜å‚¨ä¸­æ–‡å—ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23210-char-%E8%83%BD%E5%AD%98%E5%82%A8%E4%B8%AD%E6%96%87%E5%90%97)
    
- [2.11 å¸¸è§çš„å­—ç¬¦ç¼–ç æœ‰å“ªäº›ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23211-%E5%B8%B8%E8%A7%81%E7%9A%84%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81%E6%9C%89%E5%93%AA%E4%BA%9B%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB)
    

### ä¸‰ã€ å­—ç¬¦ä¸²ä½“ç³» (String)

- [3.1 Stringã€StringBuilder å’Œ StringBuffer çš„åŒºåˆ«ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2331-stringstringbuilder-%E5%92%8C-stringbuffer-%E7%9A%84%E5%8C%BA%E5%88%AB)
    
- [3.2 String ä¸ºä»€ä¹ˆè®¾è®¡æˆä¸å¯å˜çš„ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2332-string-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AE%BE%E8%AE%A1%E6%88%90%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%9A%84)
    
- [3.3 String æ˜¯å¦‚ä½•å®ç°ä¸å¯å˜çš„ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2333-string-%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E4%B8%8D%E5%8F%AF%E5%8F%98%E7%9A%84)
    
- [3.4 String str = new String("zhc") åˆ›å»ºäº†å‡ ä¸ªå¯¹è±¡ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2334-string-str--new-stringzhc-%E5%88%9B%E5%BB%BA%E4%BA%86%E5%87%A0%E4%B8%AA%E5%AF%B9%E8%B1%A1)
    
- [3.5 String a = "ab"; String b = "a" + "b"; a == b å—ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2335-string-a--ab-string-b--a--b-a--b-%E5%90%97)
    
- [3.6 å­—ç¬¦ä¸²å¸¸é‡æ˜¯ä»€ä¹ˆæ—¶å€™è¿›å…¥åˆ°å­—ç¬¦ä¸²å¸¸é‡æ± çš„ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2336-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%98%AF%E4%BB%80%E4%B9%88%E6%97%B6%E5%80%99%E8%BF%9B%E5%85%A5%E5%88%B0%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%B8%B8%E9%87%8F%E6%B1%A0%E7%9A%84)
    
- [3.7 String ä¸­ intern çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ(å¾…è¡¥å……)](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2337-string-%E4%B8%AD-intern-%E7%9A%84%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88%E5%BE%85%E8%A1%A5%E5%85%85)
    
- [3.8 String æœ‰é•¿åº¦é™åˆ¶å—ï¼Ÿæ˜¯å¤šå°‘ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2338-string-%E6%9C%89%E9%95%BF%E5%BA%A6%E9%99%90%E5%88%B6%E5%90%97%E6%98%AF%E5%A4%9A%E5%B0%91)
    
- [3.9 ä¸ºä»€ä¹ˆ JDK 9 ä¸­æŠŠ String çš„ char[] æ”¹æˆäº† byte[]ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2339-%E4%B8%BA%E4%BB%80%E4%B9%88-jdk-9-%E4%B8%AD%E6%8A%8A-string-%E7%9A%84-char-%E6%94%B9%E6%88%90%E4%BA%86-byte)
    
- [3.10 JDK 9 ä¸­å¯¹å­—ç¬¦ä¸²æ‹¼æ¥åšäº†ä»€ä¹ˆä¼˜åŒ–ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23310-jdk-9-%E4%B8%AD%E5%AF%B9%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%8B%BC%E6%8E%A5%E5%81%9A%E4%BA%86%E4%BB%80%E4%B9%88%E4%BC%98%E5%8C%96)
    
- [3.11 æ€ä¹ˆä¿®æ”¹ä¸€ä¸ªç±»ä¸­çš„ private ä¿®é¥°çš„ String å‚æ•°çš„å€¼ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23311-%E6%80%8E%E4%B9%88%E4%BF%AE%E6%94%B9%E4%B8%80%E4%B8%AA%E7%B1%BB%E4%B8%AD%E7%9A%84-private-%E4%BF%AE%E9%A5%B0%E7%9A%84-string-%E5%8F%82%E6%95%B0%E7%9A%84%E5%80%BC)
    

### å››ã€ é¢å‘å¯¹è±¡æ ¸å¿ƒ (OOP)

- [4.1 ä¸ºä»€ä¹ˆ Java ä¸æ”¯æŒå¤šç»§æ‰¿ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2341-%E4%B8%BA%E4%BB%80%E4%B9%88-java-%E4%B8%8D%E6%94%AF%E6%8C%81%E5%A4%9A%E7%BB%A7%E6%89%BF)
    
- [4.2 æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«ï¼Œå¦‚ä½•é€‰æ‹©ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2342-%E6%8E%A5%E5%8F%A3%E5%92%8C%E6%8A%BD%E8%B1%A1%E7%B1%BB%E7%9A%84%E5%8C%BA%E5%88%AB%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9)
    
- [4.3 å¦‚ä½•ç†è§£ Java ä¸­çš„å¤šæ€ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2343-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3-java-%E4%B8%AD%E7%9A%84%E5%A4%9A%E6%80%81)
    
- [4.4 ä¸ºä»€ä¹ˆå»ºè®®è‡ªå®šä¹‰ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2344-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%BB%BA%E8%AE%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E6%97%A0%E5%8F%82%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0)
    
- [4.5 ä¸ºä»€ä¹ˆ Java ä¸­çš„ main æ–¹æ³•å¿…é¡»æ˜¯ public static void çš„ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2345-%E4%B8%BA%E4%BB%80%E4%B9%88-java-%E4%B8%AD%E7%9A%84-main-%E6%96%B9%E6%B3%95%E5%BF%85%E9%A1%BB%E6%98%AF-public-static-void-%E7%9A%84)
    
- [4.6 æœ‰äº† equals ä¸ºä»€ä¹ˆè¿˜éœ€è¦ hashCode æ–¹æ³•ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2346-%E6%9C%89%E4%BA%86-equals-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%BF%98%E9%9C%80%E8%A6%81-hashcode-%E6%96%B9%E6%B3%95)
    
- [4.7 ä¸ºä»€ä¹ˆå»ºè®®å¤šç”¨ç»„åˆå°‘ç”¨ç»§æ‰¿ï¼Ÿ(å¾…è¡¥å……)](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2347-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%BB%BA%E8%AE%AE%E5%A4%9A%E7%94%A8%E7%BB%84%E5%90%88%E5%B0%91%E7%94%A8%E7%BB%A7%E6%89%BF%E5%BE%85%E8%A1%A5%E5%85%85)
    
- [4.8 ä»€ä¹ˆæ˜¯æ·±æ‹·è´å’Œæµ…æ‹·è´ï¼Ÿ(å¾…è¡¥å……)](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2348-%E4%BB%80%E4%B9%88%E6%98%AF%E6%B7%B1%E6%8B%B7%E8%B4%9D%E5%92%8C%E6%B5%85%E6%8B%B7%E8%B4%9D%E5%BE%85%E8%A1%A5%E5%85%85)
    

### äº”ã€ æ ¸å¿ƒæœºåˆ¶ (æ³›å‹/æ³¨è§£/åå°„/å¼‚å¸¸)

- [5.1 ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2351-%E4%BB%80%E4%B9%88%E6%98%AF%E6%B3%9B%E5%9E%8B%E6%9C%89%E4%BB%80%E4%B9%88%E5%A5%BD%E5%A4%84)
    
- [5.2 ä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2352-%E4%BB%80%E4%B9%88%E6%98%AF%E7%B1%BB%E5%9E%8B%E6%93%A6%E9%99%A4)
    
- [5.3 æ³›å‹ä¸­ K T V E ? Object ç­‰åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆå«ä¹‰ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2353-%E6%B3%9B%E5%9E%8B%E4%B8%AD-k-t-v-e--object-%E7%AD%89%E5%88%86%E5%88%AB%E4%BB%A3%E8%A1%A8%E4%BB%80%E4%B9%88%E5%90%AB%E4%B9%89)
    
- [5.4 æ³›å‹ä¸­ä¸Šä¸‹ç•Œé™å®šç¬¦ extends å’Œ super æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2354-%E6%B3%9B%E5%9E%8B%E4%B8%AD%E4%B8%8A%E4%B8%8B%E7%95%8C%E9%99%90%E5%AE%9A%E7%AC%A6-extends-%E5%92%8C-super-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB)
    
- [5.5 Java ä¸­å¼‚å¸¸åˆ†å“ªä¸¤ç±»ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2355-java-%E4%B8%AD%E5%BC%82%E5%B8%B8%E5%88%86%E5%93%AA%E4%B8%A4%E7%B1%BB%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB)
    
- [5.6 finally ä¸­çš„ä»£ç ä¸€å®šä¼šæ‰§è¡Œå—ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2356-finally-%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E4%B8%80%E5%AE%9A%E4%BC%9A%E6%89%A7%E8%A1%8C%E5%90%97)
    
- [5.7 try return A, finally return Cï¼Œæœ€ç»ˆè¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2357-try-return-a-finally-return-c%E6%9C%80%E7%BB%88%E8%BF%94%E5%9B%9E%E5%80%BC%E6%98%AF%E4%BB%80%E4%B9%88)
    
- [5.8 finalã€finallyã€finalize æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2358-finalfinallyfinalize-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB)
    
- [5.9 ä¸ºä»€ä¹ˆä¸å»ºè®®ä½¿ç”¨å¼‚å¸¸æ§åˆ¶ä¸šåŠ¡æµç¨‹ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2359-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E5%BB%BA%E8%AE%AE%E4%BD%BF%E7%94%A8%E5%BC%82%E5%B8%B8%E6%8E%A7%E5%88%B6%E4%B8%9A%E5%8A%A1%E6%B5%81%E7%A8%8B)
    
- [5.10 Java æ³¨è§£çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23510-java-%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%9C%E7%94%A8%E6%98%AF%E4%BB%80%E4%B9%88)
    
- [5.11 ä»€ä¹ˆæ˜¯åå°„æœºåˆ¶ï¼Ÿä¸ºä»€ä¹ˆåå°„æ…¢ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23511-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E4%B8%BA%E4%BB%80%E4%B9%88%E5%8F%8D%E5%B0%84%E6%85%A2)
    
- [5.12 åå°„ä¸å°è£…æ˜¯å¦çŸ›ç›¾ï¼Ÿå¦‚ä½•è§£å†³åå°„ç ´åå°è£…çš„é—®é¢˜ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23512-%E5%8F%8D%E5%B0%84%E4%B8%8E%E5%B0%81%E8%A3%85%E6%98%AF%E5%90%A6%E7%9F%9B%E7%9B%BE%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%E5%8F%8D%E5%B0%84%E7%A0%B4%E5%9D%8F%E5%B0%81%E8%A3%85%E7%9A%84%E9%97%AE%E9%A2%98)
    
- [5.13 Java çš„åŠ¨æ€ä»£ç†å¦‚ä½•å®ç°ï¼Ÿ(å¾…è¡¥å……)](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23513-java-%E7%9A%84%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E5%BE%85%E8%A1%A5%E5%85%85)
    

### å…­ã€ é«˜çº§ç‰¹æ€§ (SPI/è¯­æ³•ç³–)

- [6.1 ä»€ä¹ˆæ˜¯ SPIï¼Œå’Œ API æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2361-%E4%BB%80%E4%B9%88%E6%98%AF-spi-%E5%92%8C-api-%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB)
    
- [6.2 è¯´å‡ ä¸ªå¸¸è§çš„è¯­æ³•ç³–ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2362-%E8%AF%B4%E5%87%A0%E4%B8%AA%E5%B8%B8%E8%A7%81%E7%9A%84%E8%AF%AD%E6%B3%95%E7%B3%96)
    
- [6.3 Lambda è¡¨è¾¾å¼æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2363-lambda-%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84)
    
- [6.4 while(true) å’Œ for(;;) å“ªä¸ªæ€§èƒ½å¥½ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2364-whiletrue-%E5%92%8C-for-%E5%93%AA%E4%B8%AA%E6%80%A7%E8%83%BD%E5%A5%BD)
    

### ä¸ƒã€ å®¹å™¨ã€æ—¶é—´ä¸å¹¶å‘åŸºç¡€

- [7.1 Stream çš„å¹¶è¡Œæµä¸€å®šæ¯”ä¸²è¡Œæµæ›´å¿«å—ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2371-stream-%E7%9A%84%E5%B9%B6%E8%A1%8C%E6%B5%81%E4%B8%80%E5%AE%9A%E6%AF%94%E4%B8%B2%E8%A1%8C%E6%B5%81%E6%9B%B4%E5%BF%AB%E5%90%97)
    
- [7.2 SimpleDateFormat æ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿä½¿ç”¨æ—¶åº”è¯¥æ³¨æ„ä»€ä¹ˆï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2372-simpledateformat-%E6%98%AF%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%9A%84%E5%90%97%E4%BD%BF%E7%94%A8%E6%97%B6%E5%BA%94%E8%AF%A5%E6%B3%A8%E6%84%8F%E4%BB%80%E4%B9%88)
    
- [7.3 Java ä¸­ Timer å®ç°å®šæ—¶è°ƒåº¦çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2373-java-%E4%B8%AD-timer-%E5%AE%9E%E7%8E%B0%E5%AE%9A%E6%97%B6%E8%B0%83%E5%BA%A6%E7%9A%84%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88)
    

### å…«ã€ ç³»ç»Ÿåº•å±‚ä¸ JVM

- [8.1 ClassNotFoundException å’Œ NoClassDefFoundError çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2381-classnotfoundexception-%E5%92%8C-noclassdeffounderror-%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88)
    
- [8.2 Java ä¸­åˆ›å»ºå¯¹è±¡æœ‰å“ªäº›ç§æ–¹å¼ï¼Ÿ](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2382-java-%E4%B8%AD%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1%E6%9C%89%E5%93%AA%E4%BA%9B%E7%A7%8D%E6%96%B9%E5%BC%8F)
    
- [8.3 ä»€ä¹ˆæ˜¯ AIOã€BIO å’Œ NIOï¼Ÿ(å¾…è¡¥å……)](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2383-%E4%BB%80%E4%B9%88%E6%98%AF-aio-bio-%E5%92%8C-nio-%E5%BE%85%E8%A1%A5%E5%85%85)
    
- [8.4 ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Ÿ(å¾…è¡¥å……)](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2384-%E4%BB%80%E4%B9%88%E6%98%AF%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E5%BE%85%E8%A1%A5%E5%85%85)
    
- [8.5 Java åºåˆ—åŒ–çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ(å¾…è¡¥å……)](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2385-java-%E5%BA%8F%E5%88%97%E5%8C%96%E7%9A%84%E5%8E%9F%E7%90%86%E6%98%AF%E4%BB%80%E4%B9%88%E5%BE%85%E8%A1%A5%E5%85%85)
    
- [8.6 serialVersionUID æœ‰ä½•ç”¨é€”ï¼Ÿå¦‚æœæ²¡å®šä¹‰ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ(å¾…è¡¥å……)](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2386-serialversionuid-%E6%9C%89%E4%BD%95%E7%94%A8%E9%80%94%E5%A6%82%E6%9E%9C%E6%B2%A1%E5%AE%9A%E4%B9%89%E4%BC%9A%E6%9C%89%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%E5%BE%85%E8%A1%A5%E5%85%85)
    
- [8.7 ä½ çŸ¥é“ fastjson çš„ååºåˆ—åŒ–æ¼æ´å—ï¼Ÿ(å¾…è¡¥å……)](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2387-%E4%BD%A0%E7%9F%A5%E9%81%93-fastjson-%E7%9A%84%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96%E6%BC%8F%E6%B4%9E%E5%90%97%E5%BE%85%E8%A1%A5%E5%85%85)
    
- [8.8 ä»€ä¹ˆæ˜¯ UUIDï¼Œèƒ½ä¿è¯å”¯ä¸€å—ï¼Ÿ(å¾…è¡¥å……)](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%2388-%E4%BB%80%E4%B9%88%E6%98%AF-uuid%E8%83%BD%E4%BF%9D%E8%AF%81%E5%94%AF%E4%B8%80%E5%90%97%E5%BE%85%E8%A1%A5%E5%85%85)
    

---

## ä¸€ã€ Java è¯­è¨€æ¦‚è®º

### 1.1 Java å’Œ C++ ä¸»è¦æœ‰å“ªäº›åŒºåˆ«ï¼Ÿåˆ†åˆ«æœ‰ä»€ä¹ˆä¼˜ç¼ºç‚¹ï¼Ÿ

Java æ˜¯å¹³å°æ— å…³çš„è¯­è¨€ï¼Œé€šè¿‡ JVM å®ç°"ä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œ"ï¼›è€Œ C++ æ˜¯å¹³å°ç›¸å…³çš„ï¼Œéœ€è¦é’ˆå¯¹ä¸åŒå¹³å°ç¼–è¯‘ã€‚

åœ¨å†…å­˜ç®¡ç†ä¸Šï¼ŒJava é€šè¿‡ GC å®ç°è‡ªåŠ¨å†…å­˜ç®¡ç†ï¼ŒC++ åˆ™éœ€è¦æ‰‹åŠ¨ä½¿ç”¨ new/delete ç®¡ç†å†…å­˜ã€‚

å‚æ•°ä¼ é€’æ–¹é¢ï¼ŒJava åªæ”¯æŒå€¼ä¼ é€’ï¼ŒC++ æ”¯æŒå€¼ä¼ é€’ã€æŒ‡é’ˆä¼ é€’å’Œå¼•ç”¨ä¼ é€’ã€‚

ç»§æ‰¿æ–¹å¼ä¸Šï¼ŒJava åªæ”¯æŒå•ç»§æ‰¿ï¼ŒC++ æ—¢æ”¯æŒå•ç»§æ‰¿åˆæ”¯æŒå¤šç»§æ‰¿ã€‚

åº•å±‚æ§åˆ¶èƒ½åŠ›æ–¹é¢ï¼ŒJava ä¸èƒ½ç›´æ¥æ“ä½œå†…å­˜ï¼ŒC++ å¯ä»¥ç›´æ¥æ“ä½œå†…å­˜å’Œç¡¬ä»¶ã€‚

æ‰§è¡Œæ–¹å¼ä¸Šï¼ŒJava æ˜¯è§£é‡Šå‹è¯­è¨€ï¼Œé€šè¿‡ç¼–è¯‘å™¨ç¼–è¯‘æˆå­—èŠ‚ç å†ç”± JVM è§£é‡Šæ‰§è¡Œï¼›C++ æ˜¯ç¼–è¯‘å‹è¯­è¨€ï¼Œç›´æ¥ç¼–è¯‘æˆæœºå™¨ç ã€‚

Java çš„ä¼˜ç‚¹åŒ…æ‹¬å¹³å°æ— å…³æ€§å¼ºã€ç”Ÿæ€ä¸°å¯Œã€ç¤¾åŒºæ”¯æŒå®Œå–„ã€åƒåœ¾å›æ”¶å™¨é™ä½å†…å­˜æ³„éœ²é£é™©ã€‚ç¼ºç‚¹æ˜¯ï¼šå¯åŠ¨é€Ÿåº¦è¾ƒæ…¢ã€å†…å­˜å ç”¨è¾ƒå¤§ã€æ€§èƒ½ä¸å¦‚ C++ã€åº•å±‚æ§åˆ¶èƒ½åŠ›å¼±ã€‚

C++ çš„ä¼˜ç‚¹åŒ…æ‹¬æ€§èƒ½é«˜æ•ˆã€èƒ½ç›´æ¥æ“ä½œå†…å­˜å’Œç¡¬ä»¶ã€å›¾å½¢å’ŒéŸ³é¢‘åº“æ”¯æŒä¸°å¯Œã€‚ç¼ºç‚¹æ˜¯ï¼šå†…å­˜ç®¡ç†å¤æ‚ã€å­¦ä¹ æ›²çº¿é™¡å³­ã€å®¹æ˜“é€ æˆå†…å­˜æ³„éœ²ã€è·¨å¹³å°å¼€å‘å›°éš¾ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 1.2 å¦‚ä½•ç†è§£é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹ï¼Ÿ

é¢å‘è¿‡ç¨‹å’Œé¢å‘å¯¹è±¡æ˜¯ä¸¤ç§ä¸åŒçš„ç¼–ç¨‹æ€ç»´æ–¹å¼ã€‚

é¢å‘è¿‡ç¨‹æ›´å…³æ³¨"æ€ä¹ˆåš"ï¼Œç±»ä¼¼æµæ°´çº¿å¼ä½œä¸šã€‚åœ¨è§£å†³é—®é¢˜æ—¶ï¼Œå°†é—®é¢˜åˆ†è§£æˆä¸€ç³»åˆ—æ­¥éª¤ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œè¿™äº›æ­¥éª¤æ¥å®Œæˆä»»åŠ¡ã€‚

é¢å‘å¯¹è±¡æ›´å…³æ³¨"è°æ¥åš"ï¼Œç±»ä¼¼å›¢é˜Ÿåä½œã€‚åœ¨è§£å†³é—®é¢˜æ—¶ï¼Œå°†é—®é¢˜åˆ†è§£æˆå¤šä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡è´Ÿè´£ç‰¹å®šçš„èŒè´£ï¼Œé€šè¿‡å¯¹è±¡é—´çš„åä½œæ¥è§£å†³é—®é¢˜ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 1.3 Java æ˜¯å€¼ä¼ é€’è¿˜æ˜¯å¼•ç”¨ä¼ é€’ï¼Ÿ

Java åªæœ‰å€¼ä¼ é€’ï¼Œæ²¡æœ‰å¼•ç”¨ä¼ é€’ã€‚è¿™æ˜¯ä¸€ä¸ªå®¹æ˜“æ··æ·†çš„æ¦‚å¿µï¼Œéœ€è¦åˆ†æƒ…å†µç†è§£ï¼š

**å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹**ï¼šä¼ é€’çš„æ˜¯æ•°å€¼çš„å‰¯æœ¬ã€‚æ–¹æ³•å†…å¯¹å‚æ•°çš„ä¿®æ”¹ä¸ä¼šå½±å“åŸå˜é‡ã€‚æ¯”å¦‚ä¼ å…¥ä¸€ä¸ª int ç±»å‹çš„å˜é‡ï¼Œæ–¹æ³•å†…ä¿®æ”¹è¿™ä¸ªå‚æ•°ï¼Œå¤–éƒ¨çš„åŸå˜é‡ä¸ä¼šæ”¹å˜ã€‚

**å¯¹äºå¼•ç”¨æ•°æ®ç±»å‹**ï¼šä¼ é€’çš„æ˜¯å¼•ç”¨åœ°å€çš„å‰¯æœ¬ã€‚è¿™é‡Œå®¹æ˜“äº§ç”Ÿè¯¯è§£ï¼Œçœ‹èµ·æ¥åƒå¼•ç”¨ä¼ é€’ï¼Œä½†æœ¬è´¨ä¸Šä¼ é€’çš„æ˜¯å¼•ç”¨å€¼çš„æ‹·è´ã€‚å…·ä½“æ¥è¯´ï¼š

- æ–¹æ³•æ¥æ”¶åˆ°çš„æ˜¯å¯¹è±¡å¼•ç”¨çš„ä¸€ä¸ªå‰¯æœ¬ï¼Œè¿™ä¸ªå‰¯æœ¬å’ŒåŸå¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡
    
- é€šè¿‡è¿™ä¸ªå‰¯æœ¬å¯ä»¥ä¿®æ”¹å¯¹è±¡çš„å†…å®¹ï¼Œæ‰€ä»¥å¤–éƒ¨èƒ½çœ‹åˆ°å¯¹è±¡å†…éƒ¨çŠ¶æ€çš„å˜åŒ–
    
- ä½†å¦‚æœåœ¨æ–¹æ³•å†…ç»™å‚æ•°é‡æ–°èµ‹å€¼ï¼ˆæŒ‡å‘æ–°å¯¹è±¡ï¼‰ï¼Œä¸ä¼šå½±å“å¤–éƒ¨çš„åŸå¼•ç”¨
    

ä¸¾ä¸ªä¾‹å­ï¼š

Java

```
public void test(StringBuilder sb) {
    sb.append("world");  // ä¿®æ”¹å¯¹è±¡å†…å®¹ï¼Œå¤–éƒ¨å¯è§
    sb = new StringBuilder("new");  // é‡æ–°èµ‹å€¼ï¼Œå¤–éƒ¨ä¸å¯è§
}

StringBuilder sb = new StringBuilder("hello");
test(sb);
System.out.println(sb);  // è¾“å‡º "helloworld"ï¼Œä¸æ˜¯ "new"
```

è¿™ä¸ªä¾‹å­è¯´æ˜ï¼šä¼ é€’çš„æ˜¯å¼•ç”¨çš„å‰¯æœ¬ï¼Œè€Œä¸æ˜¯å¼•ç”¨æœ¬èº«ã€‚å¦‚æœæ˜¯çœŸæ­£çš„å¼•ç”¨ä¼ é€’ï¼Œé‡æ–°èµ‹å€¼åº”è¯¥ä¼šå½±å“å¤–éƒ¨å˜é‡ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

---

## äºŒã€ åŸºæœ¬æ•°æ®ç±»å‹ä¸ç¼–ç 

### 2.1 Java ä¸­æœ‰äº†åŸºæœ¬ç±»å‹ä¸ºä»€ä¹ˆè¿˜éœ€è¦åŒ…è£…ç±»ï¼Ÿ

Java æ˜¯é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ›´å¤šåœºæ™¯éœ€è¦ä½¿ç”¨å¯¹è±¡è€Œä¸æ˜¯åŸºæœ¬ç±»å‹ã€‚

æ¯”å¦‚é›†åˆï¼ˆListã€Map ç­‰ï¼‰åªèƒ½å­˜å‚¨å¯¹è±¡ï¼Œä¸èƒ½ç›´æ¥å­˜å‚¨åŸºæœ¬ç±»å‹ï¼Œè¿™æ—¶å€™å°±å¿…é¡»ç”¨åŒ…è£…ç±»ã€‚åŒæ—¶ï¼ŒåŒ…è£…ç±»è¿˜æä¾›äº†å¾ˆå¤šå®ç”¨æ–¹æ³•ï¼Œæ¯”å¦‚ç±»å‹è½¬æ¢ã€è·å–æœ€å¤§æœ€å°å€¼ç­‰ï¼Œå¹¶ä¸”æ”¯æŒè‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±ï¼Œä½¿ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ã€‚

æ€»çš„æ¥è¯´ï¼ŒåŒ…è£…ç±»è®©åŸºæœ¬ç±»å‹å…·å¤‡äº†å¯¹è±¡çš„ç‰¹æ€§ï¼Œä½¿å…¶èƒ½å¤Ÿé€‚åº”é¢å‘å¯¹è±¡ç¼–ç¨‹çš„å„ç§åœºæ™¯ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 2.2 RPC æ¥å£è¿”å›ä¸­ï¼Œä½¿ç”¨åŸºæœ¬ç±»å‹è¿˜æ˜¯åŒ…è£…ç±»ï¼Ÿ

æ¨èä½¿ç”¨åŒ…è£…ç±»ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š

ç¬¬ä¸€ï¼Œé¿å…è¯­ä¹‰æ­§ä¹‰ã€‚åŸºæœ¬ç±»å‹éƒ½æœ‰é»˜è®¤å€¼ï¼Œæ¯”å¦‚ int é»˜è®¤æ˜¯ 0ï¼Œboolean é»˜è®¤æ˜¯ falseã€‚å½“ RPC æ¥å£è¿”å› 0 æˆ– false æ—¶ï¼Œä½ æ— æ³•åˆ¤æ–­è¿™æ˜¯ä¸šåŠ¡é€»è¾‘æ­£å¸¸è¿”å›çš„å€¼ï¼Œè¿˜æ˜¯å› ä¸ºå­—æ®µæœªèµ‹å€¼è€Œäº§ç”Ÿçš„é»˜è®¤å€¼ã€‚

ç¬¬äºŒï¼Œæ˜ç¡®è¡¨è¾¾"æ— å€¼"çŠ¶æ€ã€‚åŒ…è£…ç±»å¯ä»¥ç”¨ null æ¥è¡¨ç¤º"æ— å€¼"æˆ–"æœªçŸ¥"çš„çŠ¶æ€ï¼Œè¿™åœ¨å¾ˆå¤šä¸šåŠ¡åœºæ™¯ä¸‹æ˜¯å¿…è¦çš„ã€‚æ¯”å¦‚ï¼šç”¨æˆ·æœªå¡«å†™æŸä¸ªå¯é€‰å­—æ®µã€æ•°æ®åº“ä¸­è¯¥å­—æ®µä¸º NULLã€è¿œç¨‹è°ƒç”¨å¤±è´¥æœªè·å–åˆ°æ•°æ®ã€‚è¿™äº›æƒ…å†µç”¨ null è¡¨ç¤ºæ¯”ç”¨é»˜è®¤å€¼æ›´æ¸…æ™°ã€æ›´å‡†ç¡®ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 2.3 ä¸ºä»€ä¹ˆä¸èƒ½ç”¨æµ®ç‚¹æ•°è¡¨ç¤ºé‡‘é¢ï¼Ÿ

ä¸èƒ½ç”¨æµ®ç‚¹æ•°è¡¨ç¤ºé‡‘é¢ä¸»è¦æ˜¯å› ä¸ºæµ®ç‚¹æ•°å­˜åœ¨ç²¾åº¦é—®é¢˜ã€‚

æµ®ç‚¹æ•°é‡‡ç”¨ IEEE 754 æ ‡å‡†ï¼Œä½¿ç”¨ç¬¦å·ä½ã€æŒ‡æ•°ä½å’Œå°¾æ•°ä½æ¥è¡¨ç¤ºã€‚è¿™ç§è®¾è®¡å¯ä»¥ç”¨æœ‰é™çš„å†…å­˜ç©ºé—´è¡¨ç¤ºæ›´å¤§èŒƒå›´çš„æ•°å€¼ï¼Œä½†ä»£ä»·æ˜¯å­˜å‚¨çš„æ˜¯è¿‘ä¼¼å€¼è€Œéç²¾ç¡®å€¼ã€‚

æ¯”å¦‚ 0.1 + 0.2 åœ¨è®¡ç®—æœºä¸­å¹¶ä¸ç­‰äº 0.3ï¼Œè€Œæ˜¯ 0.30000000000000004ï¼Œè¿™ç§è¯¯å·®åœ¨é‡‘é¢è®¡ç®—ä¸­ä¼šç´¯ç§¯æ”¾å¤§ï¼Œå¯¼è‡´ä¸¥é‡çš„é”™è¯¯ã€‚

å› æ­¤ï¼Œåœ¨é‡‘é¢è¿™ç§å¯¹ç²¾åº¦è¦æ±‚æé«˜çš„åœºæ™¯ä¸‹ï¼Œåº”è¯¥ä½¿ç”¨ BigDecimal ç±»æ¥è¿›è¡Œç²¾ç¡®è®¡ç®—ï¼Œå®ƒé‡‡ç”¨åè¿›åˆ¶è¡¨ç¤ºï¼Œå¯ä»¥å®Œå…¨é¿å…ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 2.4 BigDecimal å’Œ Long è¡¨ç¤ºé‡‘é¢å“ªä¸ªæ›´åˆé€‚ï¼Œæ€ä¹ˆé€‰æ‹©ï¼Ÿ

(å¾…è¡¥å……)

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 2.5 ä¸ºä»€ä¹ˆä¸èƒ½ç”¨ BigDecimal çš„ equals æ–¹æ³•åšç­‰å€¼æ¯”è¾ƒï¼Ÿ

ä¸»è¦åŸå› æ˜¯ equals æ–¹æ³•ä¸ä»…ä¼šæ¯”è¾ƒæ•°å€¼æœ¬èº«ï¼Œè¿˜ä¼šæ¯”è¾ƒæ ‡åº¦ï¼ˆscaleï¼‰ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œnew BigDecimal("1.0") å’Œ new BigDecimal("1.00")ï¼Œè™½ç„¶å®ƒä»¬çš„æ•°å€¼ç›¸ç­‰ï¼Œä½†æ ‡åº¦ä¸åŒâ€”â€”å‰è€…æ ‡åº¦æ˜¯ 1ï¼Œåè€…æ ‡åº¦æ˜¯ 2ï¼Œæ‰€ä»¥ç”¨ equals æ¯”è¾ƒä¼šè¿”å› falseï¼Œè¿™æ˜¾ç„¶ä¸ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸã€‚

æ­£ç¡®çš„åšæ³•æ˜¯ä½¿ç”¨ compareTo æ–¹æ³•ï¼Œå®ƒåªæ¯”è¾ƒæ•°å€¼å¤§å°ï¼Œä¸è€ƒè™‘æ ‡åº¦ã€‚å½“ compareTo è¿”å› 0 æ—¶ï¼Œè¡¨ç¤ºä¸¤ä¸ª BigDecimal çš„æ•°å€¼ç›¸ç­‰ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 2.6 BigDecimal(double) å’Œ BigDecimal(String) æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

è¿™ä¸¤ä¸ªæ„é€ æ–¹æ³•æœ€å¤§çš„åŒºåˆ«åœ¨äºç²¾åº¦é—®é¢˜ã€‚

ä½¿ç”¨ BigDecimal(double) æ„é€ æ–¹æ³•æ—¶ï¼Œä¼ å…¥çš„ double å€¼æœ¬èº«å°±å·²ç»å­˜åœ¨ç²¾åº¦ä¸¢å¤±äº†ã€‚æ¯”å¦‚ new BigDecimal(0.3)ï¼Œä½ å¯èƒ½ä»¥ä¸ºå¾—åˆ°çš„æ˜¯ 0.3ï¼Œä½†å®é™…ä¸Šå¾—åˆ°çš„æ˜¯ 0.30000000000000004ï¼Œè¿™æ˜¯å› ä¸º double ç±»å‹éµå¾ª IEEE 754 æ ‡å‡†ï¼Œæ— æ³•ç²¾ç¡®è¡¨ç¤º 0.3ã€‚

è€Œä½¿ç”¨ BigDecimal(String) æ„é€ æ–¹æ³•ï¼Œæ¯”å¦‚ new BigDecimal("0.3")ï¼Œå¾—åˆ°çš„å°±æ˜¯ç²¾ç¡®çš„ 0.3ï¼Œæ ‡åº¦ä¹Ÿæ˜¯ç¬¦åˆé¢„æœŸçš„ 1ã€‚

æ‰€ä»¥åœ¨å®é™…å¼€å‘ä¸­ï¼Œç‰¹åˆ«æ˜¯æ¶‰åŠé‡‘èè®¡ç®—çš„åœºæ™¯ï¼Œæˆ‘ä»¬åº”è¯¥å§‹ç»ˆä½¿ç”¨å­—ç¬¦ä¸²æ„é€ æ–¹æ³•æ¥åˆ›å»º BigDecimal å¯¹è±¡ï¼Œé¿å…ç²¾åº¦é—®é¢˜ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 2.7 ä¸ºä»€ä¹ˆå¯¹ Java ä¸­çš„è´Ÿæ•°å–ç»å¯¹å€¼ç»“æœä¸ä¸€å®šæ˜¯æ­£æ•°ï¼Ÿ

è¿™ä¸ªé—®é¢˜çš„æ ¹æºåœ¨äº Java æ•´æ•°ç±»å‹çš„å–å€¼èŒƒå›´æ˜¯ä¸å¯¹ç§°çš„ã€‚

ä»¥ byte ç±»å‹ä¸ºä¾‹ï¼Œå®ƒçš„å–å€¼èŒƒå›´æ˜¯ [-128, 127]ã€‚ä½ ä¼šå‘ç°è´Ÿæ•°å¯ä»¥è¡¨ç¤ºåˆ° -128ï¼Œä½†æ­£æ•°åªèƒ½è¡¨ç¤ºåˆ° 127ã€‚è¿™æ˜¯å› ä¸ºåœ¨äºŒè¿›åˆ¶è¡¥ç è¡¨ç¤ºæ³•ä¸­ï¼Œ0 å ç”¨äº†ä¸€ä¸ªæ­£æ•°çš„ä½ç½®ï¼Œå¯¼è‡´è´Ÿæ•°æ¯”æ­£æ•°å¤šä¸€ä¸ªã€‚

æ‰€ä»¥å½“æˆ‘ä»¬å¯¹ -128 å–ç»å¯¹å€¼æ—¶ï¼Œç†è®ºä¸Šåº”è¯¥å¾—åˆ° 128ï¼Œä½† 128 è¶…å‡ºäº† byte çš„æœ€å¤§å€¼ 127ï¼Œå°±ä¼šå‘ç”Ÿæº¢å‡ºï¼Œç»“æœè¿˜æ˜¯ -128ã€‚è¿™ä¸ªé—®é¢˜åœ¨æ‰€æœ‰ Java æ•´æ•°ç±»å‹ä¸­éƒ½å­˜åœ¨ã€‚

è§£å†³æ–¹æ³•æ˜¯åœ¨å–ç»å¯¹å€¼ä¹‹å‰ï¼Œå…ˆå°†ç±»å‹å‘ä¸Šè½¬å‹ï¼š

Java

```
byte b = -128;
int abs = Math.abs((int)b);  // ç»“æœæ˜¯ 128ï¼Œæ­£ç¡®
```

æˆ–è€…æ›´å®‰å…¨çš„åšæ³•æ˜¯ï¼Œåœ¨ä¸šåŠ¡é€»è¾‘ä¸­å…ˆåˆ¤æ–­æ˜¯å¦æ˜¯æœ€å°å€¼ï¼Œé¿å…è¿™ç§è¾¹ç•Œæƒ…å†µçš„å‡ºç°ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 2.8 Integer a = 1000, Integer b = 1000, a == b æ˜¯ä»€ä¹ˆç»“æœï¼Ÿå¦‚æœæ˜¯ 100 å‘¢ï¼Ÿ

å½“ aã€b çš„å€¼éƒ½æ˜¯ 1000 æ—¶ï¼Œ`a == b` è¿”å› **false**ï¼›å½“ aã€b çš„å€¼éƒ½æ˜¯ 100 æ—¶ï¼Œ`a == b` è¿”å› **true**ã€‚

è¿™æ˜¯å› ä¸º Integer ç±»å†…éƒ¨æœ‰ä¸€ä¸ªé™æ€å†…éƒ¨ç±» IntegerCacheï¼Œå®ƒä¼šç¼“å­˜ -128 åˆ° 127 ä¹‹é—´çš„ Integer å¯¹è±¡ã€‚å½“æˆ‘ä»¬ä½¿ç”¨è‡ªåŠ¨è£…ç®±åˆ›å»º Integer å¯¹è±¡æ—¶ï¼Œå¦‚æœå€¼åœ¨è¿™ä¸ªèŒƒå›´å†…ï¼Œä¼šç›´æ¥è¿”å›ç¼“å­˜ä¸­çš„å¯¹è±¡ï¼›å¦‚æœè¶…å‡ºè¿™ä¸ªèŒƒå›´ï¼Œåˆ™ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡ã€‚

ç”±äº `==` æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å¼•ç”¨åœ°å€ï¼Œè€Œä¸æ˜¯å¯¹è±¡çš„å€¼ï¼Œæ‰€ä»¥ï¼š

- å½“å€¼ä¸º 100 æ—¶ï¼Œa å’Œ b éƒ½æŒ‡å‘ç¼“å­˜ä¸­çš„åŒä¸€ä¸ªå¯¹è±¡ï¼Œ`a == b` è¿”å› true
    
- å½“å€¼ä¸º 1000 æ—¶ï¼Œa å’Œ b æ˜¯ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡ï¼Œ`a == b` è¿”å› false
    

**ä»£ç ç¤ºä¾‹ï¼š**

Java

```
// å€¼åœ¨ç¼“å­˜èŒƒå›´å†…ï¼ˆ-128 åˆ° 127ï¼‰
Integer a = 100;
Integer b = 100;
System.out.println(a == b);  // trueï¼ŒæŒ‡å‘åŒä¸€ä¸ªç¼“å­˜å¯¹è±¡

// å€¼è¶…å‡ºç¼“å­˜èŒƒå›´
Integer c = 1000;
Integer d = 1000;
System.out.println(c == d);  // falseï¼Œåˆ›å»ºäº†ä¸¤ä¸ªä¸åŒçš„å¯¹è±¡

// ä½¿ç”¨ equals æ¯”è¾ƒå€¼
System.out.println(c.equals(d));  // trueï¼Œæ¯”è¾ƒçš„æ˜¯å€¼
```

**IntegerCache çš„å®ç°ï¼š**

Java

```
private static class IntegerCache {
    static final int low = -128;
    static final int high = 127;
    static final Integer cache[];

    static {
        // åˆ›å»ºç¼“å­˜æ•°ç»„
        cache = new Integer[(high - low) + 1];
        int j = low;
        for(int k = 0; k < cache.length; k++)
            cache[k] = new Integer(j++);
    }
}

public static Integer valueOf(int i) {
    // å¦‚æœåœ¨ç¼“å­˜èŒƒå›´å†…ï¼Œè¿”å›ç¼“å­˜å¯¹è±¡
    if (i >= IntegerCache.low && i <= IntegerCache.high)
        return IntegerCache.cache[i + (-IntegerCache.low)];
    // å¦åˆ™åˆ›å»ºæ–°å¯¹è±¡
    return new Integer(i);
}
```

**é‡è¦æé†’ï¼š**

1. **æ¯”è¾ƒ Integer çš„å€¼åº”è¯¥ç”¨ equals**ï¼Œè€Œä¸æ˜¯ `==`ï¼Œå› ä¸º `==` æ¯”è¾ƒçš„æ˜¯å¼•ç”¨åœ°å€
    
2. **å…¶ä»–åŒ…è£…ç±»ä¹Ÿæœ‰ç±»ä¼¼çš„ç¼“å­˜æœºåˆ¶**ï¼š
    
    - Byteã€Shortã€Integerã€Longï¼šç¼“å­˜ -128 åˆ° 127
        
    - Characterï¼šç¼“å­˜ 0 åˆ° 127
        
    - Booleanï¼šç¼“å­˜ true å’Œ false
        
3. **è‡ªåŠ¨è£…ç®±ä¼šè°ƒç”¨ valueOf æ–¹æ³•**ï¼Œæ‰€ä»¥ä¼šä½¿ç”¨ç¼“å­˜
    
4. **ä½¿ç”¨ new Integer() ä¸ä¼šä½¿ç”¨ç¼“å­˜**ï¼Œæ€»æ˜¯åˆ›å»ºæ–°å¯¹è±¡ï¼ˆä½†è¿™ç§æ–¹å¼å·²è¢«åºŸå¼ƒï¼‰
    

**æœ€ä½³å®è·µï¼š**

Java

```
// æ¨èï¼šä½¿ç”¨ equals æ¯”è¾ƒå€¼
Integer a = 1000;
Integer b = 1000;
if (a.equals(b)) {  // æ­£ç¡®
    System.out.println("å€¼ç›¸ç­‰");
}

// ä¸æ¨èï¼šä½¿ç”¨ == æ¯”è¾ƒåŒ…è£…ç±»
if (a == b) {  // é”™è¯¯ï¼å¯èƒ½å¾—åˆ°æ„å¤–ç»“æœ
    System.out.println("å¼•ç”¨ç›¸ç­‰");
}

// å¦‚æœéœ€è¦æ¯”è¾ƒå¼•ç”¨ï¼Œåº”è¯¥æ˜ç¡®è¯´æ˜
if (a == b) {
    System.out.println("æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡");
}
```

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 2.9 Java ä¸­çš„æšä¸¾æœ‰ä»€ä¹ˆç‰¹ç‚¹å’Œå¥½å¤„ï¼Ÿ

Java æšä¸¾ï¼ˆEnumï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œç”¨äºå®šä¹‰ä¸€ç»„å›ºå®šçš„å¸¸é‡ã€‚å®ƒæœ‰ä»¥ä¸‹å‡ ä¸ªé‡è¦ç‰¹ç‚¹å’Œå¥½å¤„ï¼š

ç¬¬ä¸€ï¼Œç±»å‹å®‰å…¨ã€‚æšä¸¾æä¾›äº†ç¼–è¯‘æœŸçš„ç±»å‹æ£€æŸ¥ï¼Œåªèƒ½ä½¿ç”¨é¢„å®šä¹‰çš„æšä¸¾å€¼ï¼Œä¸èƒ½ä¼ å…¥å…¶ä»–å€¼ã€‚ç›¸æ¯”ä½¿ç”¨ int æˆ– String å¸¸é‡ï¼Œæšä¸¾å¯ä»¥é¿å…ä¼ å…¥éæ³•å€¼çš„é—®é¢˜ã€‚æ¯”å¦‚å®šä¹‰ä¸€ä¸ªè¡¨ç¤ºæ˜ŸæœŸçš„æšä¸¾ï¼Œæ–¹æ³•å‚æ•°åªèƒ½æ¥æ”¶ MONDAYã€TUESDAY ç­‰é¢„å®šä¹‰çš„å€¼ï¼Œè€Œä¸ä¼šå‡ºç°ä¼ å…¥ 8 æˆ– "æ˜ŸæœŸå…«" è¿™ç§é”™è¯¯ã€‚

ç¬¬äºŒï¼Œå¯æ‰©å±•æ€§å¼ºã€‚æšä¸¾ä¸ä»…å¯ä»¥å®šä¹‰å¸¸é‡ï¼Œè¿˜å¯ä»¥æœ‰è‡ªå·±çš„å±æ€§ã€æ„é€ æ–¹æ³•å’Œæ™®é€šæ–¹æ³•ã€‚æ¯”å¦‚å¯ä»¥ç»™æ¯ä¸ªæšä¸¾å€¼å…³è”ä¸€ä¸ªæè¿°ä¿¡æ¯æˆ–ç¼–ç ï¼Œè¿˜å¯ä»¥å®šä¹‰ä¸šåŠ¡æ–¹æ³•ã€‚è¿™è®©æšä¸¾ä¸åªæ˜¯ç®€å•çš„å¸¸é‡ï¼Œè€Œæ˜¯åŠŸèƒ½å®Œæ•´çš„å¯¹è±¡ã€‚

ç¬¬ä¸‰ï¼Œå¤©ç„¶çš„å•ä¾‹æ¨¡å¼ã€‚æ¯ä¸ªæšä¸¾å€¼åœ¨ JVM ä¸­åªä¼šå­˜åœ¨ä¸€ä¸ªå®ä¾‹ï¼Œç”± JVM ä¿è¯çº¿ç¨‹å®‰å…¨å’Œå•ä¾‹ç‰¹æ€§ã€‚è¿™ä½¿å¾—æšä¸¾æˆä¸ºå®ç°å•ä¾‹æ¨¡å¼æœ€ç®€å•ã€æœ€å®‰å…¨çš„æ–¹å¼ï¼Œä¸éœ€è¦è€ƒè™‘çº¿ç¨‹åŒæ­¥ã€åºåˆ—åŒ–ã€åå°„ç­‰é—®é¢˜ã€‚

ç¬¬å››ï¼Œå¯ä»¥ç”¨äº switch è¯­å¥ã€‚æšä¸¾å¯ä»¥ç›´æ¥åœ¨ switch ä¸­ä½¿ç”¨ï¼Œä»£ç æ›´æ¸…æ™°æ˜“è¯»ã€‚

ç¬¬äº”ï¼Œæä¾›äº†å®ç”¨æ–¹æ³•ã€‚æšä¸¾è‡ªåŠ¨ç»§æ‰¿ java.lang.Enum ç±»ï¼Œæä¾›äº† values()ã€valueOf()ã€name()ã€ordinal() ç­‰æ–¹æ³•ï¼Œæ–¹ä¾¿è¿›è¡Œæšä¸¾å€¼çš„éå†å’Œè½¬æ¢ã€‚

æ€»çš„æ¥è¯´ï¼Œæšä¸¾è®©ä»£ç æ›´å®‰å…¨ã€æ›´æ˜“è¯»ã€æ›´æ˜“ç»´æŠ¤ï¼Œæ˜¯å®šä¹‰å›ºå®šå¸¸é‡é›†åˆçš„æœ€ä½³é€‰æ‹©ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 2.10 char èƒ½å­˜å‚¨ä¸­æ–‡å—ï¼Ÿ

char å¯ä»¥å­˜å‚¨ä¸­æ–‡ï¼Œä½†åªèƒ½å­˜å‚¨å¤§éƒ¨åˆ†å¸¸ç”¨ä¸­æ–‡å­—ç¬¦ã€‚

Java ä¸­çš„ char ç±»å‹ä½¿ç”¨ 2 ä¸ªå­—èŠ‚ï¼ˆ16 ä½ï¼‰æ¥å­˜å‚¨ä¸€ä¸ªå­—ç¬¦ï¼Œé‡‡ç”¨ UTF-16 ç¼–ç ã€‚è¿™æ„å‘³ç€ char å¯ä»¥è¡¨ç¤º Unicode åŸºæœ¬å¤šæ–‡ç§å¹³é¢ï¼ˆBMPï¼‰ä¸­çš„å­—ç¬¦ï¼ŒèŒƒå›´æ˜¯ U+0000 åˆ° U+FFFFï¼Œå…± 65536 ä¸ªå­—ç¬¦ã€‚å¤§éƒ¨åˆ†å¸¸ç”¨çš„ä¸­æ–‡æ±‰å­—éƒ½åœ¨è¿™ä¸ªèŒƒå›´å†…ï¼Œæ‰€ä»¥å¯ä»¥æ­£å¸¸å­˜å‚¨ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

Java

```
char c1 = 'ä¸­';
char c2 = 'æ–‡';
System.out.println(c1 + " " + c2);  // è¾“å‡ºï¼šä¸­ æ–‡
```

ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸€äº›ç”Ÿåƒ»å­—ã€emoji è¡¨æƒ…ç¬¦å·ç­‰è¶…å‡ºäº† BMP èŒƒå›´ï¼Œå®ƒä»¬çš„ Unicode ç ç‚¹å¤§äº U+FFFFï¼Œéœ€è¦ç”¨ä¸¤ä¸ª charï¼ˆå³ä¸€ä¸ªä»£ç†å¯¹ï¼‰æ¥è¡¨ç¤ºï¼Œå•ä¸ª char æ— æ³•å­˜å‚¨ã€‚æ¯”å¦‚ emoji "ğŸ˜€" çš„ç ç‚¹æ˜¯ U+1F600ï¼Œè¶…å‡ºäº† char çš„è¡¨ç¤ºèŒƒå›´ã€‚

æ‰€ä»¥å‡†ç¡®çš„è¯´æ³•æ˜¯ï¼šchar å¯ä»¥å­˜å‚¨ Unicode BMP èŒƒå›´å†…çš„å­—ç¬¦ï¼ŒåŒ…æ‹¬ç»å¤§å¤šæ•°å¸¸ç”¨ä¸­æ–‡ï¼Œä½†æ— æ³•å­˜å‚¨è¶…å‡ºè¿™ä¸ªèŒƒå›´çš„ç”Ÿåƒ»å­—å’Œç‰¹æ®Šç¬¦å·ã€‚å¦‚æœéœ€è¦å¤„ç†æ‰€æœ‰ Unicode å­—ç¬¦ï¼Œåº”è¯¥ä½¿ç”¨ String ç±»å‹ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 2.11 å¸¸è§çš„å­—ç¬¦ç¼–ç æœ‰å“ªäº›ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

å¸¸è§çš„å­—ç¬¦ç¼–ç ä¸»è¦æœ‰ ASCIIã€Unicodeã€UTF-8ã€GBK ç­‰ï¼Œå®ƒä»¬å„æœ‰ç‰¹ç‚¹ï¼š

ASCII ç¼–ç ï¼šæœ€æ—©çš„å­—ç¬¦ç¼–ç ï¼Œä½¿ç”¨ 1 ä¸ªå­—èŠ‚ï¼ˆ7 ä½ï¼‰ç¼–ç ï¼Œåªèƒ½è¡¨ç¤º 128 ä¸ªå­—ç¬¦ï¼Œä¸»è¦æ˜¯è‹±æ–‡å­—æ¯ã€æ•°å­—å’Œä¸€äº›ç¬¦å·ã€‚å®ƒæ˜¯å…¶ä»–ç¼–ç çš„åŸºç¡€ã€‚

Unicode ç¼–ç ï¼šè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦é›†æ ‡å‡†ï¼Œä¸æ˜¯å…·ä½“çš„ç¼–ç å®ç°ã€‚å®ƒä¸ºä¸–ç•Œä¸Šå‡ ä¹æ‰€æœ‰çš„å­—ç¬¦éƒ½åˆ†é…äº†ä¸€ä¸ªå”¯ä¸€çš„ç¼–å·ï¼ˆç ç‚¹ï¼‰ï¼Œè§£å†³äº†ä¸åŒç¼–ç ä¹‹é—´çš„å…¼å®¹é—®é¢˜ã€‚ä½† Unicode åªæ˜¯å®šä¹‰äº†å­—ç¬¦å’Œç¼–å·çš„å¯¹åº”å…³ç³»ï¼Œå…·ä½“å¦‚ä½•å­˜å‚¨éœ€è¦ç”± UTF-8ã€UTF-16 ç­‰ç¼–ç æ–¹å¼æ¥å®ç°ã€‚

UTF-8 ç¼–ç ï¼šUnicode çš„ä¸€ç§å˜é•¿ç¼–ç å®ç°ï¼Œä½¿ç”¨ 1 åˆ° 4 ä¸ªå­—èŠ‚æ¥ç¼–ç å­—ç¬¦ã€‚ASCII å­—ç¬¦å  1 ä¸ªå­—èŠ‚ï¼Œå¸¸ç”¨æ±‰å­—å  3 ä¸ªå­—èŠ‚ï¼Œç”Ÿåƒ»å­—æˆ– emoji å  4 ä¸ªå­—èŠ‚ã€‚UTF-8 çš„ä¼˜ç‚¹æ˜¯å…¼å®¹ ASCIIï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´ï¼Œæ˜¯ç›®å‰äº’è”ç½‘ä¸Šä½¿ç”¨æœ€å¹¿æ³›çš„ç¼–ç æ–¹å¼ã€‚

UTF-16 ç¼–ç ï¼šUnicode çš„å¦ä¸€ç§ç¼–ç å®ç°ï¼Œä½¿ç”¨ 2 ä¸ªæˆ– 4 ä¸ªå­—èŠ‚ã€‚Java å†…éƒ¨å°±æ˜¯ä½¿ç”¨ UTF-16 æ¥å­˜å‚¨å­—ç¬¦çš„ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯å¤§éƒ¨åˆ†å¸¸ç”¨å­—ç¬¦éƒ½æ˜¯ 2 ä¸ªå­—èŠ‚ï¼Œè®¿é—®æ•ˆç‡é«˜ï¼Œä½†ä¸å…¼å®¹ ASCIIã€‚

GBK ç¼–ç ï¼šä¸“é—¨ä¸ºä¸­æ–‡è®¾è®¡çš„ç¼–ç ï¼Œä½¿ç”¨ 2 ä¸ªå­—èŠ‚ç¼–ç ä¸€ä¸ªæ±‰å­—ã€‚ç›¸æ¯” UTF-8 çš„ 3 ä¸ªå­—èŠ‚ï¼ŒGBK å­˜å‚¨ä¸­æ–‡æ›´èŠ‚çœç©ºé—´ã€‚ä½†å®ƒåªæ”¯æŒä¸­æ–‡å’Œå°‘é‡å…¶ä»–å­—ç¬¦ï¼Œä¸å¦‚ UTF-8 é€šç”¨ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

---

## ä¸‰ã€ å­—ç¬¦ä¸²ä½“ç³» (String)

### 3.1 Stringã€StringBuilder å’Œ StringBuffer çš„åŒºåˆ«ï¼Ÿ

ä¸»è¦ä»ä¸‰ä¸ªè§’åº¦æ¥è¯´ï¼šå¯å˜æ€§ã€çº¿ç¨‹å®‰å…¨æ€§å’Œæ€§èƒ½ã€‚

é¦–å…ˆæ˜¯å¯å˜æ€§ã€‚String æ˜¯ä¸å¯å˜çš„ï¼Œä¸€æ—¦åˆ›å»ºå°±ä¸èƒ½ä¿®æ”¹ï¼Œæ¯æ¬¡å¯¹ String çš„æ“ä½œå®é™…ä¸Šéƒ½ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡ã€‚è€Œ StringBuilder å’Œ StringBuffer æ˜¯å¯å˜çš„ï¼Œå¯ä»¥åœ¨åŸå¯¹è±¡ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œä¸ä¼šäº§ç”Ÿæ–°å¯¹è±¡ã€‚

å…¶æ¬¡æ˜¯çº¿ç¨‹å®‰å…¨æ€§ã€‚StringBuffer æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå®ƒçš„æ–¹æ³•éƒ½åŠ äº† synchronized å…³é”®å­—ï¼Œæ‰€ä»¥åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å¯ä»¥å®‰å…¨ä½¿ç”¨ã€‚è€Œ String ä¸å¯å˜ï¼Œè¿™ç§ä¸å¯å˜æ€§å¤©ç„¶ä¿è¯äº†çº¿ç¨‹å®‰å…¨ã€‚StringBuilder æ˜¯çº¿ç¨‹ä¸å®‰å…¨çš„ï¼Œå®ƒæ²¡æœ‰åŒæ­¥æœºåˆ¶ï¼Œä¸é€‚åˆåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä½¿ç”¨ã€‚

æœ€åæ˜¯æ€§èƒ½ã€‚æ­£å› ä¸º StringBuffer çš„æ–¹æ³•éƒ½åŠ äº†åŒæ­¥é”ï¼Œæ‰€ä»¥æ€§èƒ½ç›¸å¯¹è¾ƒä½ã€‚StringBuilder æ²¡æœ‰åŒæ­¥å¼€é”€ï¼Œæ€§èƒ½æœ€å¥½ã€‚String ç”±äºä¸å¯å˜ï¼Œé¢‘ç¹æ“ä½œä¼šäº§ç”Ÿå¤§é‡ä¸´æ—¶å¯¹è±¡ï¼Œæ€§èƒ½æœ€å·®ã€‚

ä½¿ç”¨å»ºè®®ï¼šå•çº¿ç¨‹ç¯å¢ƒä¸‹é¢‘ç¹å­—ç¬¦ä¸²æ‹¼æ¥ç”¨ StringBuilderï¼Œå¤šçº¿ç¨‹ç¯å¢ƒä¸‹éœ€è¦å­—ç¬¦ä¸²æ‹¼æ¥ç”¨ StringBufferï¼Œå­—ç¬¦ä¸²å†…å®¹ä¸å˜æˆ–å¶å°”æ‹¼æ¥ç”¨ String å°±å¤Ÿäº†ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 3.2 String ä¸ºä»€ä¹ˆè®¾è®¡æˆä¸å¯å˜çš„ï¼Ÿ

String è®¾è®¡æˆä¸å¯å˜ä¸»è¦æ˜¯å‡ºäºä»¥ä¸‹å‡ ä¸ªæ–¹é¢çš„è€ƒè™‘ï¼š

ç¬¬ä¸€ï¼Œæ”¯æŒå­—ç¬¦ä¸²å¸¸é‡æ± ã€‚Java ä¸­æœ‰å­—ç¬¦ä¸²å¸¸é‡æ± çš„æ¦‚å¿µï¼Œå¤šä¸ªå¼•ç”¨å¯ä»¥æŒ‡å‘æ± ä¸­çš„åŒä¸€ä¸ªå­—ç¬¦ä¸²å¯¹è±¡ã€‚å¦‚æœ String æ˜¯å¯å˜çš„ï¼Œé‚£ä¹ˆä¸€ä¸ªå¼•ç”¨ä¿®æ”¹äº†å­—ç¬¦ä¸²å†…å®¹ï¼Œå…¶ä»–å¼•ç”¨æŒ‡å‘çš„å†…å®¹ä¹Ÿä¼šè·Ÿç€å˜åŒ–ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸å¯æ¥å—çš„ã€‚åªæœ‰ä¸å¯å˜ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± æ‰æœ‰æ„ä¹‰ï¼Œæ‰èƒ½å®ç°å­—ç¬¦ä¸²çš„å¤ç”¨ï¼ŒèŠ‚çœå†…å­˜ã€‚

ç¬¬äºŒï¼Œä¿è¯å®‰å…¨æ€§ã€‚String ç»å¸¸è¢«ç”¨ä½œå‚æ•°ä¼ é€’ï¼Œæ¯”å¦‚ç½‘ç»œè¿æ¥ã€æ–‡ä»¶è·¯å¾„ã€æ•°æ®åº“è¿æ¥ç­‰æ•æ„Ÿæ“ä½œã€‚å¦‚æœ String æ˜¯å¯å˜çš„ï¼Œåœ¨ä¼ é€’è¿‡ç¨‹ä¸­å†…å®¹å¯èƒ½è¢«ç¯¡æ”¹ï¼Œä¼šå¸¦æ¥ä¸¥é‡çš„å®‰å…¨éšæ‚£ã€‚ä¸å¯å˜æ€§è®©æˆ‘ä»¬å¯ä»¥æ”¾å¿ƒåœ°ä¼ é€’å’Œä½¿ç”¨å­—ç¬¦ä¸²ã€‚

ç¬¬ä¸‰ï¼Œå¤©ç„¶çš„çº¿ç¨‹å®‰å…¨ã€‚å› ä¸º String å¯¹è±¡åˆ›å»ºåå†…å®¹ä¸èƒ½æ”¹å˜ï¼Œæ‰€ä»¥å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®åŒä¸€ä¸ª String å¯¹è±¡æ—¶ï¼Œä¸éœ€è¦ä»»ä½•åŒæ­¥æœºåˆ¶ï¼Œå¤©ç„¶å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚

ç¬¬å››ï¼Œæ”¯æŒ hashCode ç¼“å­˜ã€‚String ç±»ä¸­æœ‰ä¸€ä¸ª hash å­—æ®µç”¨æ¥ç¼“å­˜ hashCode å€¼ã€‚å› ä¸ºå†…å®¹ä¸å¯å˜ï¼Œæ‰€ä»¥ hashCode åªéœ€è¦è®¡ç®—ä¸€æ¬¡å°±å¯ä»¥ç¼“å­˜èµ·æ¥ï¼Œåç»­ç›´æ¥ä½¿ç”¨ã€‚è¿™å¯¹äº String ä½œä¸º HashMap çš„ key ç­‰åœºæ™¯éå¸¸é‡è¦ï¼Œèƒ½æ˜¾è‘—æå‡æ€§èƒ½ã€‚

ç¬¬äº”ï¼Œæ•´ä½“æ€§èƒ½ä¼˜åŒ–ã€‚æ­£æ˜¯å› ä¸ºæœ‰äº†å­—ç¬¦ä¸²å¸¸é‡æ± å’Œ hashCode ç¼“å­˜è¿™äº›æœºåˆ¶ï¼ŒString ç±»åœ¨å®é™…ä½¿ç”¨ä¸­çš„æ€§èƒ½è¡¨ç°éå¸¸å¥½ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 3.3 String æ˜¯å¦‚ä½•å®ç°ä¸å¯å˜çš„ï¼Ÿ

String çš„ä¸å¯å˜æ€§æ˜¯é€šè¿‡å¤šå±‚é˜²æŠ¤æœºåˆ¶æ¥ä¿è¯çš„ï¼š

**ç¬¬ä¸€ï¼Œç±»è¢« final ä¿®é¥°**ã€‚String ç±»è¢«å£°æ˜ä¸º finalï¼Œè¿™æ„å‘³ç€å®ƒä¸èƒ½è¢«ç»§æ‰¿ï¼Œé˜²æ­¢å­ç±»é‡å†™æ–¹æ³•æ¥ç ´åä¸å¯å˜æ€§ã€‚å¦‚æœå…è®¸ç»§æ‰¿ï¼Œå­ç±»å¯èƒ½ä¼šé‡å†™æ–¹æ³•æ¥ä¿®æ”¹å†…éƒ¨çŠ¶æ€ã€‚

**ç¬¬äºŒï¼Œå†…éƒ¨æ•°ç»„è¢« final ä¿®é¥°**ã€‚åœ¨ JDK 9 ä¹‹å‰ï¼ŒString å†…éƒ¨ä½¿ç”¨ `private final char[] value` å­˜å‚¨å­—ç¬¦ï¼›JDK 9 ä¹‹åæ”¹ä¸º `private final byte[] value`ã€‚final å…³é”®å­—ä¿è¯äº†æ•°ç»„å¼•ç”¨ä¸èƒ½è¢«ä¿®æ”¹ï¼Œå³ä¸èƒ½æŒ‡å‘å…¶ä»–æ•°ç»„ã€‚

**ç¬¬ä¸‰ï¼Œæ²¡æœ‰æä¾›ä¿®æ”¹æ–¹æ³•**ã€‚String ç±»æ²¡æœ‰æä¾›ä»»ä½•å¯ä»¥ä¿®æ”¹å†…éƒ¨æ•°ç»„å†…å®¹çš„ public æ–¹æ³•ï¼Œæ‰€æœ‰çœ‹èµ·æ¥"ä¿®æ”¹"å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼ˆå¦‚ substringã€concatã€replaceï¼‰å®é™…ä¸Šéƒ½æ˜¯åˆ›å»ºå¹¶è¿”å›æ–°çš„ String å¯¹è±¡ï¼ŒåŸå­—ç¬¦ä¸²ä¿æŒä¸å˜ã€‚

**ç¬¬å››ï¼Œå†…éƒ¨æ•°ç»„ç§æœ‰ä¸”ä¸æš´éœ²**ã€‚value æ•°ç»„è¢«å£°æ˜ä¸º privateï¼Œå¤–éƒ¨æ— æ³•ç›´æ¥è®¿é—®ã€‚å³ä½¿æœ‰è¿”å›å­—ç¬¦æ•°ç»„çš„æ–¹æ³•ï¼ˆå¦‚ toCharArrayï¼‰ï¼Œä¹Ÿæ˜¯è¿”å›æ•°ç»„çš„å‰¯æœ¬ï¼Œè€Œä¸æ˜¯åŸæ•°ç»„çš„å¼•ç”¨ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

Java

```
String s1 = "hello";
String s2 = s1.concat(" world");  // åˆ›å»ºæ–°å¯¹è±¡
System.out.println(s1);  // è¾“å‡º "hello"ï¼ŒåŸå­—ç¬¦ä¸²æœªæ”¹å˜
System.out.println(s2);  // è¾“å‡º "hello world"
```

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶ final ä¿®é¥°äº†æ•°ç»„å¼•ç”¨ï¼Œä½†å¦‚æœèƒ½è·å–åˆ°æ•°ç»„çš„å¼•ç”¨ï¼Œç†è®ºä¸Šè¿˜æ˜¯å¯ä»¥ä¿®æ”¹æ•°ç»„å†…å®¹çš„ã€‚æ‰€ä»¥ String é€šè¿‡ private è®¿é—®æ§åˆ¶å’Œä¸æä¾›ä¿®æ”¹æ–¹æ³•ï¼Œç¡®ä¿äº†å¤–éƒ¨æ— æ³•è·å–å’Œä¿®æ”¹å†…éƒ¨æ•°ç»„ã€‚

è¿™ç§å¤šå±‚é˜²æŠ¤çš„è®¾è®¡ï¼Œä»ç±»ã€å­—æ®µã€æ–¹æ³•ã€è®¿é—®æ§åˆ¶ç­‰å¤šä¸ªç»´åº¦ä¿è¯äº† String çš„ä¸å¯å˜æ€§ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 3.4 String str = new String("zhc") åˆ›å»ºäº†å‡ ä¸ªå¯¹è±¡ï¼Ÿ

åˆ†ä¸¤ç§æƒ…å†µï¼š

æƒ…å†µä¸€ï¼šå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å·²ç»å­˜åœ¨ "zhc"

è¿™ç§æƒ…å†µä¸‹åªä¼šåˆ›å»º 1 ä¸ªå¯¹è±¡ï¼Œå°±æ˜¯é€šè¿‡ new å…³é”®å­—åœ¨å †å†…å­˜ä¸­åˆ›å»ºçš„ String å¯¹è±¡ã€‚å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„ "zhc" å·²ç»å­˜åœ¨ï¼Œä¸éœ€è¦å†åˆ›å»ºã€‚

æƒ…å†µäºŒï¼šå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ä¸å­˜åœ¨ "zhc"

è¿™ç§æƒ…å†µä¸‹ä¼šåˆ›å»º 2 ä¸ªå¯¹è±¡ï¼šç¬¬ä¸€ä¸ªå¯¹è±¡æ˜¯åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­åˆ›å»ºå­—ç¬¦ä¸²å­—é¢é‡ "zhc"ï¼Œç¬¬äºŒä¸ªå¯¹è±¡æ˜¯é€šè¿‡ new å…³é”®å­—åœ¨å †å†…å­˜ä¸­åˆ›å»º String å¯¹è±¡ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸¤ä¸ªå¯¹è±¡æ˜¯ä¸åŒçš„ã€‚å †ä¸­çš„ String å¯¹è±¡ä¼šå¼•ç”¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„ "zhc"ï¼Œä½†å®ƒä»¬çš„å†…å­˜åœ°å€æ˜¯ä¸åŒçš„ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 3.5 String a = "ab"; String b = "a" + "b"; a == b å—ï¼Ÿ

ç­”æ¡ˆæ˜¯ trueï¼Œa == bã€‚

è¿™é‡Œè§¦å‘äº† Java ç¼–è¯‘å™¨éå¸¸é‡è¦çš„ä¼˜åŒ–â€”â€”å¸¸é‡æŠ˜å ï¼ˆConstant Foldingï¼‰ã€‚

å½“æˆ‘ä»¬å†™ String b = "a" + "b" æ—¶ï¼Œå› ä¸º "a" å’Œ "b" éƒ½æ˜¯å­—ç¬¦ä¸²å­—é¢é‡å¸¸é‡ï¼Œç¼–è¯‘å™¨åœ¨ç¼–è¯‘é˜¶æ®µå°±ä¼šå°†è¿™ä¸ªè¡¨è¾¾å¼ä¼˜åŒ–ä¸º String b = "ab"ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç¼–è¯‘åçš„å­—èŠ‚ç ä¸­ï¼Œè¿™ä¸¤è¡Œä»£ç å®é™…ä¸Šæ˜¯ä¸€æ ·çš„ã€‚

ç”±äºéƒ½æ˜¯å­—ç¬¦ä¸²å­—é¢é‡ï¼Œå®ƒä»¬éƒ½ä¼šè¢«æ”¾å…¥å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ã€‚æ ¹æ®å­—ç¬¦ä¸²å¸¸é‡æ± çš„æœºåˆ¶ï¼Œç›¸åŒå†…å®¹çš„å­—ç¬¦ä¸²åªä¼šå­˜åœ¨ä¸€ä»½ï¼Œæ‰€ä»¥ a å’Œ b å®é™…ä¸ŠæŒ‡å‘çš„æ˜¯å¸¸é‡æ± ä¸­åŒä¸€ä¸ª "ab" å¯¹è±¡ã€‚

å› ä¸º == æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å¼•ç”¨åœ°å€ï¼Œè€Œ a å’Œ b æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥ a == b è¿”å› trueã€‚

éœ€è¦æ³¨æ„çš„å¯¹æ¯”æƒ…å†µï¼šå¦‚æœæ¶‰åŠå˜é‡æ‹¼æ¥ï¼Œç»“æœå°±ä¸åŒäº†ï¼š

Java

```
String s1 = "a";
String s2 = "b";
String c = s1 + s2;  // å˜é‡æ‹¼æ¥ï¼Œä¼šåœ¨å †ä¸­åˆ›å»ºæ–°å¯¹è±¡
String a = "ab";
System.out.println(a == c);  // falseï¼Œå› ä¸º c æŒ‡å‘å †ï¼Œa æŒ‡å‘å¸¸é‡æ± 
```

è¿™æ˜¯å› ä¸ºå˜é‡æ‹¼æ¥åœ¨ç¼–è¯‘æœŸæ— æ³•ç¡®å®šå€¼ï¼Œåªèƒ½åœ¨è¿è¡Œæ—¶é€šè¿‡ StringBuilder æ¥å®Œæˆï¼Œä¼šåˆ›å»ºæ–°çš„å¯¹è±¡ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 3.6 å­—ç¬¦ä¸²å¸¸é‡æ˜¯ä»€ä¹ˆæ—¶å€™è¿›å…¥åˆ°å­—ç¬¦ä¸²å¸¸é‡æ± çš„ï¼Ÿ

å­—ç¬¦ä¸²å¸¸é‡è¿›å…¥å­—ç¬¦ä¸²å¸¸é‡æ± ä¸»è¦æœ‰ä¸¤ç§æ—¶æœºï¼š

**ç¬¬ä¸€ç§ï¼šç¼–è¯‘æœŸ + ç±»åŠ è½½æ—¶**

å­—ç¬¦ä¸²å­—é¢é‡åœ¨ç¼–è¯‘åä¼šè¿›å…¥å­—èŠ‚ç æ–‡ä»¶çš„å¸¸é‡æ± ï¼ˆClass æ–‡ä»¶å¸¸é‡æ± ï¼‰ã€‚å½“ç±»è¢«åŠ è½½æ—¶ï¼Œè¿™äº›å­—ç¬¦ä¸²å¸¸é‡ä¼šä»å­—èŠ‚ç çš„å¸¸é‡æ± å¤åˆ¶åˆ°è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆå­—ç¬¦ä¸²å¸¸é‡æ± ï¼‰ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

Java

```
String s1 = "hello";  // "hello" åœ¨ç¼–è¯‘æ—¶è¿›å…¥ class æ–‡ä»¶å¸¸é‡æ± 
                      // ç±»åŠ è½½æ—¶è¿›å…¥å­—ç¬¦ä¸²å¸¸é‡æ± 
```

**ç¬¬äºŒç§ï¼šè¿è¡ŒæœŸæ‰‹åŠ¨æ·»åŠ **

åœ¨è¿è¡ŒæœŸï¼Œå¯ä»¥é€šè¿‡ `String.intern()` æ–¹æ³•æ‰‹åŠ¨å°†å­—ç¬¦ä¸²å¯¹è±¡æ·»åŠ åˆ°å­—ç¬¦ä¸²å¸¸é‡æ± ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

Java

```
String s1 = new String("hello");  // åœ¨å †ä¸­åˆ›å»ºå¯¹è±¡
String s2 = s1.intern();  // æ‰‹åŠ¨å°† "hello" æ·»åŠ åˆ°å­—ç¬¦ä¸²å¸¸é‡æ± 
                          // å¦‚æœå¸¸é‡æ± ä¸­å·²å­˜åœ¨ï¼Œåˆ™è¿”å›å¸¸é‡æ± ä¸­çš„å¼•ç”¨
```

**intern() æ–¹æ³•çš„è¡Œä¸ºï¼š**

- å¦‚æœå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­å·²ç»å­˜åœ¨è¯¥å­—ç¬¦ä¸²ï¼Œç›´æ¥è¿”å›å¸¸é‡æ± ä¸­çš„å¼•ç”¨
    
- å¦‚æœå­—ç¬¦ä¸²å¸¸é‡æ± ä¸­ä¸å­˜åœ¨è¯¥å­—ç¬¦ä¸²ï¼Œå°†å…¶æ·»åŠ åˆ°å¸¸é‡æ± ï¼Œå¹¶è¿”å›å¸¸é‡æ± ä¸­çš„å¼•ç”¨
    

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 3.7 String ä¸­ intern çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ

(å¾…è¡¥å……)

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 3.8 String æœ‰é•¿åº¦é™åˆ¶å—ï¼Ÿæ˜¯å¤šå°‘ï¼Ÿ

String æ˜¯æœ‰é•¿åº¦é™åˆ¶çš„ï¼Œè€Œä¸”åœ¨ç¼–è¯‘æœŸå’Œè¿è¡ŒæœŸçš„é™åˆ¶æ˜¯ä¸ä¸€æ ·çš„ã€‚

ç¼–è¯‘æœŸé™åˆ¶ï¼š65534 å­—ç¬¦

åœ¨ç¼–è¯‘æœŸï¼Œå­—ç¬¦ä¸²å­—é¢é‡çš„é•¿åº¦å—åˆ° class æ–‡ä»¶æ ¼å¼çš„é™åˆ¶ã€‚åœ¨ class æ–‡ä»¶çš„å¸¸é‡æ± ä¸­ï¼Œå­—ç¬¦ä¸²å¸¸é‡ä½¿ç”¨ CONSTANT_Utf8_info ç»“æ„å­˜å‚¨ï¼Œå…¶ä¸­é•¿åº¦å­—æ®µæ˜¯ u2 ç±»å‹ï¼Œå  2 ä¸ªå­—èŠ‚ï¼Œæ‰€ä»¥ç†è®ºä¸Šæœ€å¤§å€¼æ˜¯ 2^16-1 = 65535ã€‚å¦‚æœä½ åœ¨ä»£ç ä¸­å†™ä¸€ä¸ªè¶…è¿‡è¿™ä¸ªé•¿åº¦çš„å­—ç¬¦ä¸²å­—é¢é‡ï¼Œç¼–è¯‘å™¨ä¼šç›´æ¥æŠ¥é”™ï¼š"constant string too long"ã€‚

è¿è¡ŒæœŸé™åˆ¶ï¼š2^31-1 å­—ç¬¦

åœ¨è¿è¡ŒæœŸï¼ŒString çš„é•¿åº¦é™åˆ¶å–å†³äº String ç±»çš„å®ç°ã€‚String å†…éƒ¨ä½¿ç”¨ char æ•°ç»„ï¼ˆJava 9 ä¹‹åæ˜¯ byte æ•°ç»„ï¼‰æ¥å­˜å‚¨å­—ç¬¦ï¼Œè€Œæ•°ç»„çš„æœ€å¤§é•¿åº¦æ˜¯ Integer.MAX_VALUEï¼Œä¹Ÿå°±æ˜¯ 2^31-1 = 2147483647ã€‚

æ‰€ä»¥ç†è®ºä¸Šè¿è¡Œæ—¶å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒ…å«çº¦ 21 äº¿ä¸ªå­—ç¬¦çš„ String å¯¹è±¡ï¼Œä½†å®é™…ä¸Šä¼šå—åˆ° JVM å †å†…å­˜å¤§å°çš„é™åˆ¶ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 3.9 ä¸ºä»€ä¹ˆ JDK 9 ä¸­æŠŠ String çš„ char[] æ”¹æˆäº† byte[]ï¼Ÿ

ä¸»è¦æ˜¯ä¸ºäº†èŠ‚çœå†…å­˜ç©ºé—´ï¼Œæå‡æ€§èƒ½ã€‚

åœ¨ JDK 9 ä¹‹å‰ï¼ŒString å†…éƒ¨ä½¿ç”¨ char[] æ•°ç»„å­˜å‚¨å­—ç¬¦ï¼Œæ¯ä¸ª char å ç”¨ 2 ä¸ªå­—èŠ‚ã€‚ä½†å®é™…åº”ç”¨ä¸­ï¼Œå¤§éƒ¨åˆ†å­—ç¬¦ä¸²éƒ½æ˜¯ Latin-1 å­—ç¬¦ï¼ˆå¦‚è‹±æ–‡ã€æ•°å­—ã€å¸¸è§ç¬¦å·ï¼‰ï¼Œè¿™äº›å­—ç¬¦ç”¨ 1 ä¸ªå­—èŠ‚å°±èƒ½è¡¨ç¤ºï¼Œç”¨ 2 ä¸ªå­—èŠ‚å­˜å‚¨é€ æˆäº† 50% çš„å†…å­˜æµªè´¹ã€‚

JDK 9 å¼•å…¥äº†**ç´§å‡‘å­—ç¬¦ä¸²ï¼ˆCompact Stringsï¼‰**çš„æ¦‚å¿µï¼Œå°† String çš„å†…éƒ¨å­˜å‚¨ä» char[] æ”¹ä¸º byte[]ï¼Œå¹¶æ–°å¢äº†ä¸€ä¸ª coder å­—æ®µæ¥æ ‡è¯†ç¼–ç æ–¹å¼ï¼š

- **coder = LATIN1ï¼ˆ0ï¼‰**ï¼šè¡¨ç¤ºå­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯ Latin-1 å­—ç¬¦ï¼Œæ¯ä¸ªå­—èŠ‚å­˜å‚¨ä¸€ä¸ªå­—ç¬¦ï¼ŒèŠ‚çœä¸€åŠå†…å­˜
    
- **coder = UTF16ï¼ˆ1ï¼‰**ï¼šè¡¨ç¤ºå­—ç¬¦ä¸²åŒ…å«é Latin-1 å­—ç¬¦ï¼ˆå¦‚ä¸­æ–‡ï¼‰ï¼Œæ¯ä¸¤ä¸ªå­—èŠ‚å­˜å‚¨ä¸€ä¸ªå­—ç¬¦ï¼Œå’Œä¹‹å‰çš„ char[] æ•ˆæœä¸€æ ·
    

ä¸¾ä¸ªä¾‹å­ï¼š

Java

```
String s1 = "hello";  // åªéœ€ 5 å­—èŠ‚ï¼Œcoder = LATIN1
String s2 = "ä½ å¥½";   // éœ€è¦ 4 å­—èŠ‚ï¼ˆ2ä¸ªå­—ç¬¦Ã—2å­—èŠ‚ï¼‰ï¼Œcoder = UTF16
```

è¿™ä¸ªæ”¹è¿›å¸¦æ¥çš„å¥½å¤„ï¼š

1. å†…å­˜å ç”¨å‡å°‘ï¼šå¯¹äºçº¯ ASCII æˆ– Latin-1 å­—ç¬¦ä¸²ï¼Œå†…å­˜å ç”¨å‡åŠ
    
2. GC å‹åŠ›é™ä½ï¼šString å¯¹è±¡å˜å°ï¼Œåƒåœ¾å›æ”¶æ•ˆç‡æå‡
    
3. ç¼“å­˜å‹å¥½ï¼šæ›´å°çš„å¯¹è±¡æ„å‘³ç€æ›´å¥½çš„ CPU ç¼“å­˜å‘½ä¸­ç‡
    

æ ¹æ®ç»Ÿè®¡ï¼Œå¤§éƒ¨åˆ† Java åº”ç”¨ä¸­çš„å­—ç¬¦ä¸²éƒ½æ˜¯ Latin-1 å­—ç¬¦ï¼Œæ‰€ä»¥è¿™ä¸ªä¼˜åŒ–å¯¹æ•´ä½“æ€§èƒ½æå‡æ˜æ˜¾ã€‚è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„ç©ºé—´æ¢æ—¶é—´çš„ä¼˜åŒ–æ¡ˆä¾‹ï¼Œé€šè¿‡å¢åŠ ä¸€ä¸ª coder å­—æ®µçš„å¼€é”€ï¼Œæ¢æ¥äº†å¤§é‡çš„å†…å­˜èŠ‚çœã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 3.10 JDK 9 ä¸­å¯¹å­—ç¬¦ä¸²æ‹¼æ¥åšäº†ä»€ä¹ˆä¼˜åŒ–ï¼Ÿ

JDK 9 å¼•å…¥äº†ä¸€ä¸ªé‡è¦çš„å­—ç¬¦ä¸²æ‹¼æ¥ä¼˜åŒ–ï¼Œå°†æ‹¼æ¥ç­–ç•¥ä»ç¼–è¯‘æœŸå›ºå®šæ”¹ä¸ºè¿è¡ŒæœŸåŠ¨æ€é€‰æ‹©ï¼Œè¿™ä¸ªä¼˜åŒ–è¢«ç§°ä¸º **Indify String Concatenation**ï¼ˆåŠ¨æ€å­—ç¬¦ä¸²æ‹¼æ¥ï¼‰ã€‚

---

**JDK 8 åŠä¹‹å‰çš„åšæ³•**

åœ¨ JDK 8 åŠä¹‹å‰ï¼Œç¼–è¯‘å™¨ä¼šåœ¨ç¼–è¯‘æœŸå°†å­—ç¬¦ä¸²æ‹¼æ¥æ“ä½œç›´æ¥è½¬æ¢ä¸º StringBuilder çš„è°ƒç”¨ã€‚

**JDK 8 çš„é—®é¢˜ï¼š**

1. **ç­–ç•¥å›ºå®š**ï¼šç¼–è¯‘å™¨åœ¨ç¼–è¯‘æœŸå°±å†³å®šäº†ä½¿ç”¨ StringBuilderï¼Œæ— æ³•æ ¹æ®è¿è¡Œæ—¶çš„å®é™…æƒ…å†µä¼˜åŒ–
    
2. **æ— æ³•é€‚åº”å˜åŒ–**ï¼šå¦‚æœæœªæ¥æœ‰æ›´å¥½çš„æ‹¼æ¥å®ç°ï¼ˆå¦‚ Java 9 çš„ç´§å‡‘å­—ç¬¦ä¸²ï¼‰ï¼Œéœ€è¦é‡æ–°ç¼–è¯‘ä»£ç æ‰èƒ½ä½¿ç”¨
    
3. **ä¼˜åŒ–ç©ºé—´æœ‰é™**ï¼šç¼–è¯‘å™¨æ— æ³•æ ¹æ®å­—ç¬¦ä¸²çš„ç‰¹ç‚¹ï¼ˆé•¿åº¦ã€ç±»å‹ç­‰ï¼‰é€‰æ‹©æœ€ä¼˜ç­–ç•¥
    

---

**JDK 9 çš„ä¼˜åŒ–**

JDK 9 ä½¿ç”¨ **invokedynamic** æŒ‡ä»¤å’Œ **StringConcatFactory** å°†æ‹¼æ¥ç­–ç•¥æ¨è¿Ÿåˆ°è¿è¡ŒæœŸå†³å®šã€‚ç¼–è¯‘åç”Ÿæˆ invokedynamic æŒ‡ä»¤ï¼Œè¿è¡Œæ—¶ç”± StringConcatFactory åŠ¨æ€é€‰æ‹©æ‹¼æ¥ç­–ç•¥ã€‚

**è¿è¡Œæ—¶çš„ç­–ç•¥é€‰æ‹©ï¼š**

JDK 9 çš„ `StringConcatFactory` å¯ä»¥æ ¹æ®å­—ç¬¦ä¸²çš„ç‰¹ç‚¹åŠ¨æ€é€‰æ‹©æœ€ä¼˜çš„æ‹¼æ¥æ–¹å¼ï¼š

1. **ç®€å•æ‹¼æ¥**ï¼šç›´æ¥ä½¿ç”¨å­—èŠ‚æ•°ç»„æ‹·è´ï¼Œé¿å…åˆ›å»º StringBuilder å¯¹è±¡
    
2. **å¤æ‚æ‹¼æ¥**ï¼šä½¿ç”¨ StringBuilder æˆ–å…¶ä»–é«˜æ•ˆæ–¹å¼
    
3. **å¸¸é‡æŠ˜å **ï¼šå¯¹äºç¼–è¯‘æœŸå¯ç¡®å®šçš„å¸¸é‡ï¼Œç›´æ¥åˆå¹¶
    
4. **ç´§å‡‘å­—ç¬¦ä¸²ä¼˜åŒ–**ï¼šåˆ©ç”¨ JDK 9 çš„ç´§å‡‘å­—ç¬¦ä¸²ç‰¹æ€§ï¼ˆLatin-1 ç¼–ç ï¼‰
    

---

**ä¼˜åŒ–å¸¦æ¥çš„å¥½å¤„**

**1. æ€§èƒ½æå‡**

æ ¹æ®å­—ç¬¦ä¸²ç‰¹ç‚¹é€‰æ‹©æœ€ä¼˜ç­–ç•¥ï¼Œé¿å…ä¸å¿…è¦çš„å¯¹è±¡åˆ›å»ºï¼š

Java

```
// ç®€å•æ‹¼æ¥ï¼šJDK 9 å¯ä»¥ç›´æ¥ä½¿ç”¨å­—èŠ‚æ•°ç»„æ‹·è´
String s = "Hello" + "World";  // æ›´å¿«

// å¤æ‚æ‹¼æ¥ï¼šJDK 9 ä¼šé€‰æ‹©åˆé€‚çš„ç­–ç•¥
String s = str1 + str2 + str3 + str4;  // æ ¹æ®æƒ…å†µä¼˜åŒ–
```

**2. æ›´å¥½çš„é€‚åº”æ€§**

è¿è¡Œæ—¶å†³ç­–æ„å‘³ç€å¯ä»¥åˆ©ç”¨æœ€æ–°çš„ JVM ä¼˜åŒ–ï¼Œæ— éœ€é‡æ–°ç¼–è¯‘ä»£ç ï¼š

- è‡ªåŠ¨åˆ©ç”¨ç´§å‡‘å­—ç¬¦ä¸²ï¼ˆCompact Stringsï¼‰ç‰¹æ€§
    
- æœªæ¥çš„ JVM ä¼˜åŒ–å¯ä»¥ç›´æ¥ç”Ÿæ•ˆ
    
- å¯ä»¥æ ¹æ®ç¡¬ä»¶ç‰¹æ€§ï¼ˆCPUã€å†…å­˜ï¼‰åŠ¨æ€è°ƒæ•´
    

**3. ä»£ç æ›´ç®€æ´**

å­—èŠ‚ç æ›´ç®€æ´ï¼Œå‡å°‘äº† class æ–‡ä»¶å¤§å°ï¼š

Java

```
// JDK 8ï¼šç”Ÿæˆå¤§é‡ StringBuilder ç›¸å…³çš„å­—èŠ‚ç 
// JDK 9ï¼šåªç”Ÿæˆä¸€ä¸ª invokedynamic æŒ‡ä»¤
```

---

**æŠ€æœ¯ç»†èŠ‚**

**invokedynamic æŒ‡ä»¤**

JDK 9 ä½¿ç”¨ invokedynamic æŒ‡ä»¤å®ç°åŠ¨æ€æ–¹æ³•è°ƒç”¨ï¼š

Java

```
// æºä»£ç 
String s = a + b + c;

// JDK 8 å­—èŠ‚ç ï¼ˆç®€åŒ–ï¼‰
new StringBuilder
dup
invokespecial StringBuilder.<init>
aload a
invokevirtual StringBuilder.append
aload b
invokevirtual StringBuilder.append
aload c
invokevirtual StringBuilder.append
invokevirtual StringBuilder.toString

// JDK 9 å­—èŠ‚ç ï¼ˆç®€åŒ–ï¼‰
aload a
aload b
aload c
invokedynamic makeConcatWithConstants  // åŠ¨æ€è°ƒç”¨
```

**StringConcatFactory**

è¿è¡Œæ—¶ç”± `StringConcatFactory` ç±»è´Ÿè´£é€‰æ‹©æ‹¼æ¥ç­–ç•¥ï¼š

Java

```
public final class StringConcatFactory {
    // æ ¹æ®å‚æ•°ç±»å‹å’Œæ•°é‡é€‰æ‹©æœ€ä¼˜ç­–ç•¥
    public static CallSite makeConcatWithConstants(...) {
        // ç­–ç•¥1ï¼šç®€å•æ‹¼æ¥ï¼Œç›´æ¥å­—èŠ‚æ•°ç»„æ“ä½œ
        // ç­–ç•¥2ï¼šä½¿ç”¨ StringBuilder
        // ç­–ç•¥3ï¼šä½¿ç”¨ MethodHandle
        // ...
    }
}
```

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 3.11 æ€ä¹ˆä¿®æ”¹ä¸€ä¸ªç±»ä¸­çš„ private ä¿®é¥°çš„ String å‚æ•°çš„å€¼ï¼Ÿ

String ç±»æ˜¯ä¸å¯å˜çš„ï¼Œä¸€æ—¦åˆ›å»ºå­—ç¬¦ä¸²å°±ä¸ä¼šæ”¹å˜äº†ï¼Œå¦‚æœæ”¹å˜å¼•ç”¨çš„æŒ‡å‘ä¹Ÿç®—ä¿®æ”¹çš„è¯ï¼Œå¯ä»¥æä¾›setteræ–¹æ³•æš´éœ²æ¥å£æ¥ä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨åå°„æ‰“ç ´å°è£…æ¥ä¿®æ”¹ã€‚

---

è¿™ä¸ªé—®é¢˜æ¶‰åŠåˆ° String çš„ä¸å¯å˜æ€§ã€å°è£…æ€§å’Œåå°„æœºåˆ¶ã€‚

**é‡è¦å‰æï¼šString æ˜¯ä¸å¯å˜çš„**

é¦–å…ˆè¦æ˜ç¡®ï¼ŒString ç±»æ˜¯ä¸å¯å˜çš„ï¼ˆimmutableï¼‰ï¼Œä¸€æ—¦åˆ›å»ºå°±ä¸èƒ½æ”¹å˜å…¶å†…å®¹ã€‚æˆ‘ä»¬èƒ½åšçš„åªæ˜¯æ”¹å˜å¼•ç”¨çš„æŒ‡å‘ï¼Œè®©å®ƒæŒ‡å‘ä¸€ä¸ªæ–°çš„ String å¯¹è±¡ã€‚

---

**æ–¹æ³•ä¸€ï¼šé€šè¿‡ setter æ–¹æ³•ä¿®æ”¹ï¼ˆæ¨èï¼‰**

è¿™æ˜¯æœ€å¸¸è§„ã€æœ€å®‰å…¨çš„åšæ³•ï¼Œé€šè¿‡æä¾›å…¬å…±çš„ setter æ–¹æ³•æ¥ä¿®æ”¹ç§æœ‰å­—æ®µã€‚

è¯´æ˜ï¼š

- è¿™ç§æ–¹å¼æ”¹å˜çš„æ˜¯å¼•ç”¨çš„æŒ‡å‘ï¼Œè€Œä¸æ˜¯ String å¯¹è±¡æœ¬èº«
    
- åŸæ¥çš„ "å¼ ä¸‰" å¯¹è±¡ä»ç„¶å­˜åœ¨ï¼ˆå¦‚æœæ²¡æœ‰å…¶ä»–å¼•ç”¨ï¼Œä¼šè¢« GC å›æ”¶ï¼‰
    
- name å­—æ®µç°åœ¨æŒ‡å‘æ–°çš„ "æå››" å¯¹è±¡
    

**æ–¹æ³•äºŒï¼šä½¿ç”¨åå°„æ‰“ç ´å°è£…ï¼ˆä¸æ¨èï¼‰**

å¦‚æœç±»æ²¡æœ‰æä¾› setter æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨åå°„å¼ºåˆ¶è®¿é—®å’Œä¿®æ”¹ç§æœ‰å­—æ®µã€‚

**åå°„ä¿®æ”¹çš„æ­¥éª¤ï¼š**

1. è·å– Class å¯¹è±¡
    
2. é€šè¿‡ `getDeclaredField()` è·å–å­—æ®µå¯¹è±¡
    
3. è°ƒç”¨ `setAccessible(true)` æ‰“ç ´å°è£…
    
4. ä½¿ç”¨ `set()` æ–¹æ³•ä¿®æ”¹å­—æ®µå€¼
    

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

---

## å››ã€ é¢å‘å¯¹è±¡æ ¸å¿ƒ (OOP)

### 4.1 ä¸ºä»€ä¹ˆ Java ä¸æ”¯æŒå¤šç»§æ‰¿ï¼Ÿ

Java ä¸æ”¯æŒå¤šç»§æ‰¿ä¸»è¦æ˜¯ä¸ºäº†é¿å…**è±å½¢ç»§æ‰¿**é—®é¢˜ï¼ŒåŒæ—¶ä¿æŒ**è¯­è¨€çš„ç®€æ´æ€§**ã€‚

è±å½¢ç»§æ‰¿æ˜¯æŒ‡ï¼šå½“ Bã€C ä¸¤ä¸ªç±»åŒæ—¶ç»§æ‰¿äº† A ç±»ï¼ŒD ç±»åˆåŒæ—¶ç»§æ‰¿äº† Bã€C ç±»æ—¶ï¼ŒA ç±»çš„æ–¹æ³•åœ¨ D ç±»ä¸­ä¼šå‡ºç°ä¸¤æ¬¡ã€‚å¦‚æœ A ç±»æœ‰ä¸€ä¸ªæ–¹æ³•ï¼ŒB å’Œ C éƒ½é‡å†™äº†å®ƒï¼Œé‚£ä¹ˆ D ç»§æ‰¿æ—¶åº”è¯¥ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬ï¼Ÿè¿™ä¼šå¯¼è‡´æ–¹æ³•è°ƒç”¨çš„äºŒä¹‰æ€§ã€‚C++ æ”¯æŒå¤šç»§æ‰¿ï¼Œä¸ºäº†è§£å†³è±å½¢ç»§æ‰¿é—®é¢˜å¼•å…¥äº†è™šç»§æ‰¿ï¼Œå¤§å¤§æé«˜äº†è¯­è¨€çš„å¤æ‚åº¦ã€‚

ä¸æ”¯æŒå¤šç»§æ‰¿çš„å¥½å¤„åŒ…æ‹¬ï¼šä¿æŒè¯­è¨€çš„ç®€æ´æ€§ã€é¿å…æ–¹æ³•è°ƒç”¨çš„æ­§ä¹‰ã€é™ä½ç±»ä¹‹é—´çš„è€¦åˆã€é˜²æ­¢å­ç±»è¿‡äºè‡ƒè‚¿ï¼ˆç»§æ‰¿ä¸€äº›ä¸å¿…è¦çš„åŠŸèƒ½ï¼‰ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 4.2 æ¥å£å’ŒæŠ½è±¡ç±»çš„åŒºåˆ«ï¼Œå¦‚ä½•é€‰æ‹©ï¼Ÿ

æ¥å£å’ŒæŠ½è±¡ç±»çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼š

æ¥å£ä¸­çš„æ–¹æ³•é»˜è®¤æ˜¯ public abstract çš„ï¼Œåªèƒ½å®šä¹‰å¸¸é‡ï¼ˆpublic static finalï¼‰ï¼Œæ²¡æœ‰æ„é€ æ–¹æ³•ï¼Œä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚

æŠ½è±¡ç±»å¯ä»¥æœ‰æŠ½è±¡æ–¹æ³•å’Œå…·ä½“æ–¹æ³•ï¼Œå¯ä»¥æœ‰å®ä¾‹å˜é‡å’Œæ„é€ æ–¹æ³•ï¼Œä½†ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»ã€‚

åœ¨é€‰æ‹©ä¸Šï¼Œå¦‚æœéœ€è¦ä»£ç å¤ç”¨ã€å…±äº«çŠ¶æ€æˆ–è€…è¡¨è¾¾"æ˜¯ä»€ä¹ˆ"çš„ is-a å…³ç³»ï¼Œå°±ç”¨æŠ½è±¡ç±»ï¼›å¦‚æœæ˜¯ä¸ºäº†å®šä¹‰è¡Œä¸ºè§„èŒƒã€éœ€è¦å¤šç»§æ‰¿æˆ–è€…è¡¨è¾¾"èƒ½åšä»€ä¹ˆ"çš„ can-do å…³ç³»ï¼Œå°±ç”¨æ¥å£ã€‚

æŠ½è±¡ç±»ä¾§é‡äºä»£ç å¤ç”¨ï¼Œæ¥å£ä¾§é‡äºå®šä¹‰è§„èŒƒã€‚å®é™…å¼€å‘ä¸­æ¥å£ä½¿ç”¨æ›´é¢‘ç¹ï¼Œå› ä¸ºæ›´çµæ´»ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 4.3 å¦‚ä½•ç†è§£ Java ä¸­çš„å¤šæ€ï¼Ÿ

Java å¤šæ€æ˜¯æŒ‡åŒä¸€æ“ä½œä½œç”¨äºä¸åŒçš„å¯¹è±¡ï¼Œå¯ä»¥æœ‰ä¸åŒçš„è§£é‡Šï¼Œäº§ç”Ÿä¸åŒçš„ç»“æœã€‚

å¤šæ€å‘ç”Ÿæœ‰ä¸‰ä¸ªå¿…è¦æ¡ä»¶ï¼šç»§æ‰¿æˆ–å®ç°æ¥å£ã€é‡å†™çˆ¶ç±»æˆ–æ¥å£çš„æ–¹æ³•ã€çˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»çš„å¯¹è±¡ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

Java

```
List<Integer> list = new ArrayList<>();
list.add(1);
```

è™½ç„¶å±€éƒ¨å˜é‡ list çš„å¼•ç”¨ç±»å‹æ˜¯ Listï¼Œä½†å®é™…æ‰§è¡Œçš„æ˜¯ ArrayList ç±»çš„ add æ–¹æ³•ã€‚

å¤šæ€æé«˜äº†ä»£ç çš„æ‰©å±•æ€§å’Œçµæ´»æ€§ï¼Œå¯ä»¥ç”¨ç»Ÿä¸€çš„æ¥å£æ“ä½œä¸åŒçš„å¯¹è±¡ï¼Œé™ä½äº†ä»£ç çš„è€¦åˆåº¦ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 4.4 ä¸ºä»€ä¹ˆå»ºè®®è‡ªå®šä¹‰ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°ï¼Ÿ

åœ¨ Java ä¸­ï¼Œå»ºè®®æ˜¾å¼å®šä¹‰æ— å‚æ„é€ å‡½æ•°ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š

---

**1. å­ç±»æ„é€ å™¨çš„é»˜è®¤è¡Œä¸º**

å­ç±»çš„æ„é€ å™¨ä¼šé»˜è®¤è°ƒç”¨çˆ¶ç±»çš„æ— å‚æ„é€ å‡½æ•°ã€‚å¦‚æœçˆ¶ç±»æ²¡æœ‰æ— å‚æ„é€ å‡½æ•°ï¼Œå­ç±»å¿…é¡»æ˜¾å¼è°ƒç”¨çˆ¶ç±»çš„æœ‰å‚æ„é€ å‡½æ•°ï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™ã€‚

**ç¤ºä¾‹ï¼š**

Java

```
// çˆ¶ç±»
public class Parent {
    private String name;
    
    // åªå®šä¹‰äº†æœ‰å‚æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰æ— å‚æ„é€ å‡½æ•°
    public Parent(String name) {
        this.name = name;
    }
}

// å­ç±»
public class Child extends Parent {
    // ç¼–è¯‘é”™è¯¯ï¼å› ä¸ºçˆ¶ç±»æ²¡æœ‰æ— å‚æ„é€ å‡½æ•°
    public Child() {
        // é»˜è®¤ä¼šè°ƒç”¨ super()ï¼Œä½†çˆ¶ç±»æ²¡æœ‰æ— å‚æ„é€ å‡½æ•°
    }
    
    // æ­£ç¡®åšæ³•ï¼šæ˜¾å¼è°ƒç”¨çˆ¶ç±»çš„æœ‰å‚æ„é€ å‡½æ•°
    public Child(String name) {
        super(name);  // å¿…é¡»æ˜¾å¼è°ƒç”¨
    }
}
```

**è§£å†³æ–¹æ¡ˆï¼š**

åœ¨çˆ¶ç±»ä¸­æä¾›æ— å‚æ„é€ å‡½æ•°ï¼Œå­ç±»å°±å¯ä»¥è‡ªç”±é€‰æ‹©ï¼š

Java

```
public class Parent {
    private String name;
    
    // æä¾›æ— å‚æ„é€ å‡½æ•°
    public Parent() {
        this.name = "default";
    }
    
    public Parent(String name) {
        this.name = name;
    }
}

public class Child extends Parent {
    // ç°åœ¨å¯ä»¥æ­£å¸¸ç¼–è¯‘äº†
    public Child() {
        // é»˜è®¤è°ƒç”¨ super()
    }
}
```

---

**2. åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„è¦æ±‚**

å¾ˆå¤šåºåˆ—åŒ–æ¡†æ¶ï¼ˆå¦‚ Jacksonã€Gsonã€Hibernateï¼‰åœ¨ååºåˆ—åŒ–æ—¶ï¼Œä¼šå…ˆé€šè¿‡åå°„è°ƒç”¨æ— å‚æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡ï¼Œç„¶åå†é€šè¿‡åå°„è®¾ç½®å­—æ®µå€¼ã€‚

**ç¤ºä¾‹ï¼š**

Java

```
public class User {
    private String name;
    private int age;
    
    // å¦‚æœæ²¡æœ‰æ— å‚æ„é€ å‡½æ•°ï¼Œååºåˆ—åŒ–ä¼šå¤±è´¥
    public User() {
    }
    
    public User(String name, int age) {
        this.name = name;
        this.age = age;
    }
    
    // getter å’Œ setter
}

// ä½¿ç”¨ Jackson ååºåˆ—åŒ–
String json = "{\"name\":\"å¼ ä¸‰\",\"age\":25}";
ObjectMapper mapper = new ObjectMapper();
User user = mapper.readValue(json, User.class);  // éœ€è¦æ— å‚æ„é€ å‡½æ•°
```

**å¦‚æœæ²¡æœ‰æ— å‚æ„é€ å‡½æ•°ï¼š**

Java

```
public class User {
    private String name;
    private int age;
    
    // åªæœ‰æœ‰å‚æ„é€ å‡½æ•°
    public User(String name, int age) {
        this.name = name;
        this.age = age;
    }
}

// ååºåˆ—åŒ–ä¼šæŠ¥é”™
// com.fasterxml.jackson.databind.exc.InvalidDefinitionException: 
// Cannot construct instance of `User` (no Creators, like default constructor, exist)
```

---

**3. JavaBean è§„èŒƒè¦æ±‚**

JavaBean è§„èŒƒæ˜ç¡®è¦æ±‚ï¼š

- å¿…é¡»æœ‰ä¸€ä¸ªå…¬å…±çš„æ— å‚æ„é€ å‡½æ•°
    
- å±æ€§å¿…é¡»æ˜¯ç§æœ‰çš„
    
- å¿…é¡»æä¾› getter å’Œ setter æ–¹æ³•
    
- å¿…é¡»å®ç° Serializable æ¥å£ï¼ˆå¯é€‰ï¼‰
    

**æ ‡å‡† JavaBeanï¼š**

Java

```
public class Person implements Serializable {
    private String name;
    private int age;
    
    // å¿…é¡»ï¼šå…¬å…±æ— å‚æ„é€ å‡½æ•°
    public Person() {
    }
    
    // å¯é€‰ï¼šæœ‰å‚æ„é€ å‡½æ•°
    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }
    
    // å¿…é¡»ï¼šgetter å’Œ setter
    public String getName() {
        return name;
    }
    
    public void setName(String name) {
        this.name = name;
    }
    
    public int getAge() {
        return age;
    }
    
    public void setAge(int age) {
        this.age = age;
    }
}
```

---

**4. æ¡†æ¶å’Œå·¥å…·çš„å…¼å®¹æ€§**

è®¸å¤š Java æ¡†æ¶å’Œå·¥å…·éƒ½ä¾èµ–æ— å‚æ„é€ å‡½æ•°ï¼š

- **Spring**ï¼šé€šè¿‡åå°„åˆ›å»º Bean æ—¶é»˜è®¤ä½¿ç”¨æ— å‚æ„é€ å‡½æ•°
    
- **Hibernate/JPA**ï¼šå®ä½“ç±»å¿…é¡»æœ‰æ— å‚æ„é€ å‡½æ•°
    
- **MyBatis**ï¼šç»“æœæ˜ å°„æ—¶éœ€è¦æ— å‚æ„é€ å‡½æ•°
    
- **å„ç§ ORM æ¡†æ¶**ï¼šéƒ½éœ€è¦é€šè¿‡æ— å‚æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡
    

**ç¤ºä¾‹ï¼ˆJPA å®ä½“ç±»ï¼‰ï¼š**

Java

```
@Entity
@Table(name = "users")
public class User {
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    private String username;
    
    // JPA è¦æ±‚å¿…é¡»æœ‰æ— å‚æ„é€ å‡½æ•°
    public User() {
    }
    
    public User(String username) {
        this.username = username;
    }
}
```

---

**5. åå°„æ“ä½œçš„ä¾¿åˆ©æ€§**

ä½¿ç”¨åå°„åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå¦‚æœæœ‰æ— å‚æ„é€ å‡½æ•°ä¼šæ›´åŠ æ–¹ä¾¿ï¼š

Java

```
// æœ‰æ— å‚æ„é€ å‡½æ•°ï¼šç®€å•
Class<?> clazz = User.class;
User user = (User) clazz.newInstance();  // æˆ– clazz.getDeclaredConstructor().newInstance()

// æ²¡æœ‰æ— å‚æ„é€ å‡½æ•°ï¼šå¤æ‚
Constructor<?> constructor = clazz.getConstructor(String.class, int.class);
User user = (User) constructor.newInstance("å¼ ä¸‰", 25);
```

---

**é‡è¦æé†’**

**Java çš„é»˜è®¤è¡Œä¸ºï¼š**

- å¦‚æœç±»ä¸­**æ²¡æœ‰å®šä¹‰ä»»ä½•æ„é€ å‡½æ•°**ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªå…¬å…±çš„æ— å‚æ„é€ å‡½æ•°
    
- å¦‚æœç±»ä¸­**å®šä¹‰äº†æœ‰å‚æ„é€ å‡½æ•°**ï¼Œç¼–è¯‘å™¨å°±**ä¸ä¼š**è‡ªåŠ¨ç”Ÿæˆæ— å‚æ„é€ å‡½æ•°
    

**ç¤ºä¾‹ï¼š**

Java

```
// æƒ…å†µ1ï¼šæ²¡æœ‰å®šä¹‰ä»»ä½•æ„é€ å‡½æ•°
public class A {
    private String name;
    // ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆï¼špublic A() {}
}

// æƒ…å†µ2ï¼šå®šä¹‰äº†æœ‰å‚æ„é€ å‡½æ•°
public class B {
    private String name;
    
    public B(String name) {  // å®šä¹‰äº†æœ‰å‚æ„é€ å‡½æ•°
        this.name = name;
    }
    // ç¼–è¯‘å™¨ä¸ä¼šç”Ÿæˆæ— å‚æ„é€ å‡½æ•°ï¼
}

// ä½¿ç”¨
A a = new A();  // æ­£å¸¸
B b = new B();  // ç¼–è¯‘é”™è¯¯ï¼æ²¡æœ‰æ— å‚æ„é€ å‡½æ•°
```

---

**æœ€ä½³å®è·µ**

1. **æ€»æ˜¯æ˜¾å¼å®šä¹‰æ— å‚æ„é€ å‡½æ•°**ï¼šå³ä½¿ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆï¼Œä¹Ÿå»ºè®®æ˜¾å¼å®šä¹‰ï¼Œæé«˜ä»£ç å¯è¯»æ€§
    
2. **å¦‚æœå®šä¹‰äº†æœ‰å‚æ„é€ å‡½æ•°ï¼Œä¸€å®šè¦åŒæ—¶å®šä¹‰æ— å‚æ„é€ å‡½æ•°**ï¼š
    

Java

```
public class User {
    private String name;
    private int age;
    
    // æ˜¾å¼å®šä¹‰æ— å‚æ„é€ å‡½æ•°
    public User() {
    }
    
    // æœ‰å‚æ„é€ å‡½æ•°
    public User(String name, int age) {
        this.name = name;
        this.age = age;
    }
}
```

3. **ä½¿ç”¨ Lombok ç®€åŒ–**ï¼š
    

Java

```
@Data
@NoArgsConstructor  // ç”Ÿæˆæ— å‚æ„é€ å‡½æ•°
@AllArgsConstructor  // ç”Ÿæˆå…¨å‚æ„é€ å‡½æ•°
public class User {
    private String name;
    private int age;
}
```

---

**æ€»ç»“**

å»ºè®®è‡ªå®šä¹‰æ— å‚æ„é€ å‡½æ•°çš„åŸå› ï¼š

1. **ç»§æ‰¿éœ€è¦**ï¼šå­ç±»æ„é€ å™¨é»˜è®¤è°ƒç”¨çˆ¶ç±»æ— å‚æ„é€ å‡½æ•°
    
2. **åºåˆ—åŒ–éœ€è¦**ï¼šååºåˆ—åŒ–æ¡†æ¶éœ€è¦é€šè¿‡æ— å‚æ„é€ å‡½æ•°åˆ›å»ºå¯¹è±¡
    
3. **è§„èŒƒè¦æ±‚**ï¼šJavaBean è§„èŒƒæ˜ç¡®è¦æ±‚
    
4. **æ¡†æ¶å…¼å®¹**ï¼šSpringã€Hibernate ç­‰æ¡†æ¶ä¾èµ–æ— å‚æ„é€ å‡½æ•°
    
5. **åå°„ä¾¿åˆ©**ï¼šä½¿ç”¨åå°„åˆ›å»ºå¯¹è±¡æ›´æ–¹ä¾¿
    

**è®°ä½ï¼šä¸€æ—¦å®šä¹‰äº†æœ‰å‚æ„é€ å‡½æ•°ï¼Œå°±ä¸€å®šè¦åŒæ—¶å®šä¹‰æ— å‚æ„é€ å‡½æ•°ï¼**

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 4.5 ä¸ºä»€ä¹ˆ Java ä¸­çš„ main æ–¹æ³•å¿…é¡»æ˜¯ public static void çš„ï¼Ÿ

Java çš„ main æ–¹æ³•å¿…é¡»éµå¾ªå›ºå®šçš„ç­¾åæ ¼å¼ï¼š`public static void main(String[] args)`ï¼Œè¿™æ˜¯ä¸ºäº†æ»¡è¶³ JVM çš„è°ƒç”¨éœ€è¦ã€‚

---

**ä¸ºä»€ä¹ˆæ˜¯ publicï¼Ÿ**

**åŸå› ï¼šè®© JVM èƒ½å¤Ÿä»å¤–éƒ¨è®¿é—® main æ–¹æ³•**

- JVM éœ€è¦ä»ç±»çš„å¤–éƒ¨è°ƒç”¨ main æ–¹æ³•æ¥å¯åŠ¨ç¨‹åº
    
- å¦‚æœ main æ–¹æ³•ä¸æ˜¯ publicï¼ŒJVM æ— æ³•è®¿é—®å®ƒï¼Œç¨‹åºæ— æ³•å¯åŠ¨
    
- public ç¡®ä¿äº† JVM å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è°ƒç”¨ main æ–¹æ³•ï¼Œè€Œä¸å—è®¿é—®æƒé™é™åˆ¶
    

**é”™è¯¯ç¤ºä¾‹ï¼š**

Java

```
public class Test {
    // é”™è¯¯ï¼šprivate æˆ– protected æˆ– é»˜è®¤è®¿é—®æƒé™
    private static void main(String[] args) {
        System.out.println("Hello");
    }
}

// è¿è¡Œæ—¶é”™è¯¯ï¼š
// Error: Main method not found in class Test
```

---

**ä¸ºä»€ä¹ˆæ˜¯ staticï¼Ÿ**

**åŸå› ï¼šé¿å…åˆ›å»ºå¯¹è±¡ï¼Œç›´æ¥é€šè¿‡ç±»è°ƒç”¨**

- JVM å¯åŠ¨ç¨‹åºæ—¶ï¼Œè¿˜æ²¡æœ‰åˆ›å»ºä»»ä½•å¯¹è±¡
    
- å¦‚æœ main æ–¹æ³•ä¸æ˜¯ staticï¼ŒJVM éœ€è¦å…ˆåˆ›å»ºç±»çš„å®ä¾‹æ‰èƒ½è°ƒç”¨ main æ–¹æ³•
    
- ä½† JVM ä¸çŸ¥é“å¦‚ä½•åˆ›å»ºè¿™ä¸ªå®ä¾‹ï¼ˆéœ€è¦ä»€ä¹ˆå‚æ•°ï¼Ÿè°ƒç”¨å“ªä¸ªæ„é€ å‡½æ•°ï¼Ÿï¼‰
    
- static æ–¹æ³•å±äºç±»æœ¬èº«ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç±»åè°ƒç”¨ï¼Œä¸éœ€è¦åˆ›å»ºå¯¹è±¡
    

**å¯¹æ¯”ï¼š**

Java

```
// æ­£ç¡®ï¼šstatic æ–¹æ³•ï¼ŒJVM å¯ä»¥ç›´æ¥è°ƒç”¨
public class Test {
    public static void main(String[] args) {
        System.out.println("Hello");
    }
}
// JVM è°ƒç”¨ï¼šTest.main(args)

// é”™è¯¯ï¼šé static æ–¹æ³•
public class Test {
    public void main(String[] args) {
        System.out.println("Hello");
    }
}
// JVM æ— æ³•è°ƒç”¨ï¼Œå› ä¸ºéœ€è¦å…ˆåˆ›å»º Test å¯¹è±¡
// ä½† JVM ä¸çŸ¥é“å¦‚ä½•åˆ›å»ºï¼šnew Test()? new Test(å‚æ•°)?
```

---

**ä¸ºä»€ä¹ˆæ˜¯ voidï¼Ÿ**

**åŸå› ï¼šJVM ä¸éœ€è¦ main æ–¹æ³•çš„è¿”å›å€¼**

- main æ–¹æ³•æ˜¯ç¨‹åºçš„å…¥å£ç‚¹ï¼Œå®ƒçš„è¿”å›å€¼å¯¹ JVM æ²¡æœ‰æ„ä¹‰
    
- ç¨‹åºçš„é€€å‡ºçŠ¶æ€é€šè¿‡ `System.exit(int status)` æ¥è®¾ç½®ï¼Œè€Œä¸æ˜¯é€šè¿‡è¿”å›å€¼
    
- void è¡¨ç¤ºæ–¹æ³•ä¸è¿”å›ä»»ä½•å€¼ï¼Œç¬¦åˆ main æ–¹æ³•çš„è¯­ä¹‰
    

**ä¸ C/C++ çš„å¯¹æ¯”ï¼š**

C

```
// C/C++ çš„ main å‡½æ•°æœ‰è¿”å›å€¼
int main(int argc, char* argv[]) {
    printf("Hello, World!\n");
    return 0;  // è¿”å› 0 è¡¨ç¤ºæˆåŠŸï¼Œé 0 è¡¨ç¤ºé”™è¯¯
}
// è¿”å›å€¼å¯ä»¥è¢«æ“ä½œç³»ç»Ÿæˆ–è°ƒç”¨ç¨‹åºè·å–
```

Java

```
// Java çš„ main æ–¹æ³•æ²¡æœ‰è¿”å›å€¼
public static void main(String[] args) {
    System.out.println("Hello, World!");
    // ä¸éœ€è¦è¿”å›å€¼
    // å¦‚æœéœ€è¦è®¾ç½®é€€å‡ºçŠ¶æ€ï¼Œä½¿ç”¨ System.exit(0)
}
```

**ä¸ºä»€ä¹ˆ Java ä¸éœ€è¦è¿”å›å€¼ï¼Ÿ**

1. **Java ç¨‹åºè¿è¡Œåœ¨ JVM ä¸­**ï¼šJVM æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼ŒJava ç¨‹åºä¸ä¼šè¢«å¤–éƒ¨ç¨‹åºç›´æ¥è°ƒç”¨
    
2. **é€€å‡ºçŠ¶æ€é€šè¿‡ System.exit() è®¾ç½®**ï¼š
    
    Java
    
    ```
    public static void main(String[] args) {
        try {
            // ä¸šåŠ¡é€»è¾‘
            System.exit(0);  // æˆåŠŸé€€å‡º
        } catch (Exception e) {
            System.exit(1);  // å¼‚å¸¸é€€å‡º
        }
    }
    ```
    
3. **C/C++ éœ€è¦è¿”å›å€¼**ï¼šå› ä¸º C/C++ ç¨‹åºå¯èƒ½è¢« shell è„šæœ¬æˆ–å…¶ä»–ç¨‹åºè°ƒç”¨ï¼Œéœ€è¦é€šè¿‡è¿”å›å€¼åˆ¤æ–­æ‰§è¡Œç»“æœ
    

---

**ä¸ºä»€ä¹ˆå‚æ•°æ˜¯ String[] argsï¼Ÿ**

**åŸå› ï¼šæ¥æ”¶å‘½ä»¤è¡Œå‚æ•°**

- args æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ï¼Œç”¨äºæ¥æ”¶å‘½ä»¤è¡Œä¼ å…¥çš„å‚æ•°
    
- å‚æ•°åå¯ä»¥æ˜¯ä»»æ„çš„ï¼ˆargsã€argumentsã€a ç­‰ï¼‰ï¼Œä½†ä¹ æƒ¯ä¸Šä½¿ç”¨ args
    
- æ•°ç»„ç±»å‹å¿…é¡»æ˜¯ String[]
    

**ç¤ºä¾‹ï¼š**

Java

```
public class CommandLineDemo {
    public static void main(String[] args) {
        System.out.println("å‚æ•°ä¸ªæ•°ï¼š" + args.length);
        for (int i = 0; i < args.length; i++) {
            System.out.println("å‚æ•° " + i + ": " + args[i]);
        }
    }
}
```

**è¿è¡Œï¼š**

Bash

```
java CommandLineDemo hello world 123

# è¾“å‡ºï¼š
# å‚æ•°ä¸ªæ•°ï¼š3
# å‚æ•° 0: hello
# å‚æ•° 1: world
# å‚æ•° 2: 123
```

---

**å¯ä»¥é‡è½½ main æ–¹æ³•å—ï¼Ÿ**

**å¯ä»¥ï¼Œä½†åªæœ‰æ ‡å‡†ç­¾åçš„ main æ–¹æ³•ä¼šè¢« JVM è°ƒç”¨**

Java

```
public class MainOverload {
    // æ ‡å‡† main æ–¹æ³•ï¼ŒJVM ä¼šè°ƒç”¨è¿™ä¸ª
    public static void main(String[] args) {
        System.out.println("æ ‡å‡† main æ–¹æ³•");
        main(10);  // æ‰‹åŠ¨è°ƒç”¨é‡è½½çš„ main æ–¹æ³•
    }
    
    // é‡è½½çš„ main æ–¹æ³•ï¼Œä¸ä¼šè¢« JVM è‡ªåŠ¨è°ƒç”¨
    public static void main(int num) {
        System.out.println("é‡è½½çš„ main æ–¹æ³•ï¼š" + num);
    }
    
    // å¦ä¸€ä¸ªé‡è½½
    public static void main(String arg) {
        System.out.println("å¦ä¸€ä¸ªé‡è½½ï¼š" + arg);
    }
}

// è¾“å‡ºï¼š
// æ ‡å‡† main æ–¹æ³•
// é‡è½½çš„ main æ–¹æ³•ï¼š10
```

---

**Java 21+ çš„ç®€åŒ–ï¼ˆé¢„è§ˆç‰¹æ€§ï¼‰**

Java 21 å¼•å…¥äº†ç®€åŒ–çš„ main æ–¹æ³•ï¼ˆé¢„è§ˆç‰¹æ€§ï¼‰ï¼Œç”¨äºç®€å•çš„ç¨‹åºï¼š

Java

```
// Java 21+ å¯ä»¥è¿™æ ·å†™ï¼ˆé¢„è§ˆç‰¹æ€§ï¼‰
void main() {
    System.out.println("Hello, World!");
}
// ä¸éœ€è¦ public staticï¼Œä¸éœ€è¦ String[] args
// ä½†è¿™åªæ˜¯è¯­æ³•ç³–ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è½¬æ¢ä¸ºæ ‡å‡†æ ¼å¼
```

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 4.6 æœ‰äº† equals ä¸ºä»€ä¹ˆè¿˜éœ€è¦ hashCode æ–¹æ³•ï¼Ÿ

è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„é¢è¯•é¢˜ï¼Œæ¶‰åŠåˆ° Java å¯¹è±¡ç›¸ç­‰æ€§åˆ¤æ–­å’Œå“ˆå¸Œè¡¨çš„å·¥ä½œåŸç†ã€‚

**æ ¸å¿ƒåŸå› ï¼šä¸ºäº†ä¿è¯å“ˆå¸Œè¡¨ï¼ˆHashMapã€HashSet ç­‰ï¼‰çš„æ­£ç¡®æ€§å’Œæ€§èƒ½ã€‚**

---

**Java çš„çº¦å®šï¼ˆequals å’Œ hashCode å¥‘çº¦ï¼‰**

Java è§„å®šäº† equals å’Œ hashCode ä¹‹é—´å¿…é¡»éµå®ˆçš„å¥‘çº¦ï¼š

1. **å¦‚æœä¸¤ä¸ªå¯¹è±¡ equals ç›¸ç­‰ï¼Œé‚£ä¹ˆå®ƒä»¬çš„ hashCode å¿…é¡»ç›¸åŒ**
    
2. **å¦‚æœä¸¤ä¸ªå¯¹è±¡ hashCode ç›¸åŒï¼Œå®ƒä»¬ä¸ä¸€å®š equals ç›¸ç­‰**ï¼ˆå“ˆå¸Œå†²çªï¼‰
    
3. **å¦‚æœé‡å†™äº† equals æ–¹æ³•ï¼Œå°±å¿…é¡»é‡å†™ hashCode æ–¹æ³•**
    

**ç”¨ä¸€å¥è¯æ€»ç»“ï¼š**

- equals ç›¸ç­‰ â†’ hashCode å¿…é¡»ç›¸åŒ
    
- hashCode ç›¸åŒ â†’ equals ä¸ä¸€å®šç›¸ç­‰
    

---

**ä¸ºä»€ä¹ˆéœ€è¦ hashCodeï¼Ÿ**

**1. æé«˜æ€§èƒ½**

hashCode æä¾›äº†ä¸€ç§å¿«é€Ÿå®šä½å¯¹è±¡çš„æ–¹å¼ã€‚HashMapã€HashSet ç­‰é›†åˆä½¿ç”¨å“ˆå¸Œè¡¨å­˜å‚¨æ•°æ®ï¼ŒæŸ¥æ‰¾è¿‡ç¨‹åˆ†ä¸¤æ­¥ï¼š

```
ç¬¬ä¸€æ­¥ï¼šé€šè¿‡ hashCode() å¿«é€Ÿå®šä½åˆ°æ¡¶ï¼ˆbucketï¼‰- O(1)
ç¬¬äºŒæ­¥ï¼šåœ¨æ¡¶å†…é€šè¿‡ equals() ç²¾ç¡®æ¯”è¾ƒ - O(k)ï¼Œk æ˜¯æ¡¶å†…å…ƒç´ æ•°é‡
```

å¦‚æœæ²¡æœ‰ hashCodeï¼Œå°±éœ€è¦éå†æ‰€æœ‰å…ƒç´ ç”¨ equals é€ä¸ªæ¯”è¾ƒï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ã€‚

**2. ä¿è¯æ•°æ®å‡†ç¡®æ€§**

equals ç›¸ç­‰çš„å¯¹è±¡å¿…é¡»æœ‰ç›¸åŒçš„ hashCodeï¼Œè¿™æ ·æ‰èƒ½ä¿è¯åœ¨å“ˆå¸Œè¡¨ä¸­èƒ½æ­£ç¡®æ‰¾åˆ°å¯¹è±¡ã€‚

---

**å¦‚æœåªé‡å†™ equals ä¸é‡å†™ hashCode ä¼šæ€æ ·ï¼Ÿ**

**é—®é¢˜ç¤ºä¾‹ï¼š**

Java

```
public class Person {
    private String name;
    private int age;
    
    // åªé‡å†™äº† equals
    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null || getClass() != obj.getClass()) return false;
        Person person = (Person) obj;
        return age == person.age && Objects.equals(name, person.name);
    }
    
    // æ²¡æœ‰é‡å†™ hashCodeï¼Œä½¿ç”¨ Object çš„é»˜è®¤å®ç°ï¼ˆåŸºäºå†…å­˜åœ°å€ï¼‰
}

// ä½¿ç”¨
Person p1 = new Person("å¼ ä¸‰", 25);
Person p2 = new Person("å¼ ä¸‰", 25);

System.out.println(p1.equals(p2));  // trueï¼Œequals åˆ¤æ–­ç›¸ç­‰

// æ”¾å…¥ HashMap
HashMap<Person, String> map = new HashMap<>();
map.put(p1, "å·¥ç¨‹å¸ˆ");
System.out.println(map.get(p2));  // nullï¼æ— æ³•è·å–åˆ°å€¼
```

**ä¸ºä»€ä¹ˆ get è¿”å› nullï¼Ÿ**

1. p1 å’Œ p2 è™½ç„¶ equals ç›¸ç­‰ï¼Œä½† hashCode ä¸åŒï¼ˆåŸºäºä¸åŒçš„å†…å­˜åœ°å€ï¼‰
    
2. put(p1) æ—¶ï¼Œæ ¹æ® p1.hashCode() å­˜å‚¨åœ¨æŸä¸ªæ¡¶ä¸­
    
3. get(p2) æ—¶ï¼Œæ ¹æ® p2.hashCode() å»å¦ä¸€ä¸ªæ¡¶ä¸­æŸ¥æ‰¾
    
4. ä¸¤ä¸ªæ¡¶ä¸åŒï¼Œæ‰€ä»¥æ‰¾ä¸åˆ°ï¼Œè¿”å› null
    

**è¿™è¿åäº† Java çš„å¥‘çº¦ï¼Œå¯¼è‡´å“ˆå¸Œè¡¨æ— æ³•æ­£å¸¸å·¥ä½œï¼**

---

**æ­£ç¡®çš„åšæ³•ï¼šåŒæ—¶é‡å†™ equals å’Œ hashCode**

Java

```
public class Person {
    private String name;
    private int age;
    
    @Override
    public boolean equals(Object obj) {
        if (this == obj) return true;
        if (obj == null || getClass() != obj.getClass()) return false;
        Person person = (Person) obj;
        return age == person.age && Objects.equals(name, person.name);
    }
    
    @Override
    public int hashCode() {
        return Objects.hash(name, age);  // ä½¿ç”¨ç›¸åŒçš„å­—æ®µè®¡ç®— hashCode
    }
}

// ä½¿ç”¨
Person p1 = new Person("å¼ ä¸‰", 25);
Person p2 = new Person("å¼ ä¸‰", 25);

System.out.println(p1.equals(p2));  // true
System.out.println(p1.hashCode() == p2.hashCode());  // true

HashMap<Person, String> map = new HashMap<>();
map.put(p1, "å·¥ç¨‹å¸ˆ");
System.out.println(map.get(p2));  // "å·¥ç¨‹å¸ˆ"ï¼Œæ­£å¸¸å·¥ä½œï¼
```

---

**hashCode çš„è®¾è®¡åŸåˆ™**

1. **ä¸€è‡´æ€§**ï¼šåŒä¸€ä¸ªå¯¹è±¡å¤šæ¬¡è°ƒç”¨ hashCode() å¿…é¡»è¿”å›ç›¸åŒçš„å€¼
    
2. **ç›¸ç­‰æ€§**ï¼šequals ç›¸ç­‰çš„å¯¹è±¡ï¼ŒhashCode å¿…é¡»ç›¸åŒ
    
3. **é«˜æ•ˆæ€§**ï¼šhashCode çš„è®¡ç®—åº”è¯¥å¿«é€Ÿ
    
4. **åˆ†æ•£æ€§**ï¼šä¸åŒå¯¹è±¡çš„ hashCode åº”è¯¥å°½é‡åˆ†æ•£ï¼Œå‡å°‘å“ˆå¸Œå†²çª
    

**æ¨èçš„ hashCode å®ç°ï¼š**

Java

```
@Override
public int hashCode() {
    // æ¨èï¼šä½¿ç”¨ Objects.hash() å·¥å…·æ–¹æ³•
    return Objects.hash(name, age, email);
}

// æˆ–è€…ä½¿ç”¨ Lombok
@Data  // è‡ªåŠ¨ç”Ÿæˆ equalsã€hashCodeã€getterã€setter ç­‰
public class Person {
    private String name;
    private int age;
}
```

---

**æ€»ç»“**

**ä¸ºä»€ä¹ˆéœ€è¦ hashCodeï¼Ÿ**

1. **æ€§èƒ½ä¼˜åŒ–**ï¼šæä¾›å¿«é€Ÿå®šä½èƒ½åŠ›ï¼ŒO(1) æ—¶é—´å¤æ‚åº¦
    
2. **å¥‘çº¦è¦æ±‚**ï¼šequals ç›¸ç­‰çš„å¯¹è±¡å¿…é¡»æœ‰ç›¸åŒçš„ hashCode
    
3. **å“ˆå¸Œè¡¨æ­£ç¡®æ€§**ï¼šä¿è¯ HashMapã€HashSet ç­‰é›†åˆæ­£å¸¸å·¥ä½œ
    
4. **æ•°æ®å‡†ç¡®æ€§**ï¼šç¡®ä¿é€»è¾‘ä¸Šç›¸ç­‰çš„å¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­èƒ½è¢«æ­£ç¡®æ‰¾åˆ°
    

**è®°ä½ä¸‰ä¸ªåŸåˆ™ï¼š**

1. equals ç›¸ç­‰ â†’ hashCode å¿…é¡»ç›¸åŒ
    
2. hashCode ç›¸åŒ â†’ equals ä¸ä¸€å®šç›¸ç­‰
    
3. é‡å†™ equals å¿…é¡»é‡å†™ hashCode
    

**æœ€ä½³å®è·µï¼š**

- ä½¿ç”¨ IDE æˆ– Lombok è‡ªåŠ¨ç”Ÿæˆ
    
- ä½¿ç”¨ `Objects.hash()` å·¥å…·æ–¹æ³•
    
- equals å’Œ hashCode ä½¿ç”¨ç›¸åŒçš„å­—æ®µ
    

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 4.7 ä¸ºä»€ä¹ˆå»ºè®®å¤šç”¨ç»„åˆå°‘ç”¨ç»§æ‰¿ï¼Ÿ

(å¾…è¡¥å……)

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 4.8 ä»€ä¹ˆæ˜¯æ·±æ‹·è´å’Œæµ…æ‹·è´ï¼Ÿ

(å¾…è¡¥å……)

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

---

## äº”ã€ æ ¸å¿ƒæœºåˆ¶ (æ³›å‹/æ³¨è§£/åå°„/å¼‚å¸¸)

### 5.1 ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ

æ³›å‹æ˜¯ JDK 5 å¼•å…¥çš„ç±»å‹å‚æ•°åŒ–ç±»å‹ï¼Œå…è®¸åœ¨å®šä¹‰ç±»ã€æ¥å£å’Œæ–¹æ³•æ—¶ä½¿ç”¨ç±»å‹å‚æ•°ï¼Œä½¿ç”¨æ—¶å†æŒ‡å®šå…·ä½“ç±»å‹ã€‚

æ³›å‹ä¸»è¦æœ‰ä¸‰ä¸ªå¥½å¤„ï¼š

é¦–å…ˆæ˜¯æé«˜ä»£ç å¤ç”¨æ€§ã€‚æ¯”å¦‚æˆ‘æƒ³å®šä¹‰ä¸€ä¸ªé›†åˆï¼Œæ—¢å¯ä»¥å­˜å­—ç¬¦ä¸²ï¼Œåˆå¯ä»¥å­˜æ•´æ•°ï¼Œéš¾é“è¦åˆ›å»ºä¸¤ä¸ªé›†åˆç±»å—ï¼Ÿç”¨æ³›å‹å°±å¯ä»¥è§£å†³ï¼š

Java

```
List<String> stringList = new ArrayList<>();  // å­˜å­—ç¬¦ä¸²
List<Integer> intList = new ArrayList<>();    // å­˜æ•´æ•°
```

å…¶æ¬¡æ˜¯å¢å¼ºç±»å‹å®‰å…¨ã€‚æ³›å‹åœ¨ç¼–è¯‘æœŸå°±ä¼šè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œèƒ½åœ¨ç¼–è¯‘é˜¶æ®µå‘ç°ç±»å‹é”™è¯¯ï¼Œé¿å…è¿è¡Œæ—¶å‡ºç° ClassCastExceptionï¼š

Java

```
// ä½¿ç”¨æ³›å‹ï¼Œç¼–è¯‘æœŸå°±èƒ½å‘ç°ç±»å‹é”™è¯¯
List<String> list = new ArrayList<>();
list.add("hello");
String s = list.get(0);  // ä¸éœ€è¦å¼ºåˆ¶è½¬æ¢

// ä¸ä½¿ç”¨æ³›å‹ï¼Œè¿è¡Œæ—¶æ‰èƒ½å‘ç°é”™è¯¯
List list2 = new ArrayList();
list2.add("hello");
String s2 = (String) list2.get(0);  // éœ€è¦å¼ºåˆ¶è½¬æ¢ï¼Œå®¹æ˜“å‡ºé”™
```

æœ€åæ˜¯æ¶ˆé™¤å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚ä½¿ç”¨æ³›å‹åï¼Œç¼–è¯‘å™¨çŸ¥é“é›†åˆé‡Œå­˜çš„æ˜¯ä»€ä¹ˆç±»å‹ï¼Œå–å‡ºæ¥æ—¶ä¸éœ€è¦å¼ºåˆ¶è½¬æ¢ï¼Œä»£ç æ›´ç®€æ´ã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ³›å‹æ˜¯ç¼–è¯‘æœŸçš„æ¦‚å¿µã€‚ç¼–è¯‘æ—¶ä¼šè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œç„¶åè¿›è¡Œç±»å‹æ“¦é™¤ï¼ŒæŠŠæ³›å‹ç±»å‹æ›¿æ¢ä¸º Object æˆ–å…¶è¾¹ç•Œç±»å‹ã€‚æ‰€ä»¥è¿è¡Œæ—¶ JVM å…¶å®ä¸çŸ¥é“æ³›å‹çš„å…·ä½“ç±»å‹ä¿¡æ¯ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 5.2 ä»€ä¹ˆæ˜¯ç±»å‹æ“¦é™¤ï¼Ÿ

ç±»å‹æ“¦é™¤æ˜¯ Java æ³›å‹åœ¨ç¼–è¯‘æ—¶æŠŠæ³›å‹ç±»å‹å‚æ•°æ›¿æ¢æˆå…·ä½“ç±»å‹çš„è¿‡ç¨‹ã€‚

å…·ä½“æ¥è¯´ï¼Œç¼–è¯‘å™¨ä¼šåšè¿™æ ·çš„è½¬æ¢ï¼š

å¦‚æœæ³›å‹ç±»å‹æ²¡æœ‰æŒ‡å®šä¸Šç•Œï¼Œå°±ä¼šè¢«æ›¿æ¢æˆ Object ç±»å‹ï¼š

Java

```
// æºä»£ç 
List<String> list = new ArrayList<>();

// ç¼–è¯‘åå®é™…å˜æˆ
List list = new ArrayList();  // String è¢«æ“¦é™¤æˆ Object
```

å¦‚æœæ³›å‹ç±»å‹æŒ‡å®šäº†ä¸Šç•Œï¼Œå°±ä¼šè¢«æ›¿æ¢æˆä¸Šç•Œç±»å‹ï¼š

Java

```
// æºä»£ç 
class Box<T extends Number> {
    private T value;
}

// ç¼–è¯‘å T è¢«æ›¿æ¢æˆ Number
class Box {
    private Number value;
}
```

ä¸ºä»€ä¹ˆè¦è¿›è¡Œç±»å‹æ“¦é™¤ï¼Ÿä¸»è¦æ˜¯ä¸ºäº†ä¿æŒå‘åå…¼å®¹ã€‚Java åœ¨ JDK 5 æ‰å¼•å…¥æ³›å‹ï¼Œä¸ºäº†è®©æ–°ä»£ç èƒ½åœ¨æ—§çš„ JVM ä¸Šè¿è¡Œï¼ŒåŒæ—¶è®©æ³›å‹ä»£ç å’Œéæ³›å‹ä»£ç èƒ½å¤Ÿäº’ç›¸è°ƒç”¨ï¼Œå°±é‡‡ç”¨äº†ç±»å‹æ“¦é™¤çš„æ–¹å¼ã€‚

ç±»å‹æ“¦é™¤å¸¦æ¥çš„å½±å“ï¼š

è¿è¡Œæ—¶æ— æ³•è·å–æ³›å‹çš„å…·ä½“ç±»å‹ä¿¡æ¯ï¼Œæ¯”å¦‚æ— æ³•é€šè¿‡ `instanceof` åˆ¤æ–­æ³›å‹ç±»å‹ï¼Œä¹Ÿæ— æ³•åˆ›å»ºæ³›å‹æ•°ç»„ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 5.3 æ³›å‹ä¸­ K T V E ? Object ç­‰åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆå«ä¹‰ï¼Ÿ

è¿™äº›éƒ½æ˜¯æ³›å‹ä¸­å¸¸ç”¨çš„ç±»å‹å‚æ•°ç¬¦å·ï¼Œå®ƒä»¬æœ¬è´¨ä¸Šéƒ½æ˜¯å ä½ç¬¦ï¼Œåªæ˜¯æŒ‰ç…§çº¦å®šä¿—æˆçš„è§„èŒƒæ¥å‘½åï¼Œè®©ä»£ç æ›´æ˜“è¯»ï¼š

**T (Type)**ï¼šè¡¨ç¤ºä»»æ„ç±»å‹ï¼Œæœ€å¸¸ç”¨çš„æ³›å‹å‚æ•°ã€‚é€šå¸¸ç”¨åœ¨ç±»ã€æ¥å£å’Œæ–¹æ³•ä¸­è¡¨ç¤ºä¸€ä¸ªé€šç”¨ç±»å‹ï¼š

Java

```
class Box<T> {
    private T value;
}
```

**K (Key)** å’Œ **V (Value)**ï¼šè¡¨ç¤ºé”®å€¼å¯¹ï¼Œé€šå¸¸åœ¨ Map ä¸­ä½¿ç”¨ï¼š

Java

```
Map<K, V> map = new HashMap<>();
Map<String, Integer> map = new HashMap<>();  // K=String, V=Integer
```

**E (Element)**ï¼šè¡¨ç¤ºå…ƒç´ ï¼Œé€šå¸¸åœ¨é›†åˆç±»ä¸­ä½¿ç”¨ï¼š

Java

```
List<E> list = new ArrayList<>();
Set<E> set = new HashSet<>();
```

**? (é€šé…ç¬¦)**ï¼šè¡¨ç¤ºä¸ç¡®å®šçš„ç±»å‹ï¼Œç”¨äºæ³›å‹çš„ä¸Šä¸‹ç•Œé™å®šï¼š

Java

```
List<?> list;  // å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„ List
List<? extends Number> list;  // åªèƒ½æ¥æ”¶ Number åŠå…¶å­ç±»
List<? super Integer> list;  // åªèƒ½æ¥æ”¶ Integer åŠå…¶çˆ¶ç±»
```

**Object**ï¼šè¿™ä¸æ˜¯æ³›å‹å‚æ•°ï¼Œè€Œæ˜¯ Java ä¸­æ‰€æœ‰ç±»çš„çˆ¶ç±»ã€‚åœ¨æ³›å‹å‡ºç°ä¹‹å‰ï¼Œæˆ‘ä»¬ç”¨ Object æ¥å®ç°é€šç”¨æ€§ï¼Œä½†éœ€è¦æ‰‹åŠ¨ç±»å‹è½¬æ¢ï¼š

Java

```
// ä½¿ç”¨ Objectï¼Œéœ€è¦å¼ºåˆ¶è½¬æ¢
List list = new ArrayList();
list.add("hello");
String s = (String) list.get(0);

// ä½¿ç”¨æ³›å‹ï¼Œä¸éœ€è¦è½¬æ¢
List<String> list = new ArrayList<>();
list.add("hello");
String s = list.get(0);
```

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 5.4 æ³›å‹ä¸­ä¸Šä¸‹ç•Œé™å®šç¬¦ extends å’Œ super æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

extends å’Œ super æ˜¯æ³›å‹ä¸­ç”¨æ¥é™å®šç±»å‹èŒƒå›´çš„å…³é”®å­—ï¼Œå®ƒä»¬çš„åŒºåˆ«ä¸»è¦ä½“ç°åœ¨é™å®šçš„æ–¹å‘å’Œä½¿ç”¨åœºæ™¯ä¸Šã€‚

**? extends Tï¼ˆä¸Šç•Œé€šé…ç¬¦ï¼‰**

è¡¨ç¤ºæ³›å‹ç±»å‹çš„ä¸Šç•Œï¼Œ? å¿…é¡»æ˜¯ T ç±»å‹æˆ– T çš„å­ç±»ã€‚è¿™ç§æ–¹å¼é€‚åˆè¯»å–æ•°æ®çš„åœºæ™¯ï¼š

Java

```
List<? extends Number> list = new ArrayList<Integer>();  // Integer æ˜¯ Number çš„å­ç±»
Number num = list.get(0);  // å¯ä»¥è¯»å–ï¼Œå› ä¸ºè‚¯å®šæ˜¯ Number æˆ–å…¶å­ç±»
// list.add(new Integer(1));  // ç¼–è¯‘é”™è¯¯ï¼ä¸èƒ½å†™å…¥
```

ä¸ºä»€ä¹ˆä¸èƒ½å†™å…¥ï¼Ÿå› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“ list é‡Œå…·ä½“æ˜¯ä»€ä¹ˆç±»å‹ï¼Œå¯èƒ½æ˜¯ `List<Integer>`ï¼Œä¹Ÿå¯èƒ½æ˜¯ `List<Double>`ï¼Œä¸ºäº†ç±»å‹å®‰å…¨ï¼Œå¹²è„†ç¦æ­¢å†™å…¥ã€‚

**? super Tï¼ˆä¸‹ç•Œé€šé…ç¬¦ï¼‰**

è¡¨ç¤ºæ³›å‹ç±»å‹çš„ä¸‹ç•Œï¼Œ? å¿…é¡»æ˜¯ T ç±»å‹æˆ– T çš„çˆ¶ç±»ã€‚è¿™ç§æ–¹å¼é€‚åˆå†™å…¥æ•°æ®çš„åœºæ™¯ï¼š

Java

```
List<? super Integer> list = new ArrayList<Number>();  // Number æ˜¯ Integer çš„çˆ¶ç±»
list.add(new Integer(1));  // å¯ä»¥å†™å…¥ Integer æˆ–å…¶å­ç±»
// Integer num = list.get(0);  // ç¼–è¯‘é”™è¯¯ï¼åªèƒ½ç”¨ Object æ¥æ”¶
Object obj = list.get(0);  // åªèƒ½ç”¨ Object æ¥æ”¶
```

ä¸ºä»€ä¹ˆè¯»å–æ—¶åªèƒ½ç”¨ Objectï¼Ÿå› ä¸ºç¼–è¯‘å™¨ä¸çŸ¥é“ list é‡Œå…·ä½“æ˜¯ä»€ä¹ˆç±»å‹ï¼Œå¯èƒ½æ˜¯ `List<Integer>`ï¼Œä¹Ÿå¯èƒ½æ˜¯ `List<Number>`ï¼Œç”šè‡³æ˜¯ `List<Object>`ï¼Œæ‰€ä»¥åªèƒ½ç”¨å®ƒä»¬çš„å…±åŒçˆ¶ç±» Object æ¥æ¥æ”¶ã€‚

**ä½¿ç”¨åœºæ™¯æ€»ç»“**

è®°ä½ä¸€ä¸ªå£è¯€ï¼š**PECS åŸåˆ™**ï¼ˆProducer Extends, Consumer Superï¼‰

- å¦‚æœä½ éœ€è¦ä»é›†åˆä¸­è¯»å–æ•°æ®ï¼ˆç”Ÿäº§è€…ï¼‰ï¼Œç”¨ `? extends T`
    
- å¦‚æœä½ éœ€è¦å¾€é›†åˆä¸­å†™å…¥æ•°æ®ï¼ˆæ¶ˆè´¹è€…ï¼‰ï¼Œç”¨ `? super T`
    

ä¸¾ä¸ªå®é™…ä¾‹å­ï¼š

Java

```
// ä» src è¯»å–æ•°æ®ï¼Œå¤åˆ¶åˆ° dest
public static <T> void copy(List<? super T> dest, List<? extends T> src) {
    for (T item : src) {
        dest.add(item);  // src ç”¨ extends è¯»å–ï¼Œdest ç”¨ super å†™å…¥
    }
}
```

è¿™æ ·è®¾è®¡æ—¢ä¿è¯äº†ç±»å‹å®‰å…¨ï¼Œåˆæä¾›äº†è¶³å¤Ÿçš„çµæ´»æ€§ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 5.5 Java ä¸­å¼‚å¸¸åˆ†å“ªä¸¤ç±»ï¼Ÿæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

Java çš„å¼‚å¸¸åˆ†ä¸ºå—æ£€å¼‚å¸¸ï¼ˆChecked Exceptionï¼‰å’Œéå—æ£€å¼‚å¸¸ï¼ˆUnchecked Exceptionï¼‰ä¸¤å¤§ç±»ã€‚

**å—æ£€å¼‚å¸¸**æ˜¯æŒ‡åœ¨ç¼–è¯‘æœŸå°±å¿…é¡»å¤„ç†çš„å¼‚å¸¸ï¼Œæ¯”å¦‚ IOExceptionã€SQLException ç­‰ã€‚è¿™ç±»å¼‚å¸¸å¿…é¡»é€šè¿‡ try-catch æ•è·æˆ–è€…åœ¨æ–¹æ³•ç­¾åä¸­ç”¨ throws å£°æ˜æŠ›å‡ºï¼Œå¦åˆ™ä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘ã€‚å—æ£€å¼‚å¸¸é€šå¸¸è¡¨ç¤ºå¤–éƒ¨ç¯å¢ƒå¯¼è‡´çš„å¯é¢„è§é—®é¢˜ï¼Œæ¯”å¦‚æ–‡ä»¶ä¸å­˜åœ¨ã€ç½‘ç»œè¿æ¥å¤±è´¥ç­‰ï¼Œç¨‹åºåº”è¯¥å¯¹è¿™äº›æƒ…å†µåšå‡ºåˆç†çš„å¤„ç†ã€‚

**éå—æ£€å¼‚å¸¸**ä¸»è¦æŒ‡ RuntimeException åŠå…¶å­ç±»ï¼Œä»¥åŠ Error ç±»ã€‚è¿™ç±»å¼‚å¸¸åœ¨ç¼–è¯‘æœŸä¸å¼ºåˆ¶è¦æ±‚å¤„ç†ï¼Œå¯ä»¥é€‰æ‹©æ•è·ä¹Ÿå¯ä»¥ä¸æ•è·ã€‚RuntimeException é€šå¸¸æ˜¯ç”±ç¨‹åºé€»è¾‘é”™è¯¯å¼•èµ·çš„ï¼Œæ¯”å¦‚ NullPointerExceptionï¼ˆç©ºæŒ‡é’ˆï¼‰ã€ArrayIndexOutOfBoundsExceptionï¼ˆæ•°ç»„è¶Šç•Œï¼‰ã€IllegalArgumentExceptionï¼ˆéæ³•å‚æ•°ï¼‰ç­‰ã€‚å¦‚æœè¿™ç±»å¼‚å¸¸æ²¡æœ‰è¢«æ•è·ï¼Œä¼šå¯¼è‡´ç¨‹åºä¸­æ–­æ‰§è¡Œã€‚Error åˆ™è¡¨ç¤ºä¸¥é‡çš„ç³»ç»Ÿçº§é”™è¯¯ï¼Œæ¯”å¦‚ OutOfMemoryErrorã€StackOverflowErrorï¼Œè¿™ç±»é”™è¯¯é€šå¸¸æ— æ³•æ¢å¤ï¼Œç¨‹åºä¹Ÿä¸åº”è¯¥å»æ•è·ã€‚

ä¸¤è€…çš„æ ¸å¿ƒåŒºåˆ«åœ¨äºï¼šå—æ£€å¼‚å¸¸å¼ºåˆ¶è¦æ±‚å¤„ç†ï¼Œä»£è¡¨å¯é¢„è§çš„å¤–éƒ¨é—®é¢˜ï¼›éå—æ£€å¼‚å¸¸ä¸å¼ºåˆ¶å¤„ç†ï¼Œé€šå¸¸ä»£è¡¨ç¨‹åº bugï¼Œåº”è¯¥é€šè¿‡ä¿®å¤ä»£ç æ¥é¿å…ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 5.6 finally ä¸­çš„ä»£ç ä¸€å®šä¼šæ‰§è¡Œå—ï¼Ÿ

åœ¨æ­£å¸¸æƒ…å†µä¸‹ï¼Œåªè¦ try è¯­å¥å—å¼€å§‹æ‰§è¡Œäº†ï¼Œfinally ä¸­çš„ä»£ç å°±ä¸€å®šä¼šæ‰§è¡Œï¼Œæ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œä¹Ÿæ— è®º try æˆ– catch ä¸­æ˜¯å¦æœ‰ return è¯­å¥ã€‚è¿™æ˜¯ finally çš„è®¾è®¡åˆè¡·ï¼Œç”¨æ¥ä¿è¯èµ„æºé‡Šæ”¾ç­‰æ¸…ç†å·¥ä½œä¸€å®šèƒ½å¤Ÿå®Œæˆã€‚

ä½†åœ¨ä¸€äº›æç«¯æƒ…å†µä¸‹ï¼Œfinally ä¸­çš„ä»£ç å¯èƒ½ä¸ä¼šæ‰§è¡Œï¼š

ç¬¬ä¸€ï¼ŒJVM åœ¨ finally æ‰§è¡Œå‰å°±ç»ˆæ­¢äº†ã€‚æ¯”å¦‚åœ¨ try æˆ– catch ä¸­è°ƒç”¨äº† `System.exit(0)` å¼ºåˆ¶é€€å‡ºè™šæ‹Ÿæœºï¼Œæˆ–è€…è¿›ç¨‹è¢« `kill -9` å¼ºåˆ¶æ€æ­»ï¼Œè¿™æ—¶ JVM ç›´æ¥ç»ˆæ­¢ï¼Œfinally æ¥ä¸åŠæ‰§è¡Œã€‚

ç¬¬äºŒï¼Œç¨‹åºæ‰€åœ¨çº¿ç¨‹æ­»äº¡ã€‚å¦‚æœæ‰§è¡Œ try çš„çº¿ç¨‹è¢«ä¸­æ–­æˆ–æ­»äº¡ï¼Œfinally ä¹Ÿæ— æ³•æ‰§è¡Œã€‚

ç¬¬ä¸‰ï¼Œè®¡ç®—æœºæ–­ç”µæˆ–ç³»ç»Ÿå´©æºƒç­‰ä¸å¯æŠ—åŠ›å› ç´ ã€‚

ç¬¬å››ï¼Œtry è¯­å¥å—ä¸­å‡ºç°äº†æ­»å¾ªç¯æˆ–é•¿æ—¶é—´é˜»å¡ï¼Œå¯¼è‡´ç¨‹åºä¸€ç›´æ— æ³•æ‰§è¡Œåˆ° finallyã€‚

éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå³ä½¿ try æˆ– catch ä¸­æœ‰ return è¯­å¥ï¼Œfinally ä¾ç„¶ä¼šåœ¨ return ä¹‹å‰æ‰§è¡Œã€‚è€Œä¸”å¦‚æœ finally ä¸­ä¹Ÿæœ‰ return è¯­å¥ï¼Œä¼šè¦†ç›– try æˆ– catch ä¸­çš„ return å€¼ï¼Œè¿™ç§å†™æ³•åº”è¯¥é¿å…ï¼Œå› ä¸ºä¼šè®©ä»£ç é€»è¾‘å˜å¾—æ··ä¹±ã€‚

æ€»ç»“ï¼šåœ¨æ­£å¸¸çš„ç¨‹åºæµç¨‹ä¸­ï¼Œfinally ä¸€å®šä¼šæ‰§è¡Œï¼›ä½†åœ¨ JVM å¼‚å¸¸ç»ˆæ­¢ç­‰æç«¯æƒ…å†µä¸‹ï¼Œfinally å¯èƒ½ä¸ä¼šæ‰§è¡Œã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 5.7 try return A, finally return Cï¼Œæœ€ç»ˆè¿”å›å€¼æ˜¯ä»€ä¹ˆï¼Ÿ

æœ€ç»ˆè¿”å›å€¼æ˜¯ **C**ã€‚

**åŸå› åˆ†æï¼š**

finally å—ä¸­çš„ return è¯­å¥ä¼šè¦†ç›– try æˆ– catch å—ä¸­çš„ return è¯­å¥ã€‚æ‰§è¡Œé¡ºåºå¦‚ä¸‹ï¼š

1. æ‰§è¡Œ try å—ï¼Œé‡åˆ° return Aï¼Œå…ˆè®¡ç®— A çš„å€¼å¹¶æš‚å­˜
    
2. å¦‚æœæœ‰å¼‚å¸¸ï¼Œæ‰§è¡Œ catch å—ï¼Œé‡åˆ° return Bï¼Œå…ˆè®¡ç®— B çš„å€¼å¹¶æš‚å­˜
    
3. æ— è®ºæ˜¯å¦æœ‰å¼‚å¸¸ï¼Œéƒ½ä¼šæ‰§è¡Œ finally å—
    
4. finally å—ä¸­é‡åˆ° return Cï¼Œç›´æ¥è¿”å› Cï¼Œä¹‹å‰æš‚å­˜çš„ A æˆ– B è¢«ä¸¢å¼ƒ
    

**ä»£ç ç¤ºä¾‹ï¼š**

Java

```
public static String test() {
    try {
        System.out.println("æ‰§è¡Œ try");
        return "A";  // è¿™ä¸ªè¿”å›å€¼ä¼šè¢«è¦†ç›–
    } catch (Exception e) {
        System.out.println("æ‰§è¡Œ catch");
        return "B";  // è¿™ä¸ªè¿”å›å€¼ä¹Ÿä¼šè¢«è¦†ç›–
    } finally {
        System.out.println("æ‰§è¡Œ finally");
        return "C";  // æœ€ç»ˆè¿”å›è¿™ä¸ªå€¼
    }
}

// è°ƒç”¨ç»“æœ
String result = test();
System.out.println(result);  // è¾“å‡ºï¼šC
```

**è¾“å‡ºï¼š**

```
æ‰§è¡Œ try
æ‰§è¡Œ finally
C
```

**é‡è¦æç¤ºï¼š**

è¿™ç§åœ¨ finally ä¸­ä½¿ç”¨ return çš„å†™æ³•æ˜¯**å¼ºçƒˆä¸æ¨è**çš„ï¼ŒåŸå› å¦‚ä¸‹ï¼š

1. **è¿åç›´è§‰**ï¼šä¼šè¦†ç›– try/catch ä¸­çš„è¿”å›å€¼ï¼Œè®©ä»£ç é€»è¾‘å˜å¾—æ··ä¹±
    
2. **éšè—å¼‚å¸¸**ï¼šå¦‚æœ try/catch ä¸­æŠ›å‡ºäº†å¼‚å¸¸ï¼Œfinally ä¸­çš„ return ä¼šå¯¼è‡´å¼‚å¸¸è¢«åæ‰
    
3. **ä»£ç å¯è¯»æ€§å·®**ï¼šç»´æŠ¤äººå‘˜å¾ˆéš¾ç†è§£çœŸæ­£çš„è¿”å›é€»è¾‘
    

**æ­£ç¡®çš„åšæ³•ï¼š**

Java

```
public static String test() {
    String result = "A";
    try {
        System.out.println("æ‰§è¡Œ try");
        result = "A";
    } catch (Exception e) {
        System.out.println("æ‰§è¡Œ catch");
        result = "B";
    } finally {
        System.out.println("æ‰§è¡Œ finally");
        // ä¸è¦åœ¨ finally ä¸­ return
        // å¯ä»¥åœ¨è¿™é‡Œåšæ¸…ç†å·¥ä½œ
    }
    return result;  // åœ¨æ–¹æ³•æœ€åç»Ÿä¸€è¿”å›
}
```

**æ‰©å±•ï¼šå¦‚æœ finally ä¸­æ²¡æœ‰ returnï¼Œåªä¿®æ”¹è¿”å›å€¼ä¼šæ€æ ·ï¼Ÿ**

Java

```
public static int test() {
    int result = 1;
    try {
        return result;  // è¿”å› 1ï¼Œæ­¤æ—¶ result çš„å€¼å·²ç»è¢«å¤åˆ¶
    } finally {
        result = 2;  // ä¿®æ”¹ resultï¼Œä½†ä¸å½±å“è¿”å›å€¼
    }
}

System.out.println(test());  // è¾“å‡ºï¼š1ï¼ˆä¸æ˜¯ 2ï¼‰
```

è¿™æ˜¯å› ä¸º return è¯­å¥ä¼šå…ˆè®¡ç®—è¿”å›å€¼å¹¶å¤åˆ¶ä¸€ä»½ï¼Œfinally ä¸­ä¿®æ”¹çš„æ˜¯åŸå˜é‡ï¼Œä¸å½±å“å·²ç»å¤åˆ¶çš„è¿”å›å€¼ã€‚

**ä½†æ˜¯å¯¹äºå¼•ç”¨ç±»å‹ï¼š**

Java

```
public static StringBuilder test() {
    StringBuilder sb = new StringBuilder("A");
    try {
        return sb;  // è¿”å› sb çš„å¼•ç”¨
    } finally {
        sb.append("B");  // ä¿®æ”¹ sb æŒ‡å‘çš„å¯¹è±¡
    }
}

System.out.println(test());  // è¾“å‡ºï¼šAB
```

è¿™ç§æƒ…å†µä¸‹ï¼Œfinally ä¸­ä¿®æ”¹äº†å¯¹è±¡çš„å†…å®¹ï¼Œä¼šå½±å“è¿”å›å€¼ï¼Œå› ä¸ºè¿”å›çš„æ˜¯å¼•ç”¨ï¼ŒæŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªå¯¹è±¡ã€‚

**æ€»ç»“ï¼š**

- finally ä¸­çš„ return ä¼šè¦†ç›– try/catch ä¸­çš„ return
    
- å¼ºçƒˆä¸æ¨èåœ¨ finally ä¸­ä½¿ç”¨ return
    
- finally ä¸­ä¿®æ”¹åŸºæœ¬ç±»å‹çš„è¿”å›å€¼ä¸ä¼šç”Ÿæ•ˆ
    
- finally ä¸­ä¿®æ”¹å¼•ç”¨ç±»å‹æŒ‡å‘çš„å¯¹è±¡å†…å®¹ä¼šç”Ÿæ•ˆ
    

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 5.8 finalã€finallyã€finalize æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

è¿™ä¸‰ä¸ªè™½ç„¶åå­—ç›¸è¿‘ï¼Œä½†æ˜¯å®Œå…¨ä¸åŒçš„æ¦‚å¿µï¼Œåˆ†åˆ«å±äºä¸åŒçš„é¢†åŸŸï¼š

---

**1. finalï¼ˆå…³é”®å­— - ä¿®é¥°ç¬¦ï¼‰**

final æ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦å…³é”®å­—ï¼Œè¡¨ç¤º"æœ€ç»ˆçš„ã€ä¸å¯æ”¹å˜çš„"ï¼Œå¯ä»¥ä¿®é¥°ç±»ã€æ–¹æ³•å’Œå˜é‡ã€‚

**ä¿®é¥°ç±»ï¼š**

Java

```
public final class String {
    // String ç±»ä¸èƒ½è¢«ç»§æ‰¿
}
```

- ç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œæ— æ³•äº§ç”Ÿå­ç±»
    
- å¸¸è§ä¾‹å­ï¼šStringã€Integer ç­‰åŒ…è£…ç±»
    

**ä¿®é¥°æ–¹æ³•ï¼š**

Java

```
public class Parent {
    public final void show() {
        // æ–¹æ³•ä¸èƒ½è¢«é‡å†™
    }
}
```

- æ–¹æ³•ä¸èƒ½è¢«å­ç±»é‡å†™
    
- å¯ä»¥è¢«ç»§æ‰¿ï¼Œä½†ä¸èƒ½è¢«è¦†ç›–
    

**ä¿®é¥°å˜é‡ï¼š**

Java

```
// ä¿®é¥°åŸºæœ¬ç±»å‹ï¼šå€¼ä¸èƒ½æ”¹å˜
final int count = 10;
// count = 20;  // ç¼–è¯‘é”™è¯¯

// ä¿®é¥°å¼•ç”¨ç±»å‹ï¼šå¼•ç”¨ä¸èƒ½æ”¹å˜ï¼Œä½†å¯¹è±¡å†…å®¹å¯ä»¥æ”¹å˜
final List<String> list = new ArrayList<>();
list.add("hello");  // å¯ä»¥ï¼Œä¿®æ”¹å¯¹è±¡å†…å®¹
// list = new ArrayList<>();  // ç¼–è¯‘é”™è¯¯ï¼Œä¸èƒ½æ”¹å˜å¼•ç”¨
```

**ä½¿ç”¨åœºæ™¯ï¼š**

- å®šä¹‰å¸¸é‡ï¼š`public static final int MAX_SIZE = 100;`
    
- é˜²æ­¢ç»§æ‰¿ï¼šç¡®ä¿ç±»çš„è¡Œä¸ºä¸è¢«æ”¹å˜
    
- é˜²æ­¢é‡å†™ï¼šç¡®ä¿æ–¹æ³•çš„å®ç°ä¸è¢«æ”¹å˜
    
- çº¿ç¨‹å®‰å…¨ï¼šfinal å˜é‡å¤©ç„¶çº¿ç¨‹å®‰å…¨
    

---

2. finallyï¼ˆå…³é”®å­— - å¼‚å¸¸å¤„ç†ï¼‰**
    

finally æ˜¯å¼‚å¸¸å¤„ç†æœºåˆ¶çš„ä¸€éƒ¨åˆ†ï¼Œç”¨äºå®šä¹‰æ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸éƒ½è¦æ‰§è¡Œçš„ä»£ç å—ã€‚

**è¯­æ³•ï¼š**

Java

```
try {
    // å¯èƒ½æŠ›å‡ºå¼‚å¸¸çš„ä»£ç 
} catch (Exception e) {
    // å¼‚å¸¸å¤„ç†
} finally {
    // æ— è®ºå¦‚ä½•éƒ½ä¼šæ‰§è¡Œçš„ä»£ç 
    // é€šå¸¸ç”¨äºèµ„æºæ¸…ç†
}
```

**å…¸å‹ç”¨é€”ï¼š**

Java

```
FileInputStream fis = null;
try {
    fis = new FileInputStream("file.txt");
    // è¯»å–æ–‡ä»¶
} catch (IOException e) {
    e.printStackTrace();
} finally {
    // ç¡®ä¿èµ„æºè¢«é‡Šæ”¾
    if (fis != null) {
        try {
            fis.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}
```

**ç‰¹ç‚¹ï¼š**

- åªè¦ try æ‰§è¡Œäº†ï¼Œfinally å°±ä¸€å®šä¼šæ‰§è¡Œï¼ˆé™¤é JVM ç»ˆæ­¢ï¼‰
    
- å¸¸ç”¨äºèµ„æºæ¸…ç†ï¼šå…³é—­æ–‡ä»¶ã€é‡Šæ”¾è¿æ¥ã€è§£é”ç­‰
    
- æ¨èä½¿ç”¨ try-with-resources æ›¿ä»£æ‰‹åŠ¨ finally
    

---

3. finalizeï¼ˆæ–¹æ³• - åƒåœ¾å›æ”¶ï¼‰**
    

finalize æ˜¯ Object ç±»çš„ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨å¯¹è±¡è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ä¹‹å‰è°ƒç”¨ã€‚

**æ–¹æ³•ç­¾åï¼š**

Java

```
protected void finalize() throws Throwable {
    // å¯¹è±¡è¢«å›æ”¶å‰çš„æ¸…ç†å·¥ä½œ
}
```

**ç¤ºä¾‹ï¼š**

Java

```
public class Resource {
    @Override
    protected void finalize() throws Throwable {
        try {
            System.out.println("å¯¹è±¡è¢«å›æ”¶ï¼Œæ‰§è¡Œæ¸…ç†");
            // é‡Šæ”¾èµ„æº
        } finally {
            super.finalize();
        }
    }
}
```

**ä¸ºä»€ä¹ˆä¸æ¨èä½¿ç”¨ï¼Ÿ**

1. **æ‰§è¡Œæ—¶æœºä¸ç¡®å®š**ï¼šæ— æ³•é¢„æµ‹ GC ä½•æ—¶è¿è¡Œï¼Œfinalize å¯èƒ½å¾ˆæ™šæ‰æ‰§è¡Œï¼Œç”šè‡³ä¸æ‰§è¡Œ
    
2. **æ€§èƒ½å¼€é”€å¤§**ï¼šä½¿ç”¨ finalize çš„å¯¹è±¡éœ€è¦è‡³å°‘ä¸¤æ¬¡ GC æ‰èƒ½å›æ”¶
    
3. **å¯èƒ½å¯¼è‡´é—®é¢˜**ï¼šfinalize ä¸­çš„å¼‚å¸¸ä¼šè¢«å¿½ç•¥ï¼Œå¯èƒ½å¯¼è‡´èµ„æºæ³„éœ²
    
4. **å·²è¢«åºŸå¼ƒ**ï¼šJava 9 å¼€å§‹æ ‡è®°ä¸º @Deprecated
    

**æ¨èæ›¿ä»£æ–¹æ¡ˆï¼š**

ä½¿ç”¨ try-with-resources æˆ–æ˜¾å¼çš„ close() æ–¹æ³•ï¼š

Java

```
// æ¨èï¼štry-with-resources
try (FileInputStream fis = new FileInputStream("file.txt")) {
    // ä½¿ç”¨èµ„æº
} // è‡ªåŠ¨è°ƒç”¨ close()

// æˆ–è€…å®ç° AutoCloseable æ¥å£
public class MyResource implements AutoCloseable {
    @Override
    public void close() {
        // æ¸…ç†èµ„æº
    }
}
```

---

**é¢è¯•åŠ åˆ†é¡¹**

å¦‚æœé¢è¯•å®˜é—®åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥è¡¥å……è¯´æ˜ï¼š

1. **final çš„æ·±å…¥ç†è§£**ï¼š
    
    - final ä¿®é¥°çš„å¼•ç”¨ç±»å‹ï¼Œå¼•ç”¨ä¸å¯å˜ä½†å¯¹è±¡å†…å®¹å¯å˜
        
    - final æ–¹æ³•å¯ä»¥è¢«ç»§æ‰¿ä½†ä¸èƒ½è¢«é‡å†™
        
    - final ç±»çš„æ‰€æœ‰æ–¹æ³•éšå¼ä¸º final
        
2. **finally çš„æ‰§è¡Œæ—¶æœº**ï¼š
    
    - å³ä½¿ try/catch ä¸­æœ‰ returnï¼Œfinally ä¹Ÿä¼šåœ¨ return ä¹‹å‰æ‰§è¡Œ
        
    - ä½†ä¸æ¨èåœ¨ finally ä¸­ä½¿ç”¨ returnï¼Œä¼šè¦†ç›– try/catch çš„è¿”å›å€¼
        
3. **finalize çš„æ›¿ä»£æ–¹æ¡ˆ**ï¼š
    
    - Java 9+ ä½¿ç”¨ Cleaner å’Œ PhantomReference
        
    - å®ç° AutoCloseable æ¥å£ï¼Œä½¿ç”¨ try-with-resources
        
    - æ˜¾å¼æä¾› close() æˆ– dispose() æ–¹æ³•
        

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 5.9 ä¸ºä»€ä¹ˆä¸å»ºè®®ä½¿ç”¨å¼‚å¸¸æ§åˆ¶ä¸šåŠ¡æµç¨‹ï¼Ÿ

ä½¿ç”¨å¼‚å¸¸æ¥æ§åˆ¶ä¸šåŠ¡æµç¨‹æ˜¯ä¸€ç§ä¸å¥½çš„ç¼–ç¨‹å®è·µï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªåŸå› ï¼š

---

**1. æ€§èƒ½å¼€é”€å¤§**

å¼‚å¸¸å¤„ç†æœºåˆ¶çš„æ€§èƒ½å¼€é”€è¿œå¤§äºæ™®é€šçš„æ¡ä»¶åˆ¤æ–­ã€‚

**å¼‚å¸¸çš„å¼€é”€æ¥æºï¼š**

- **åˆ›å»ºå¼‚å¸¸å¯¹è±¡**ï¼šéœ€è¦åˆ†é…å†…å­˜
    
- **å¡«å……å¼‚å¸¸æ ˆ**ï¼šéœ€è¦æ•è·å½“å‰çš„è°ƒç”¨æ ˆä¿¡æ¯ï¼Œè¿™æ˜¯ä¸€ä¸ªæ˜‚è´µçš„æ“ä½œ
    
- **å¼‚å¸¸ä¼ æ’­**ï¼šå¼‚å¸¸éœ€è¦æ²¿ç€è°ƒç”¨é“¾å‘ä¸Šä¼ æ’­ï¼Œç›´åˆ°è¢«æ•è·
    
- **æ ˆå±•å¼€ï¼ˆStack Unwindingï¼‰**ï¼šJVM éœ€è¦é€å±‚é€€å‡ºæ–¹æ³•è°ƒç”¨æ ˆ
    

**æ€§èƒ½å¯¹æ¯”ç¤ºä¾‹ï¼š**

Java

```
// é”™è¯¯åšæ³•ï¼šä½¿ç”¨å¼‚å¸¸æ§åˆ¶æµç¨‹
public int parseIntBad(String str) {
    try {
        return Integer.parseInt(str);
    } catch (NumberFormatException e) {
        return 0;  // ä½¿ç”¨å¼‚å¸¸å¤„ç†éæ•°å­—æƒ…å†µ
    }
}

// æ­£ç¡®åšæ³•ï¼šä½¿ç”¨æ¡ä»¶åˆ¤æ–­
public int parseIntGood(String str) {
    if (str == null || !str.matches("\\d+")) {
        return 0;  // æå‰åˆ¤æ–­
    }
    return Integer.parseInt(str);
}
```

**æ€§èƒ½æµ‹è¯•ç»“æœï¼š**

- æ¡ä»¶åˆ¤æ–­ï¼šçº³ç§’çº§
    
- å¼‚å¸¸å¤„ç†ï¼šå¾®ç§’çº§ï¼ˆæ…¢ 100-1000 å€ï¼‰
    

---

2. **è¿åå¼‚å¸¸çš„è®¾è®¡åˆè¡·**
    

å¼‚å¸¸çš„è®¾è®¡ç›®çš„æ˜¯å¤„ç†**å¼‚å¸¸æƒ…å†µ**ï¼ˆexceptional conditionsï¼‰ï¼Œè€Œä¸æ˜¯å¤„ç†**æ­£å¸¸çš„ä¸šåŠ¡é€»è¾‘**ã€‚

**å¼‚å¸¸åº”è¯¥ç”¨äºï¼š**

- æ–‡ä»¶ä¸å­˜åœ¨
    
- ç½‘ç»œè¿æ¥å¤±è´¥
    
- æ•°ç»„è¶Šç•Œ
    
- ç©ºæŒ‡é’ˆå¼•ç”¨
    
- å…¶ä»–ä¸å¯é¢„æœŸçš„é”™è¯¯æƒ…å†µ
    

**å¼‚å¸¸ä¸åº”è¯¥ç”¨äºï¼š**

- ç”¨æˆ·è¾“å…¥éªŒè¯
    
- ä¸šåŠ¡è§„åˆ™åˆ¤æ–­
    
- æµç¨‹æ§åˆ¶
    
- å¾ªç¯ç»ˆæ­¢æ¡ä»¶
    

**é”™è¯¯ç¤ºä¾‹ï¼š**

Java

```
// é”™è¯¯ï¼šä½¿ç”¨å¼‚å¸¸æ§åˆ¶å¾ªç¯
public void processItems(List<String> items) {
    int index = 0;
    try {
        while (true) {
            String item = items.get(index++);
            process(item);
        }
    } catch (IndexOutOfBoundsException e) {
        // ä½¿ç”¨å¼‚å¸¸ä½œä¸ºå¾ªç¯ç»ˆæ­¢æ¡ä»¶
    }
}

// æ­£ç¡®ï¼šä½¿ç”¨æ­£å¸¸çš„å¾ªç¯æ§åˆ¶
public void processItems(List<String> items) {
    for (String item : items) {
        process(item);
    }
}
```

---

**3. é™ä½ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§**

ä½¿ç”¨å¼‚å¸¸æ§åˆ¶ä¸šåŠ¡æµç¨‹ä¼šè®©ä»£ç é€»è¾‘å˜å¾—æ™¦æ¶©éš¾æ‡‚ã€‚

**é”™è¯¯ç¤ºä¾‹ï¼š**

Java

```
// é”™è¯¯ï¼šä½¿ç”¨å¼‚å¸¸æ§åˆ¶ä¸šåŠ¡æµç¨‹
public void withdraw(Account account, double amount) {
    try {
        if (account.getBalance() < amount) {
            throw new InsufficientFundsException("ä½™é¢ä¸è¶³");
        }
        account.deduct(amount);
    } catch (InsufficientFundsException e) {
        // å¤„ç†ä½™é¢ä¸è¶³çš„æƒ…å†µ
        notifyUser(e.getMessage());
    }
}

// æ­£ç¡®ï¼šä½¿ç”¨æ¡ä»¶åˆ¤æ–­
public void withdraw(Account account, double amount) {
    if (account.getBalance() < amount) {
        notifyUser("ä½™é¢ä¸è¶³");
        return;
    }
    account.deduct(amount);
}
```

**ä¸ºä»€ä¹ˆç¬¬äºŒç§æ›´å¥½ï¼Ÿ**

- é€»è¾‘æ¸…æ™°ï¼šä¸€çœ¼å°±èƒ½çœ‹å‡ºæ˜¯åœ¨æ£€æŸ¥ä½™é¢
    
- æ„å›¾æ˜ç¡®ï¼šè¿™æ˜¯æ­£å¸¸çš„ä¸šåŠ¡åˆ¤æ–­ï¼Œä¸æ˜¯å¼‚å¸¸æƒ…å†µ
    
- æ˜“äºç»´æŠ¤ï¼šä¸éœ€è¦ç†è§£å¼‚å¸¸çš„ä¼ æ’­è·¯å¾„
    

---

**4. ç ´åä»£ç çš„æ­£å¸¸æµç¨‹**

å¼‚å¸¸ä¼šæ‰“æ–­æ­£å¸¸çš„ä»£ç æ‰§è¡Œæµç¨‹ï¼Œä½¿å¾—ç¨‹åºçš„æ§åˆ¶æµå˜å¾—å¤æ‚ã€‚

**é”™è¯¯ç¤ºä¾‹ï¼š**

Java

```
// é”™è¯¯ï¼šä½¿ç”¨å¼‚å¸¸æ§åˆ¶å¤šåˆ†æ”¯é€»è¾‘
public String getUserLevel(int score) {
    try {
        if (score >= 90) {
            throw new ExcellentException();
        } else if (score >= 60) {
            throw new PassException();
        } else {
            throw new FailException();
        }
    } catch (ExcellentException e) {
        return "ä¼˜ç§€";
    } catch (PassException e) {
        return "åŠæ ¼";
    } catch (FailException e) {
        return "ä¸åŠæ ¼";
    }
}

// æ­£ç¡®ï¼šä½¿ç”¨ if-else
public String getUserLevel(int score) {
    if (score >= 90) {
        return "ä¼˜ç§€";
    } else if (score >= 60) {
        return "åŠæ ¼";
    } else {
        return "ä¸åŠæ ¼";
    }
}
```

---

**5. è°ƒè¯•å›°éš¾**

ä½¿ç”¨å¼‚å¸¸æ§åˆ¶æµç¨‹ä¼šäº§ç”Ÿå¤§é‡çš„å¼‚å¸¸æ ˆä¿¡æ¯ï¼Œå¢åŠ è°ƒè¯•éš¾åº¦ã€‚

**é—®é¢˜ï¼š**

- æ—¥å¿—ä¸­å……æ–¥ç€å¤§é‡çš„å¼‚å¸¸æ ˆä¿¡æ¯
    
- éš¾ä»¥åŒºåˆ†çœŸæ­£çš„å¼‚å¸¸å’Œç”¨äºæµç¨‹æ§åˆ¶çš„å¼‚å¸¸
    
- å½±å“é—®é¢˜æ’æŸ¥æ•ˆç‡
    

---

**6. å¯èƒ½æ©ç›–çœŸæ­£çš„å¼‚å¸¸**

å¦‚æœç”¨å¼‚å¸¸æ§åˆ¶ä¸šåŠ¡æµç¨‹ï¼Œå¯èƒ½ä¼šä¸å°å¿ƒæ•è·å¹¶æ©ç›–çœŸæ­£çš„å¼‚å¸¸ã€‚

**é”™è¯¯ç¤ºä¾‹ï¼š**

Java

```
// å±é™©ï¼šå¯èƒ½æ©ç›–çœŸæ­£çš„å¼‚å¸¸
public void processData(String data) {
    try {
        // ä¸šåŠ¡é€»è¾‘
        if (data.isEmpty()) {
            throw new IllegalArgumentException("æ•°æ®ä¸ºç©º");
        }
        // æ›´å¤šå¤„ç†...
        someMethod(data);  // è¿™é‡Œå¯èƒ½æŠ›å‡ºå…¶ä»–å¼‚å¸¸
    } catch (Exception e) {
        // æœ¬æ„æ˜¯æ•è· IllegalArgumentException
        // ä½†ä¹Ÿä¼šæ•è· someMethod ä¸­çš„å…¶ä»–å¼‚å¸¸
        handleEmptyData();
    }
}
```

---

**æ­£ç¡®çš„åšæ³•**

**1. ä½¿ç”¨è¿”å›å€¼è¡¨ç¤ºç»“æœï¼š**

Java

```
// ä½¿ç”¨ Optional
public Optional<User> findUser(String id) {
    User user = database.query(id);
    return Optional.ofNullable(user);
}

// ä½¿ç”¨
Optional<User> userOpt = findUser("123");
if (userOpt.isPresent()) {
    User user = userOpt.get();
    // å¤„ç†ç”¨æˆ·
} else {
    // ç”¨æˆ·ä¸å­˜åœ¨
}
```

**2. ä½¿ç”¨çŠ¶æ€ç æˆ–ç»“æœå¯¹è±¡ï¼š**

Java

```
public class Result<T> {
    private boolean success;
    private T data;
    private String message;
    
    public static <T> Result<T> success(T data) {
        Result<T> result = new Result<>();
        result.success = true;
        result.data = data;
        return result;
    }
    
    public static <T> Result<T> fail(String message) {
        Result<T> result = new Result<>();
        result.success = false;
        result.message = message;
        return result;
    }
}

// ä½¿ç”¨
public Result<User> createUser(String name) {
    if (name == null || name.isEmpty()) {
        return Result.fail("ç”¨æˆ·åä¸èƒ½ä¸ºç©º");
    }
    User user = new User(name);
    return Result.success(user);
}
```

**3. ä½¿ç”¨æ¡ä»¶åˆ¤æ–­ï¼š**

Java

```
public void processOrder(Order order) {
    // ä½¿ç”¨æ¡ä»¶åˆ¤æ–­ï¼Œè€Œä¸æ˜¯å¼‚å¸¸
    if (order == null) {
        log.warn("è®¢å•ä¸ºç©º");
        return;
    }
    
    if (order.getAmount() <= 0) {
        log.warn("è®¢å•é‡‘é¢æ— æ•ˆ");
        return;
    }
    
    // æ­£å¸¸å¤„ç†è®¢å•
    processValidOrder(order);
}
```

---

**ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨å¼‚å¸¸ï¼Ÿ**

å¼‚å¸¸åº”è¯¥ç”¨äºå¤„ç†çœŸæ­£çš„å¼‚å¸¸æƒ…å†µï¼š

1. **å¤–éƒ¨èµ„æºé—®é¢˜**ï¼šæ–‡ä»¶ä¸å­˜åœ¨ã€ç½‘ç»œè¿æ¥å¤±è´¥ã€æ•°æ®åº“è¿æ¥å¤±è´¥
    
2. **ç³»ç»Ÿé”™è¯¯**ï¼šå†…å­˜ä¸è¶³ã€æ ˆæº¢å‡º
    
3. **ç¼–ç¨‹é”™è¯¯**ï¼šç©ºæŒ‡é’ˆã€æ•°ç»„è¶Šç•Œã€ç±»å‹è½¬æ¢é”™è¯¯
    
4. **ä¸å¯é¢„æœŸçš„æƒ…å†µ**ï¼šæ— æ³•é€šè¿‡æ­£å¸¸é€»è¾‘å¤„ç†çš„æƒ…å†µ
    

**æ­£ç¡®ä½¿ç”¨å¼‚å¸¸çš„ç¤ºä¾‹ï¼š**

Java

```
public User loadUser(String filename) throws IOException {
    // æ–‡ä»¶æ“ä½œå¯èƒ½å¤±è´¥ï¼Œè¿™æ˜¯çœŸæ­£çš„å¼‚å¸¸æƒ…å†µ
    try (BufferedReader reader = new BufferedReader(new FileReader(filename))) {
        String json = reader.readLine();
        return parseUser(json);
    }
    // IOException ä¼šå‘ä¸Šä¼ æ’­ï¼Œç”±è°ƒç”¨è€…å¤„ç†
}
```

---

**æ€»ç»“**

ä¸å»ºè®®ä½¿ç”¨å¼‚å¸¸æ§åˆ¶ä¸šåŠ¡æµç¨‹çš„åŸå› ï¼š

1. **æ€§èƒ½å¼€é”€å¤§**ï¼šå¼‚å¸¸å¤„ç†æ¯”æ¡ä»¶åˆ¤æ–­æ…¢ 100-1000 å€
    
2. **è¿åè®¾è®¡åˆè¡·**ï¼šå¼‚å¸¸æ˜¯ä¸ºäº†å¤„ç†å¼‚å¸¸æƒ…å†µï¼Œä¸æ˜¯ä¸šåŠ¡é€»è¾‘
    
3. **é™ä½å¯è¯»æ€§**ï¼šä»£ç é€»è¾‘å˜å¾—æ™¦æ¶©éš¾æ‡‚
    
4. **ç ´åæ­£å¸¸æµç¨‹**ï¼šæ‰“æ–­ä»£ç çš„æ­£å¸¸æ‰§è¡Œæµ
    
5. **è°ƒè¯•å›°éš¾**ï¼šäº§ç”Ÿå¤§é‡å¼‚å¸¸æ ˆä¿¡æ¯
    
6. **å¯èƒ½æ©ç›–çœŸæ­£çš„å¼‚å¸¸**ï¼šä¸å°å¿ƒæ•è·äº†ä¸è¯¥æ•è·çš„å¼‚å¸¸
    

**è®°ä½ï¼šå¼‚å¸¸æ˜¯ç”¨æ¥å¤„ç†å¼‚å¸¸çš„ï¼Œä¸æ˜¯ç”¨æ¥æ§åˆ¶æµç¨‹çš„ï¼**

**æœ€ä½³å®è·µï¼š**

- ä½¿ç”¨æ¡ä»¶åˆ¤æ–­å¤„ç†å¯é¢„æœŸçš„æƒ…å†µ
    
- ä½¿ç”¨è¿”å›å€¼ï¼ˆOptionalã€Resultï¼‰è¡¨ç¤ºæ“ä½œç»“æœ
    
- åªåœ¨çœŸæ­£çš„å¼‚å¸¸æƒ…å†µä¸‹ä½¿ç”¨å¼‚å¸¸
    
- è®©å¼‚å¸¸å‘ä¸Šä¼ æ’­ï¼Œç”±åˆé€‚çš„å±‚çº§å¤„ç†
    

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 5.10 Java æ³¨è§£çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ

æ³¨è§£ï¼ˆAnnotationï¼‰æ˜¯ Java æä¾›çš„ä¸€ç§ä¸ºä»£ç æ·»åŠ å…ƒæ•°æ®çš„æœºåˆ¶ã€‚æ³¨è§£æœ¬èº«ä¸ä¼šç›´æ¥å½±å“ä»£ç çš„æ‰§è¡Œé€»è¾‘ï¼Œä½†å¯ä»¥è¢«ç¼–è¯‘å™¨ã€å¼€å‘å·¥å…·æˆ–è¿è¡Œæ—¶é€šè¿‡åå°„è¯»å–ï¼Œä»è€Œå½±å“ç¨‹åºçš„è¡Œä¸ºã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ³¨è§£æ ‡è®°æŸäº›ç±»æˆ–æ–¹æ³•ï¼Œç„¶ååœ¨è¿è¡Œæ—¶é€šè¿‡åå°„æ£€æŸ¥è¿™äº›æ³¨è§£ï¼Œå½“æ»¡è¶³ç‰¹å®šæ¡ä»¶æ—¶æ‰§è¡Œç›¸åº”çš„æ“ä½œã€‚å¸¸è§çš„åº”ç”¨åœºæ™¯åŒ…æ‹¬ï¼šé…ç½®ä¿¡æ¯ï¼ˆå¦‚ Spring çš„ @Componentã€@Autowiredï¼‰ã€ä»£ç ç”Ÿæˆï¼ˆå¦‚ Lombok çš„ @Dataï¼‰ã€ç¼–è¯‘æ£€æŸ¥ï¼ˆå¦‚ @Overrideï¼‰ã€è¿è¡Œæ—¶å¤„ç†ï¼ˆå¦‚ JUnit çš„ @Testï¼‰ã€‚Java è¿˜æä¾›äº†å››ä¸ªé‡è¦çš„å…ƒæ³¨è§£ç”¨äºå®šä¹‰æ³¨è§£æœ¬èº«ï¼š@Target æŒ‡å®šæ³¨è§£çš„ä½œç”¨èŒƒå›´ï¼ˆç±»ã€æ–¹æ³•ã€å­—æ®µç­‰ï¼‰ï¼Œ@Retention æŒ‡å®šæ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸï¼ˆæºç æœŸã€ç¼–è¯‘æœŸã€è¿è¡ŒæœŸï¼‰ï¼Œ@Documented è¡¨ç¤ºæ³¨è§£æ˜¯å¦å‡ºç°åœ¨ JavaDoc ä¸­ï¼Œ@Inherited è¡¨ç¤ºæ³¨è§£æ˜¯å¦å¯ä»¥è¢«å­ç±»ç»§æ‰¿ã€‚é€šè¿‡è¿™äº›å…ƒæ³¨è§£çš„ç»„åˆï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºå‡ºåŠŸèƒ½å¼ºå¤§ä¸”çµæ´»çš„è‡ªå®šä¹‰æ³¨è§£ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 5.11 ä»€ä¹ˆæ˜¯åå°„æœºåˆ¶ï¼Ÿä¸ºä»€ä¹ˆåå°„æ…¢ï¼Ÿ

åå°„ï¼ˆReflectionï¼‰æ˜¯ Java æä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œå…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è·å–ç±»çš„ä¿¡æ¯å¹¶æ“ä½œç±»çš„æˆå‘˜ã€‚é€šè¿‡åå°„å¯ä»¥åœ¨è¿è¡Œæ—¶è·å–ç±»çš„æ„é€ æ–¹æ³•ã€å­—æ®µã€æ–¹æ³•ç­‰ä¿¡æ¯ï¼Œè¿˜å¯ä»¥åŠ¨æ€åˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€è®¿é—®å’Œä¿®æ”¹å­—æ®µã€‚

**åå°„çš„ä¸»è¦åŠŸèƒ½**

- è·å–ç±»çš„ä¿¡æ¯ï¼šåŒ…åã€ç±»åã€çˆ¶ç±»ã€å®ç°çš„æ¥å£ç­‰
    
- è·å–ç±»çš„æˆå‘˜ï¼šæ„é€ æ–¹æ³•ã€å­—æ®µã€æ–¹æ³•
    
- åŠ¨æ€æ“ä½œï¼šåˆ›å»ºå¯¹è±¡ã€è°ƒç”¨æ–¹æ³•ã€è®¿é—®å’Œä¿®æ”¹å­—æ®µï¼ˆåŒ…æ‹¬ç§æœ‰æˆå‘˜ï¼‰
    

**ä¸ºä»€ä¹ˆåå°„æ…¢ï¼Ÿ**

åå°„çš„æ€§èƒ½å¼€é”€ä¸»è¦æ¥è‡ªä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š

ç¬¬ä¸€ï¼Œæ— æ³•è¿›è¡Œç¼–è¯‘å™¨ä¼˜åŒ–ã€‚æ­£å¸¸çš„æ–¹æ³•è°ƒç”¨åœ¨ç¼–è¯‘æœŸå°±ç¡®å®šäº†ï¼Œç¼–è¯‘å™¨å’Œ JITï¼ˆå³æ—¶ç¼–è¯‘å™¨ï¼‰å¯ä»¥è¿›è¡Œå†…è”ã€é€ƒé€¸åˆ†æç­‰ä¼˜åŒ–ã€‚è€Œåå°„è°ƒç”¨åœ¨ç¼–è¯‘æœŸæ— æ³•ç¡®å®šï¼Œè¿™äº›ä¼˜åŒ–éƒ½æ— æ³•åº”ç”¨ï¼Œåªèƒ½åœ¨è¿è¡Œæ—¶åŠ¨æ€è§£æã€‚

ç¬¬äºŒï¼Œç±»å‹æ£€æŸ¥å’Œå‚æ•°è£…ç®±ã€‚ä½¿ç”¨åå°„è°ƒç”¨æ–¹æ³•æ—¶ï¼Œå‚æ•°éœ€è¦è¢«åŒ…è£…æˆ Object æ•°ç»„ä¼ é€’ï¼ŒåŸºæœ¬ç±»å‹ä¼šå‘ç”Ÿè‡ªåŠ¨è£…ç®±ã€‚æ–¹æ³•æ‰§è¡Œæ—¶åˆè¦å°† Object æ•°ç»„è½¬æ¢å›çœŸæ­£çš„å‚æ•°ç±»å‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šäº§ç”Ÿå¤§é‡ä¸´æ—¶å¯¹è±¡ã€‚å¯¹è±¡å¤šäº†å°±å®¹æ˜“è§¦å‘ GCï¼Œè€Œ GC ä¼šå¯¼è‡´ç¨‹åºåœé¡¿ï¼Œå½±å“æ€§èƒ½ã€‚

ç¬¬ä¸‰ï¼Œå®‰å…¨æ£€æŸ¥å¼€é”€ã€‚åå°„å¯ä»¥è®¿é—®ç§æœ‰æˆå‘˜ï¼Œæ¯æ¬¡åå°„æ“ä½œéƒ½éœ€è¦è¿›è¡Œå®‰å…¨æ€§æ£€æŸ¥å’Œè®¿é—®æƒé™éªŒè¯ï¼Œè¿™äº›æ£€æŸ¥éƒ½éœ€è¦æ—¶é—´ã€‚

ç¬¬å››ï¼Œæ–¹æ³•æŸ¥æ‰¾å¼€é”€ã€‚åå°„éœ€è¦ä»ç±»çš„æ–¹æ³•æ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡æ–¹æ³•ï¼Œè¿™æ˜¯ä¸€ä¸ªçº¿æ€§æŸ¥æ‰¾è¿‡ç¨‹ï¼Œæ¯”ç›´æ¥è°ƒç”¨æ…¢å¾—å¤šã€‚

**å¦‚ä½•ä¼˜åŒ–åå°„æ€§èƒ½ï¼Ÿ**

è™½ç„¶åå°„æ…¢ï¼Œä½†åœ¨æŸäº›åœºæ™¯ä¸‹ä¸å¯é¿å…ã€‚å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¼˜åŒ–ï¼š

- ç¼“å­˜åå°„å¯¹è±¡ï¼šå°† Classã€Methodã€Field ç­‰å¯¹è±¡ç¼“å­˜èµ·æ¥ï¼Œé¿å…é‡å¤è·å–
    
- ä½¿ç”¨ `setAccessible(true)`ï¼šè·³è¿‡å®‰å…¨æ£€æŸ¥ï¼Œæå‡æ€§èƒ½
    
- å‡å°‘åå°„ä½¿ç”¨é¢‘ç‡ï¼šåªåœ¨å¿…è¦æ—¶ä½¿ç”¨åå°„ï¼Œæ ¸å¿ƒé€»è¾‘å°½é‡ç”¨æ™®é€šè°ƒç”¨
    

æ€»çš„æ¥è¯´ï¼Œåå°„æä¾›äº†å¼ºå¤§çš„åŠ¨æ€èƒ½åŠ›ï¼Œä½†ç‰ºç‰²äº†æ€§èƒ½ã€‚åœ¨æ¡†æ¶å¼€å‘ã€æ’ä»¶ç³»ç»Ÿç­‰åœºæ™¯ä¸‹å¾ˆæœ‰ç”¨ï¼Œä½†åœ¨æ€§èƒ½æ•æ„Ÿçš„ä»£ç ä¸­åº”è¯¥è°¨æ…ä½¿ç”¨ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 5.12 åå°„ä¸å°è£…æ˜¯å¦çŸ›ç›¾ï¼Ÿå¦‚ä½•è§£å†³åå°„ç ´åå°è£…çš„é—®é¢˜ï¼Ÿ

åå°„è™½ç„¶ä¼šæ‰“ç ´å°è£…ï¼Œä½†å¹¶ä¸çŸ›ç›¾ï¼Œä¸¤è€…æ˜¯ä¸ºäº†ä¸åŒçš„ç›®çš„è€Œè®¾è®¡çš„ã€‚

å°è£…æ˜¯é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ä¹‹ä¸€ï¼Œç›®çš„æ˜¯å¯¹å†…éšè—å®ç°ç»†èŠ‚ã€å¯¹å¤–æš´éœ²å®‰å…¨æ¥å£ï¼Œä¿æŠ¤ç±»çš„å†…éƒ¨çŠ¶æ€ä¸è¢«éšæ„è®¿é—®å’Œä¿®æ”¹ã€‚è€Œåå°„æ˜¯ Java æä¾›çš„åœ¨è¿è¡Œæ—¶åŠ¨æ€è·å–ç±»ä¿¡æ¯ã€æ“ä½œç±»æˆå‘˜çš„æœºåˆ¶ï¼Œå®ƒçš„è®¾è®¡åˆè¡·æ˜¯ä¸ºäº†æä¾›çµæ´»æ€§å’Œæ‰©å±•æ€§ã€‚

è™½ç„¶åå°„ä¼šå¯¼è‡´æ€§èƒ½ä¸‹é™ï¼Œä½†åœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹æ˜¯å¿…éœ€çš„ï¼Œæ¯”å¦‚æ¡†æ¶è®¾è®¡ï¼ˆSpringã€MyBatisï¼‰ã€åºåˆ—åŒ–å’Œååºåˆ—åŒ–ã€JDK åŠ¨æ€ä»£ç†ã€æ³¨è§£å¤„ç†ç­‰ã€‚è¿™äº›åœºæ™¯éœ€è¦åœ¨è¿è¡Œæ—¶åŠ¨æ€æ“ä½œå¯¹è±¡ï¼Œå¦‚æœæ²¡æœ‰åå°„ï¼Œå¾ˆå¤šå¼ºå¤§çš„åŠŸèƒ½éƒ½æ— æ³•å®ç°ã€‚

**å¦‚ä½•è§£å†³åå°„å¸¦æ¥çš„å®‰å…¨é—®é¢˜ï¼Ÿ**

ç¬¬ä¸€ï¼Œéµå¾ªæœ€å°åŒ–åå°„åŸåˆ™ã€‚åªåœ¨å¿…é¡»ä½¿ç”¨åå°„çš„åœ°æ–¹æ‰ä½¿ç”¨ï¼Œèƒ½ç”¨æ™®é€šæ–¹æ³•è°ƒç”¨å°±ä¸ç”¨åå°„ã€‚æ ¸å¿ƒä¸šåŠ¡é€»è¾‘å°½é‡é¿å…ä½¿ç”¨åå°„ï¼Œå°†åå°„æ“ä½œé™åˆ¶åœ¨æ¡†æ¶å±‚æˆ–å·¥å…·ç±»ä¸­ã€‚

ç¬¬äºŒï¼Œå»ºç«‹åå°„ç™½åå•æœºåˆ¶ã€‚æ˜ç¡®å“ªäº›ç±»ã€å“ªäº›æ–¹æ³•å…è®¸è¢«åå°„è®¿é—®ï¼Œé™å®šåå°„çš„èŒƒå›´ã€‚å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æˆ–æ³¨è§£æ¥æ ‡è®°å…è®¸åå°„çš„ç±»å’Œæ–¹æ³•ï¼Œåœ¨è¿è¡Œæ—¶è¿›è¡Œæ£€æŸ¥ã€‚

ç¬¬ä¸‰ï¼Œä¸¥æ ¼çš„ä»£ç å®¡æŸ¥ã€‚åœ¨ Code Review æ—¶å¯¹åå°„ä»£ç è¿›è¡Œä¸¥æ ¼å®¡æŸ¥ï¼Œç¡®ä¿åå°„çš„ä½¿ç”¨æ˜¯åˆç†ä¸”å¿…è¦çš„ã€‚æ£€æŸ¥æ˜¯å¦æœ‰æ›´å¥½çš„æ›¿ä»£æ–¹æ¡ˆï¼Œè¯„ä¼°åå°„å¸¦æ¥çš„æ€§èƒ½å½±å“å’Œå®‰å…¨é£é™©ã€‚

ç¬¬å››ï¼Œä½¿ç”¨å®‰å…¨ç®¡ç†å™¨ã€‚åœ¨éœ€è¦é«˜å®‰å…¨æ€§çš„ç¯å¢ƒä¸­ï¼Œå¯ä»¥é€šè¿‡ Java å®‰å…¨ç®¡ç†å™¨ï¼ˆSecurityManagerï¼‰é™åˆ¶åå°„æ“ä½œï¼Œç¦æ­¢å¯¹æ•æ„Ÿç±»å’Œæ–¹æ³•çš„åå°„è®¿é—®ã€‚

ç¬¬äº”ï¼Œæ—¥å¿—å’Œç›‘æ§ã€‚å¯¹åå°„æ“ä½œè¿›è¡Œæ—¥å¿—è®°å½•ï¼Œç›‘æ§åå°„çš„ä½¿ç”¨æƒ…å†µï¼ŒåŠæ—¶å‘ç°å¼‚å¸¸çš„åå°„è¡Œä¸ºã€‚

æ€»çš„æ¥è¯´ï¼Œåå°„å’Œå°è£…å¹¶ä¸çŸ›ç›¾ï¼Œè€Œæ˜¯åœ¨ä¸åŒå±‚é¢æœåŠ¡äºä¸åŒçš„ç›®çš„ã€‚åˆç†ä½¿ç”¨åå°„ï¼Œé…åˆå¿…è¦çš„å®‰å…¨æªæ–½ï¼Œå¯ä»¥åœ¨ä¿è¯çµæ´»æ€§çš„åŒæ—¶ï¼Œæœ€å¤§ç¨‹åº¦åœ°ç»´æŠ¤å°è£…æ€§å’Œå®‰å…¨æ€§ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 5.13 Java çš„åŠ¨æ€ä»£ç†å¦‚ä½•å®ç°ï¼Ÿ

(å¾…è¡¥å……)

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

---

## å…­ã€ é«˜çº§ç‰¹æ€§ (SPI/è¯­æ³•ç³–)

### 6.1 ä»€ä¹ˆæ˜¯ SPIï¼Œå’Œ API æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

SPIï¼ˆService Provider Interfaceï¼‰æ˜¯æœåŠ¡æä¾›è€…æ¥å£ï¼ŒAPIï¼ˆApplication Programming Interfaceï¼‰æ˜¯åº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ã€‚å®ƒä»¬æœ€å¤§çš„åŒºåˆ«åœ¨äºè°ƒç”¨æ–¹å‘å’Œä½¿ç”¨åœºæ™¯ä¸åŒã€‚

**API çš„ç‰¹ç‚¹**

API æ˜¯å®ç°æ–¹æä¾›æ¥å£å¹¶å®Œæˆå®ç°ï¼Œè°ƒç”¨æ–¹ç›´æ¥ä½¿ç”¨ã€‚è°ƒç”¨æµç¨‹æ˜¯ï¼šè°ƒç”¨æ–¹ â†’ API æ¥å£ â†’ API å®ç°ã€‚

ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬ä½¿ç”¨ JDBC è¿æ¥æ•°æ®åº“ï¼š

Java

```
// æˆ‘ä»¬è°ƒç”¨ API
Connection conn = DriverManager.getConnection(url);
Statement stmt = conn.createStatement();
```

è¿™é‡Œæˆ‘ä»¬æ˜¯è°ƒç”¨æ–¹ï¼Œç›´æ¥ä½¿ç”¨ JDBC æä¾›çš„ APIã€‚

**SPI çš„ç‰¹ç‚¹**

SPI æ˜¯æ¥å£æä¾›æ–¹å®šä¹‰æ¥å£è§„èŒƒï¼Œç”±ç¬¬ä¸‰æ–¹æ¥å®ç°ï¼Œç„¶åæ¥å£æä¾›æ–¹é€šè¿‡æŸç§æœºåˆ¶æ¥å‘ç°å’ŒåŠ è½½è¿™äº›å®ç°ã€‚è°ƒç”¨æµç¨‹æ˜¯ï¼šæ¥å£å®šä¹‰æ–¹ â†’ SPI æ¥å£ â† ç¬¬ä¸‰æ–¹å®ç°ã€‚

è¿˜æ˜¯ JDBC çš„ä¾‹å­ï¼Œä½†ä»å¦ä¸€ä¸ªè§’åº¦çœ‹ï¼š

Java

```
// Java å®šä¹‰äº† Driver æ¥å£ï¼ˆSPIï¼‰
public interface Driver {
    Connection connect(String url, Properties info);
}

// MySQL å®ç°è¿™ä¸ªæ¥å£
public class MySQLDriver implements Driver {
    // å…·ä½“å®ç°
}

// Oracle å®ç°è¿™ä¸ªæ¥å£
public class OracleDriver implements Driver {
    // å…·ä½“å®ç°
}
```

Java åªå®šä¹‰äº† Driver æ¥å£è§„èŒƒï¼Œå…·ä½“å®ç°ç”±å„ä¸ªæ•°æ®åº“å‚å•†æä¾›ã€‚Java é€šè¿‡ SPI æœºåˆ¶è‡ªåŠ¨å‘ç°å’ŒåŠ è½½è¿™äº›å®ç°ã€‚

**æ ¸å¿ƒåŒºåˆ«**

è°ƒç”¨æ–¹å‘ä¸åŒï¼š

- APIï¼šæˆ‘ä»¬è°ƒç”¨åˆ«äººæä¾›çš„åŠŸèƒ½
    
- SPIï¼šåˆ«äººå®ç°æˆ‘ä»¬å®šä¹‰çš„è§„èŒƒ
    

ä½¿ç”¨åœºæ™¯ä¸åŒï¼š

- APIï¼šæä¾›å…·ä½“åŠŸèƒ½ç»™åˆ«äººç”¨
    
- SPIï¼šå®šä¹‰æ‰©å±•ç‚¹ï¼Œè®©åˆ«äººæ¥æ‰©å±•
    

**SPI çš„å®ç°æœºåˆ¶**

Java çš„ SPI æœºåˆ¶é€šè¿‡ `ServiceLoader` æ¥å®ç°ã€‚å…·ä½“æ­¥éª¤ï¼š

1. åœ¨ `META-INF/services/` ç›®å½•ä¸‹åˆ›å»ºä»¥æ¥å£å…¨é™å®šåå‘½åçš„æ–‡ä»¶
    
2. æ–‡ä»¶å†…å®¹æ˜¯å®ç°ç±»çš„å…¨é™å®šå
    
3. ä½¿ç”¨ `ServiceLoader` åŠ è½½å®ç°ç±»
    

Java

```
// åŠ è½½æ‰€æœ‰ Driver çš„å®ç°
ServiceLoader<Driver> loader = ServiceLoader.load(Driver.class);
for (Driver driver : loader) {
    // ä½¿ç”¨å…·ä½“çš„å®ç°
}
```

**å¸¸è§çš„ SPI åº”ç”¨**

- JDBC é©±åŠ¨åŠ è½½
    
- Spring Boot çš„è‡ªåŠ¨é…ç½®
    
- Dubbo çš„æ‰©å±•æœºåˆ¶
    
- SLF4J æ—¥å¿—æ¡†æ¶
    

æ€»ç»“ï¼šAPI æ˜¯ç»™åˆ«äººç”¨çš„ï¼ŒSPI æ˜¯è®©åˆ«äººæ‰©å±•çš„ã€‚API å…³æ³¨åŠŸèƒ½å®ç°ï¼ŒSPI å…³æ³¨æ‰©å±•æ€§å’Œæ’ä»¶åŒ–ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 6.2 è¯´å‡ ä¸ªå¸¸è§çš„è¯­æ³•ç³–ï¼Ÿ

1. è‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±ï¼ˆAutoboxing/Unboxingï¼‰
    

åŸºæœ¬ç±»å‹å’ŒåŒ…è£…ç±»ä¹‹é—´å¯ä»¥è‡ªåŠ¨è½¬æ¢ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨è°ƒç”¨ valueOf() å’Œ xxxValue() æ–¹æ³•ï¼š

Java

```
Integer i = 10;  // è‡ªåŠ¨è£…ç®±ï¼Œç­‰ä»·äº Integer.valueOf(10)
int j = i;       // è‡ªåŠ¨æ‹†ç®±ï¼Œç­‰ä»·äº i.intValue()
```

2. try-with-resources
    

è‡ªåŠ¨èµ„æºç®¡ç†ï¼Œåªè¦èµ„æºå®ç°äº† AutoCloseable æˆ– Closeable æ¥å£ï¼Œtry æ‰§è¡Œå®Œæ¯•åä¼šè‡ªåŠ¨è°ƒç”¨ close() æ–¹æ³•é‡Šæ”¾èµ„æºï¼Œä¸éœ€è¦æ‰‹åŠ¨å…³é—­ï¼š

Java

```
try (FileInputStream fis = new FileInputStream("file.txt")) {
    // ä½¿ç”¨èµ„æº
} // è‡ªåŠ¨è°ƒç”¨ fis.close()
```

3. å¢å¼º for å¾ªç¯ï¼ˆfor-eachï¼‰
    

ç®€åŒ–äº†é›†åˆå’Œæ•°ç»„çš„éå†ï¼Œç¼–è¯‘å™¨ä¼šå°†å…¶è½¬æ¢ä¸ºè¿­ä»£å™¨æˆ–æ™®é€š for å¾ªç¯ï¼š

Java

```
for (String item : list) {
    System.out.println(item);
}
```

4. æ³›å‹
    

ç¼–è¯‘æ—¶æä¾›ç±»å‹æ£€æŸ¥ï¼Œè¿è¡Œæ—¶ä¼šè¿›è¡Œç±»å‹æ“¦é™¤ï¼š

Java

```
List<String> list = new ArrayList<>();  // ç¼–è¯‘åæ³›å‹ä¿¡æ¯ä¼šè¢«æ“¦é™¤
```

5. å¯å˜å‚æ•°ï¼ˆVarargsï¼‰
    

æ–¹æ³•å¯ä»¥æ¥æ”¶ä¸å®šæ•°é‡çš„å‚æ•°ï¼Œç¼–è¯‘å™¨ä¼šå°†å…¶è½¬æ¢ä¸ºæ•°ç»„ï¼š

Java

```
public void method(String... args) {}  // å®é™…æ˜¯ String[] args
```

6. Lambda è¡¨è¾¾å¼
    

ç®€åŒ–äº†åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•ï¼Œç¼–è¯‘å™¨ä¼šå°†å…¶è½¬æ¢ä¸ºå‡½æ•°å¼æ¥å£çš„å®ç°ï¼š

Java

```
list.forEach(item -> System.out.println(item));
```

7. switch æ”¯æŒ String å’Œæšä¸¾
    

æ—©æœŸ switch åªæ”¯æŒæ•´å‹ï¼Œç°åœ¨æ”¯æŒ String å’Œæšä¸¾ï¼Œç¼–è¯‘å™¨ä¼šè½¬æ¢ä¸º if-else æˆ–æ•´å‹ switchã€‚

8. æšä¸¾ç±»å‹
    

çœ‹èµ·æ¥æ˜¯ç‰¹æ®Šçš„ç±»å‹ï¼Œå®é™…ä¸Šç¼–è¯‘åä¼šç”Ÿæˆç»§æ‰¿è‡ª Enum çš„ç±»ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 6.3 Lambda è¡¨è¾¾å¼æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ

Lambda è¡¨è¾¾å¼çš„å®ç°æ¯”è¾ƒå¤æ‚ï¼Œå®ƒå¹¶ä¸æ˜¯ç®€å•çš„è¯­æ³•ç³–ï¼Œè€Œæ˜¯é€šè¿‡ invokedynamic æŒ‡ä»¤å’Œæ–¹æ³•å¥æŸ„æ¥å®ç°çš„ã€‚

å®ç°æœºåˆ¶ï¼š

ç¬¬ä¸€æ­¥ï¼šç¼–è¯‘æ—¶è½¬æ¢

ç¼–è¯‘å™¨åœ¨ç¼–è¯‘ Lambda è¡¨è¾¾å¼æ—¶ï¼Œä¼šåšä¸¤ä»¶äº‹ï¼šå°† Lambda è¡¨è¾¾å¼çš„ä»£ç ä½“ç”Ÿæˆä¸ºä¸€ä¸ªç§æœ‰é™æ€æ–¹æ³•ï¼ˆæˆ–å®ä¾‹æ–¹æ³•ï¼‰ï¼Œåœ¨ Lambda è¡¨è¾¾å¼çš„ä½ç½®ç”Ÿæˆä¸€ä¸ª invokedynamic æŒ‡ä»¤ã€‚

ä¸¾ä¸ªä¾‹å­ï¼š

Java

```
List<String> list = Arrays.asList("a", "b", "c");
list.forEach(s -> System.out.println(s));
```

ç¼–è¯‘åï¼ŒLambda ä½“ä¼šè¢«è½¬æ¢æˆç±»ä¼¼è¿™æ ·çš„ç§æœ‰æ–¹æ³•ï¼š

Java

```
private static void lambda$main$0(String s) {
    System.out.println(s);
}
```

ç¬¬äºŒæ­¥ï¼šè¿è¡Œæ—¶åŠ¨æ€é“¾æ¥

å½“ç¨‹åºç¬¬ä¸€æ¬¡æ‰§è¡Œåˆ° Lambda è¡¨è¾¾å¼æ—¶ï¼Œinvokedynamic æŒ‡ä»¤ä¼šè°ƒç”¨ Java æä¾›çš„ LambdaMetafactory å·¥å‚ç±»ï¼ŒåŠ¨æ€ç”Ÿæˆä¸€ä¸ªå®ç°äº†å‡½æ•°å¼æ¥å£çš„å†…éƒ¨ç±»ï¼Œè¿™ä¸ªå†…éƒ¨ç±»ä¼šè°ƒç”¨å‰é¢ç”Ÿæˆçš„ç§æœ‰æ–¹æ³•ã€‚

ä¸ºä»€ä¹ˆä¸ç”¨åŒ¿åå†…éƒ¨ç±»ï¼Ÿ

ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æœ‰æ˜æ˜¾çš„ç¼ºç‚¹ï¼šæ¯ä¸ª Lambda éƒ½ä¼šç”Ÿæˆä¸€ä¸ª class æ–‡ä»¶ï¼Œå¢åŠ ç±»åŠ è½½å¼€é”€ï¼›æ€§èƒ½è¾ƒå·®ï¼Œå¯åŠ¨é€Ÿåº¦æ…¢ã€‚

ä½¿ç”¨ invokedynamic çš„ä¼˜åŠ¿ï¼šå»¶è¿Ÿç»‘å®šï¼Œåªåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶æ‰ç”Ÿæˆå®ç°ç±»ï¼›å¯ä»¥è¿›è¡Œæ›´å¤šçš„è¿è¡Œæ—¶ä¼˜åŒ–ï¼›å‡å°‘äº† class æ–‡ä»¶çš„æ•°é‡ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 6.4 while(true) å’Œ for(;;) å“ªä¸ªæ€§èƒ½å¥½ï¼Ÿ

å®ƒä»¬çš„æ€§èƒ½ä¸€æ ·å¥½ï¼Œå› ä¸ºåº•å±‚å®ç°æ˜¯ç›¸åŒçš„ï¼Œéƒ½æ˜¯ä½¿ç”¨ goto æŒ‡ä»¤å®ç°çš„ï¼Œåç¼–è¯‘çš„å­—èŠ‚ç å®Œå…¨ç›¸åŒã€‚

è¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„è¯¯åŒºï¼Œå¾ˆå¤šäººè®¤ä¸º for(;;) æ€§èƒ½æ›´å¥½ï¼Œä½†å®é™…ä¸Šç¼–è¯‘å™¨ä¼šå°†å®ƒä»¬ä¼˜åŒ–æˆç›¸åŒçš„å­—èŠ‚ç ã€‚æ‰€ä»¥åœ¨å®é™…å¼€å‘ä¸­ï¼Œé€‰æ‹©å“ªä¸ªå®Œå…¨å–å†³äºä¸ªäººä¹ æƒ¯å’Œä»£ç å¯è¯»æ€§ï¼Œä¸éœ€è¦è€ƒè™‘æ€§èƒ½å·®å¼‚ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

---

## ä¸ƒã€ å®¹å™¨ã€æ—¶é—´ä¸å¹¶å‘åŸºç¡€

### 7.1 Stream çš„å¹¶è¡Œæµä¸€å®šæ¯”ä¸²è¡Œæµæ›´å¿«å—ï¼Ÿ

ä¸ä¸€å®šï¼Œå¹¶è¡Œæµå¹¶ä¸æ€»æ˜¯æ¯”ä¸²è¡Œæµå¿«ï¼Œåœ¨æŸäº›åœºæ™¯ä¸‹ç”šè‡³ä¼šæ›´æ…¢ã€‚

**å¹¶è¡Œæµçš„å¼€é”€**

å¹¶è¡Œæµè™½ç„¶å¯ä»¥åˆ©ç”¨å¤šæ ¸ CPU å¹¶è¡Œå¤„ç†æ•°æ®ï¼Œä½†å®ƒä¹Ÿå¸¦æ¥äº†é¢å¤–çš„å¼€é”€ï¼š

1. **çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯**ï¼šéœ€è¦åˆ›å»ºå’Œç®¡ç†å·¥ä½œçº¿ç¨‹
    
2. **ä»»åŠ¡åˆ†è§£å’Œåˆå¹¶**ï¼šéœ€è¦å°†æ•°æ®æ‹†åˆ†æˆå¤šä¸ªå­ä»»åŠ¡ï¼Œæœ€åå†åˆå¹¶ç»“æœ
    
3. **çº¿ç¨‹ä¸Šä¸‹æ–‡åˆ‡æ¢**ï¼šå¤šçº¿ç¨‹ä¹‹é—´çš„åˆ‡æ¢æœ‰å¼€é”€
    
4. **çº¿ç¨‹åŒæ­¥**ï¼šéœ€è¦åè°ƒå¤šä¸ªçº¿ç¨‹çš„æ‰§è¡Œ
    
5. **ç¯å¢ƒå‡†å¤‡**ï¼šFork/Join æ¡†æ¶çš„åˆå§‹åŒ–
    

è¿™äº›å¼€é”€åœ¨æ•°æ®é‡å°çš„æ—¶å€™å¯èƒ½ä¼šè¶…è¿‡å¹¶è¡Œå¸¦æ¥çš„æ€§èƒ½æå‡ï¼Œå¯¼è‡´å¹¶è¡Œæµåè€Œæ¯”ä¸²è¡Œæµæ…¢ã€‚

**ä»€ä¹ˆæ—¶å€™å¹¶è¡Œæµæ›´å¿«ï¼Ÿ**

å¹¶è¡Œæµé€‚åˆä»¥ä¸‹åœºæ™¯ï¼š

1. **æ•°æ®é‡å¤§**ï¼šé€šå¸¸è‡³å°‘éœ€è¦å‡ åƒåˆ°å‡ ä¸‡æ¡æ•°æ®ï¼Œæ‰èƒ½æŠµæ¶ˆå¹¶è¡Œçš„å¼€é”€
    
2. **è®¡ç®—å¯†é›†å‹ä»»åŠ¡**ï¼šæ¯ä¸ªå…ƒç´ çš„å¤„ç†é€»è¾‘æ¯”è¾ƒå¤æ‚ï¼Œè€—æ—¶è¾ƒé•¿
    
3. **æ— çŠ¶æ€æ“ä½œ**ï¼šæ“ä½œä¹‹é—´ç›¸äº’ç‹¬ç«‹ï¼Œæ²¡æœ‰ä¾èµ–å…³ç³»
    
4. **æ˜“äºæ‹†åˆ†çš„æ•°æ®æº**ï¼šArrayListã€æ•°ç»„ç­‰å¯ä»¥é«˜æ•ˆæ‹†åˆ†ï¼ŒLinkedList åˆ™ä¸é€‚åˆ
    

**ä»€ä¹ˆæ—¶å€™ä¸²è¡Œæµæ›´å¿«ï¼Ÿ**

ä¸²è¡Œæµé€‚åˆä»¥ä¸‹åœºæ™¯ï¼š

1. **æ•°æ®é‡å°**ï¼šå‡ ç™¾æ¡ä»¥å†…çš„æ•°æ®ï¼Œä¸²è¡Œæµé€šå¸¸æ›´å¿«
    
2. **IO å¯†é›†å‹ä»»åŠ¡**ï¼šå¤§é‡æ—¶é—´èŠ±åœ¨ç­‰å¾… IO ä¸Šï¼Œå¹¶è¡Œæ„ä¹‰ä¸å¤§
    
3. **æœ‰çŠ¶æ€æ“ä½œ**ï¼šå¦‚ sorted()ã€distinct() ç­‰éœ€è¦å…¨å±€çŠ¶æ€çš„æ“ä½œ
    
4. **é¡ºåºæ•æ„Ÿ**ï¼šéœ€è¦ä¿è¯å¤„ç†é¡ºåºçš„åœºæ™¯
    

**æ€§èƒ½å¯¹æ¯”ç¤ºä¾‹ï¼š**

Java

```
// æ•°æ®é‡å°çš„æƒ…å†µï¼ˆ1000 æ¡ï¼‰
List<Integer> smallList = IntStream.range(0, 1000)
    .boxed()
    .collect(Collectors.toList());

// ä¸²è¡Œæµï¼šçº¦ 1ms
long start = System.currentTimeMillis();
long sum1 = smallList.stream()
    .mapToInt(i -> i * 2)
    .sum();
System.out.println("ä¸²è¡Œæµè€—æ—¶ï¼š" + (System.currentTimeMillis() - start) + "ms");

// å¹¶è¡Œæµï¼šçº¦ 5msï¼ˆæ›´æ…¢ï¼ï¼‰
start = System.currentTimeMillis();
long sum2 = smallList.parallelStream()
    .mapToInt(i -> i * 2)
    .sum();
System.out.println("å¹¶è¡Œæµè€—æ—¶ï¼š" + (System.currentTimeMillis() - start) + "ms");

// æ•°æ®é‡å¤§çš„æƒ…å†µï¼ˆ1000ä¸‡æ¡ï¼‰
List<Integer> largeList = IntStream.range(0, 10_000_000)
    .boxed()
    .collect(Collectors.toList());

// ä¸²è¡Œæµï¼šçº¦ 200ms
start = System.currentTimeMillis();
sum1 = largeList.stream()
    .mapToInt(i -> i * 2)
    .sum();
System.out.println("ä¸²è¡Œæµè€—æ—¶ï¼š" + (System.currentTimeMillis() - start) + "ms");

// å¹¶è¡Œæµï¼šçº¦ 50msï¼ˆæ›´å¿«ï¼ï¼‰
start = System.currentTimeMillis();
sum2 = largeList.parallelStream()
    .mapToInt(i -> i * 2)
    .sum();
System.out.println("å¹¶è¡Œæµè€—æ—¶ï¼š" + (System.currentTimeMillis() - start) + "ms");
```

**ä½¿ç”¨å»ºè®®**

1. **ä¸è¦ç›²ç›®ä½¿ç”¨å¹¶è¡Œæµ**ï¼šé»˜è®¤ä½¿ç”¨ä¸²è¡Œæµï¼Œåªåœ¨ç¡®å®éœ€è¦æ—¶æ‰ä½¿ç”¨å¹¶è¡Œæµ
    
2. **å…ˆæµ‹è¯•å†å†³å®š**ï¼šé€šè¿‡æ€§èƒ½æµ‹è¯•å¯¹æ¯”ä¸²è¡Œå’Œå¹¶è¡Œçš„å®é™…æ•ˆæœ
    
3. **æ³¨æ„çº¿ç¨‹å®‰å…¨**ï¼šå¹¶è¡Œæµä¸­çš„æ“ä½œå¿…é¡»æ˜¯çº¿ç¨‹å®‰å…¨çš„
    
4. **é¿å…æœ‰çŠ¶æ€æ“ä½œ**ï¼šå°½é‡ä½¿ç”¨æ— çŠ¶æ€çš„æ“ä½œï¼Œå¦‚ mapã€filter
    
5. **åˆç†è®¾ç½®å¹¶è¡Œåº¦**ï¼šå¯ä»¥é€šè¿‡ç³»ç»Ÿå±æ€§è°ƒæ•´ Fork/Join çº¿ç¨‹æ± çš„å¤§å°
    

**å¸¸è§è¯¯åŒº**

Java

```
// è¯¯åŒº1ï¼šè®¤ä¸ºå¹¶è¡Œæµæ€»æ˜¯æ›´å¿«
list.parallelStream()  // ä¸ä¸€å®šï¼éœ€è¦æ ¹æ®åœºæ™¯åˆ¤æ–­

// è¯¯åŒº2ï¼šåœ¨å¹¶è¡Œæµä¸­ä½¿ç”¨éçº¿ç¨‹å®‰å…¨çš„æ“ä½œ
List<Integer> result = new ArrayList<>();  // ArrayList ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„
list.parallelStream()
    .forEach(i -> result.add(i));  // é”™è¯¯ï¼å¯èƒ½ä¸¢å¤±æ•°æ®

// æ­£ç¡®åšæ³•ï¼šä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„æ”¶é›†å™¨
List<Integer> result = list.parallelStream()
    .collect(Collectors.toList());  // æ­£ç¡®
```

**æ€»ç»“**

å¹¶è¡Œæµä¸æ˜¯é“¶å¼¹ï¼Œå®ƒåœ¨æ•°æ®é‡å¤§ã€è®¡ç®—å¯†é›†çš„åœºæ™¯ä¸‹èƒ½æ˜¾è‘—æå‡æ€§èƒ½ï¼Œä½†åœ¨æ•°æ®é‡å°æˆ– IO å¯†é›†çš„åœºæ™¯ä¸‹åè€Œä¼šå› ä¸ºé¢å¤–å¼€é”€è€Œå˜æ…¢ã€‚ä½¿ç”¨æ—¶éœ€è¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œæ€§èƒ½æµ‹è¯•ï¼Œé€‰æ‹©æœ€åˆé€‚çš„æ–¹æ¡ˆã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 7.2 SimpleDateFormat æ˜¯çº¿ç¨‹å®‰å…¨çš„å—ï¼Ÿä½¿ç”¨æ—¶åº”è¯¥æ³¨æ„ä»€ä¹ˆï¼Ÿ

SimpleDateFormat ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚è¿™æ˜¯å› ä¸ºå®ƒå†…éƒ¨ä½¿ç”¨äº† Calendar å¯¹è±¡æ¥å­˜å‚¨ä¸­é—´çŠ¶æ€ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶ä½¿ç”¨åŒä¸€ä¸ª SimpleDateFormat å®ä¾‹æ—¶ï¼Œä¼šç›¸äº’å¹²æ‰°ï¼Œå¯¼è‡´è§£ææˆ–æ ¼å¼åŒ–ç»“æœé”™è¯¯ï¼Œç”šè‡³æŠ›å‡ºå¼‚å¸¸ã€‚

**ä½¿ç”¨æ—¶çš„æ³¨æ„äº‹é¡¹å’Œè§£å†³æ–¹æ¡ˆï¼š**

ç¬¬ä¸€ï¼Œé¿å…å…±äº«å®ä¾‹ã€‚ä¸è¦ç”¨ static ä¿®é¥° SimpleDateFormatï¼Œä¹Ÿä¸è¦å°†å…¶ä½œä¸ºç±»çš„æˆå‘˜å˜é‡åœ¨å¤šçº¿ç¨‹é—´å…±äº«ã€‚æœ€ç®€å•çš„åšæ³•æ˜¯æ¯æ¬¡ä½¿ç”¨æ—¶éƒ½åˆ›å»ºæ–°çš„å®ä¾‹ï¼Œç”¨å®Œå³ä¸¢å¼ƒã€‚è™½ç„¶ä¼šæœ‰ä¸€äº›æ€§èƒ½å¼€é”€ï¼Œä½†ä¿è¯äº†çº¿ç¨‹å®‰å…¨ã€‚

ç¬¬äºŒï¼Œä½¿ç”¨ ThreadLocalã€‚å¦‚æœé¢‘ç¹åˆ›å»º SimpleDateFormat å¯¹è±¡å½±å“æ€§èƒ½ï¼Œå¯ä»¥ä½¿ç”¨ ThreadLocal ä¸ºæ¯ä¸ªçº¿ç¨‹ç»´æŠ¤ä¸€ä¸ªç‹¬ç«‹çš„å®ä¾‹ï¼š

Java

```
private static ThreadLocal<SimpleDateFormat> threadLocal = 
    ThreadLocal.withInitial(() -> new SimpleDateFormat("yyyy-MM-dd"));
```

ç¬¬ä¸‰ï¼ŒåŠ é”åŒæ­¥ã€‚å¦‚æœå¿…é¡»å…±äº«åŒä¸€ä¸ªå®ä¾‹ï¼Œå¯ä»¥ä½¿ç”¨ synchronized åŠ é”ï¼Œä½†è¿™ä¼šé™ä½å¹¶å‘æ€§èƒ½ï¼Œä¸æ¨èã€‚

ç¬¬å››ï¼Œä½¿ç”¨æ›¿ä»£æ–¹æ¡ˆã€‚æ¨èä½¿ç”¨ Java 8 å¼•å…¥çš„ DateTimeFormatterï¼Œå®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œæ€§èƒ½ä¹Ÿæ›´å¥½ï¼š

Java

```
DateTimeFormatter formatter = DateTimeFormatter.ofPattern("yyyy-MM-dd");
String date = LocalDate.now().format(formatter);
```

æˆ–è€…ä½¿ç”¨ Apache Commons Lang çš„ FastDateFormatï¼Œå®ƒä¹Ÿæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚

æ€»ç»“ï¼šSimpleDateFormat ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹åº”è¯¥é¿å…å…±äº«å®ä¾‹ï¼Œä¼˜å…ˆä½¿ç”¨ DateTimeFormatter ç­‰çº¿ç¨‹å®‰å…¨çš„æ›¿ä»£æ–¹æ¡ˆã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 7.3 Java ä¸­ Timer å®ç°å®šæ—¶è°ƒåº¦çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ

Timer æ˜¯ Java æä¾›çš„ä¸€ä¸ªç®€å•çš„å®šæ—¶ä»»åŠ¡è°ƒåº¦å·¥å…·ï¼Œå®ƒçš„å®ç°åŸç†ä¸»è¦ä¾èµ–ä¸¤ä¸ªæ ¸å¿ƒç»„ä»¶ï¼š

**æ ¸å¿ƒç»„ä»¶ï¼š**

1. **ä»»åŠ¡é˜Ÿåˆ—ï¼ˆTaskQueueï¼‰**ï¼šä¸€ä¸ªåŸºäºæœ€å°å †å®ç°çš„ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼Œç”¨æ¥å­˜å‚¨æ‰€æœ‰çš„å®šæ—¶ä»»åŠ¡ï¼ˆTimerTaskï¼‰ã€‚é˜Ÿåˆ—å§‹ç»ˆä¿è¯æ‰§è¡Œæ—¶é—´æœ€æ—©çš„ä»»åŠ¡æ’åœ¨é˜Ÿé¦–ï¼Œè¿™æ ·å¯ä»¥å¿«é€Ÿè·å–ä¸‹ä¸€ä¸ªéœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ã€‚
    
2. **åå°çº¿ç¨‹ï¼ˆTimerThreadï¼‰**ï¼šä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹ï¼Œä¸æ–­åœ°æ‰«æä»»åŠ¡é˜Ÿåˆ—çš„é˜Ÿé¦–ï¼Œæ£€æŸ¥ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´æ˜¯å¦åˆ°è¾¾ã€‚
    

**å·¥ä½œæµç¨‹ï¼š**

1. ç”¨æˆ·é€šè¿‡ `timer.schedule()` æ–¹æ³•æäº¤å®šæ—¶ä»»åŠ¡ï¼Œä»»åŠ¡è¢«æ·»åŠ åˆ°ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­
    
2. åå°çº¿ç¨‹æŒç»­ç›‘æ§é˜Ÿé¦–ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´
    
3. å½“é˜Ÿé¦–ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´åˆ°è¾¾æ—¶ï¼Œåå°çº¿ç¨‹å°†å…¶ä»é˜Ÿåˆ—ä¸­å–å‡º
    
4. è°ƒç”¨ä»»åŠ¡çš„ `run()` æ–¹æ³•æ‰§è¡Œä»»åŠ¡
    
5. å¦‚æœæ˜¯å‘¨æœŸæ€§ä»»åŠ¡ï¼Œé‡æ–°è®¡ç®—ä¸‹æ¬¡æ‰§è¡Œæ—¶é—´ï¼Œå†æ¬¡åŠ å…¥é˜Ÿåˆ—
    
6. ç»§ç»­ç›‘æ§ä¸‹ä¸€ä¸ªé˜Ÿé¦–ä»»åŠ¡
    

**ç¤ºä¾‹ä»£ç ï¼š**

Java

```
Timer timer = new Timer();

// å»¶è¿Ÿ 1 ç§’åæ‰§è¡Œ
timer.schedule(new TimerTask() {
    @Override
    public void run() {
        System.out.println("ä»»åŠ¡æ‰§è¡Œ");
    }
}, 1000);

// å»¶è¿Ÿ 1 ç§’åæ‰§è¡Œï¼Œä¹‹åæ¯éš” 2 ç§’æ‰§è¡Œä¸€æ¬¡
timer.schedule(new TimerTask() {
    @Override
    public void run() {
        System.out.println("å‘¨æœŸæ€§ä»»åŠ¡");
    }
}, 1000, 2000);
```

**Timer çš„ä¼˜ç¼ºç‚¹ï¼š**

**ä¼˜ç‚¹ï¼š**

- ä½¿ç”¨ç®€å•ï¼ŒAPI æ¸…æ™°
    
- é€‚åˆç®€å•çš„å®šæ—¶ä»»åŠ¡åœºæ™¯
    

**ç¼ºç‚¹ï¼š**

- å•çº¿ç¨‹æ‰§è¡Œï¼šæ‰€æœ‰ä»»åŠ¡éƒ½åœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­ä¸²è¡Œæ‰§è¡Œï¼Œå¦‚æœæŸä¸ªä»»åŠ¡æ‰§è¡Œæ—¶é—´è¿‡é•¿ï¼Œä¼šå½±å“å…¶ä»–ä»»åŠ¡
    
- å¼‚å¸¸å¤„ç†å·®ï¼šå¦‚æœæŸä¸ªä»»åŠ¡æŠ›å‡ºæœªæ•è·çš„å¼‚å¸¸ï¼Œæ•´ä¸ª Timer çº¿ç¨‹ä¼šç»ˆæ­¢ï¼Œåç»­ä»»åŠ¡éƒ½æ— æ³•æ‰§è¡Œ
    
- ä¸æ”¯æŒå¹¶å‘ï¼šæ— æ³•å¹¶è¡Œæ‰§è¡Œå¤šä¸ªä»»åŠ¡
    

**æ¨èæ›¿ä»£æ–¹æ¡ˆï¼š**

å¯¹äºç”Ÿäº§ç¯å¢ƒï¼Œæ¨èä½¿ç”¨ `ScheduledExecutorService`ï¼Œå®ƒè§£å†³äº† Timer çš„æ‰€æœ‰ç¼ºç‚¹ï¼š

Java

```
ScheduledExecutorService executor = Executors.newScheduledThreadPool(5);

// å»¶è¿Ÿ 1 ç§’åæ‰§è¡Œ
executor.schedule(() -> {
    System.out.println("ä»»åŠ¡æ‰§è¡Œ");
}, 1, TimeUnit.SECONDS);

// å»¶è¿Ÿ 1 ç§’åæ‰§è¡Œï¼Œä¹‹åæ¯éš” 2 ç§’æ‰§è¡Œä¸€æ¬¡
executor.scheduleAtFixedRate(() -> {
    System.out.println("å‘¨æœŸæ€§ä»»åŠ¡");
}, 1, 2, TimeUnit.SECONDS);
```

**ScheduledExecutorService çš„ä¼˜åŠ¿ï¼š**

- å¤šçº¿ç¨‹æ‰§è¡Œï¼šå¯ä»¥å¹¶å‘æ‰§è¡Œå¤šä¸ªä»»åŠ¡
    
- å¼‚å¸¸éš”ç¦»ï¼šæŸä¸ªä»»åŠ¡å¼‚å¸¸ä¸ä¼šå½±å“å…¶ä»–ä»»åŠ¡
    
- æ›´çµæ´»çš„è°ƒåº¦ç­–ç•¥ï¼šæ”¯æŒå›ºå®šå»¶è¿Ÿå’Œå›ºå®šé¢‘ç‡ä¸¤ç§æ¨¡å¼
    
- æ›´å¥½çš„èµ„æºç®¡ç†ï¼šåŸºäºçº¿ç¨‹æ± ï¼Œå¯ä»¥å¤ç”¨çº¿ç¨‹
    

æ€»ç»“ï¼š

Timer é€šè¿‡ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆæœ€å°å †ï¼‰+ å•åå°çº¿ç¨‹å®ç°å®šæ—¶è°ƒåº¦ï¼Œé€‚åˆç®€å•åœºæ™¯ã€‚ç”Ÿäº§ç¯å¢ƒæ¨èä½¿ç”¨ ScheduledExecutorServiceï¼Œå®ƒæä¾›äº†æ›´å¼ºå¤§å’Œå¯é çš„å®šæ—¶è°ƒåº¦èƒ½åŠ›ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

---

## å…«ã€ ç³»ç»Ÿåº•å±‚ä¸ JVM

### 8.1 ClassNotFoundException å’Œ NoClassDefFoundError çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

è¿™ä¸¤è€…æœ‰æœ¬è´¨åŒºåˆ«ï¼Œä¸€ä¸ªæ˜¯å¼‚å¸¸ï¼ˆExceptionï¼‰ï¼Œä¸€ä¸ªæ˜¯é”™è¯¯ï¼ˆErrorï¼‰ã€‚

**ClassNotFoundException**

è¿™æ˜¯ä¸€ä¸ªå—æ£€å¼‚å¸¸ï¼Œç»§æ‰¿è‡ª Exceptionã€‚å®ƒå‘ç”Ÿåœ¨ç¨‹åºè¿è¡Œæ—¶å°è¯•é€šè¿‡åå°„åŠ¨æ€åŠ è½½ç±»ï¼Œä½†æ‰¾ä¸åˆ°å¯¹åº”çš„ç±»æ–‡ä»¶æ—¶ã€‚æ¯”å¦‚ï¼š

- ä½¿ç”¨ `Class.forName("com.example.MyClass")` åŠ è½½ç±»æ—¶ï¼Œç±»åå†™é”™æˆ–ç±»ä¸å­˜åœ¨
    
- ä½¿ç”¨ `ClassLoader.loadClass()` åŠ è½½ç±»æ—¶æ‰¾ä¸åˆ°ç±»æ–‡ä»¶
    
- åŠ è½½ JDBC é©±åŠ¨æ—¶ç±»è·¯å¾„é…ç½®é”™è¯¯
    

å› ä¸ºæ˜¯å—æ£€å¼‚å¸¸ï¼Œæ‰€ä»¥å¿…é¡»æ˜¾å¼æ•è·æˆ–å£°æ˜æŠ›å‡ºï¼Œå¯ä»¥é€šè¿‡ try-catch å¤„ç†ï¼š

Java

```
try {
    Class.forName("com.mysql.jdbc.Driver");
} catch (ClassNotFoundException e) {
    // å¤„ç†å¼‚å¸¸
}
```

**NoClassDefFoundError**

è¿™æ˜¯ä¸€ä¸ªé”™è¯¯ï¼Œç»§æ‰¿è‡ª Errorã€‚å®ƒå‘ç”Ÿåœ¨ç¼–è¯‘æ—¶ç±»å­˜åœ¨ï¼Œä½†è¿è¡Œæ—¶ JVM åœ¨ç±»è·¯å¾„ä¸­æ‰¾ä¸åˆ°ç±»å®šä¹‰æ—¶ã€‚å¸¸è§åŸå› åŒ…æ‹¬ï¼š

- ç±»æ–‡ä»¶åœ¨ç¼–è¯‘åè¢«åˆ é™¤æˆ–ç§»åŠ¨
    
- JAR åŒ…ç¼ºå¤±æˆ–ç‰ˆæœ¬ä¸åŒ¹é…
    
- ç±»çš„é™æ€åˆå§‹åŒ–å—æŠ›å‡ºå¼‚å¸¸å¯¼è‡´ç±»åŠ è½½å¤±è´¥
    
- ç±»è·¯å¾„é…ç½®é”™è¯¯
    

å› ä¸ºæ˜¯ Errorï¼Œé€šå¸¸ä¸åº”è¯¥æ•è·ï¼Œå®ƒè¡¨ç¤ºä¸¥é‡çš„ç³»ç»Ÿçº§é—®é¢˜ã€‚

**æ ¸å¿ƒåŒºåˆ«æ€»ç»“**

1. ç±»å‹ä¸åŒï¼šClassNotFoundException æ˜¯å¼‚å¸¸ï¼ŒNoClassDefFoundError æ˜¯é”™è¯¯
    
2. å‘ç”Ÿæ—¶æœºä¸åŒï¼šå‰è€…å‘ç”Ÿåœ¨åŠ¨æ€åŠ è½½ç±»æ—¶ï¼Œåè€…å‘ç”Ÿåœ¨ç±»å·²ç»ç¼–è¯‘ä½†è¿è¡Œæ—¶æ‰¾ä¸åˆ°
    
3. å¤„ç†æ–¹å¼ä¸åŒï¼šå‰è€…å¯ä»¥æ•è·å¤„ç†ï¼Œåè€…é€šå¸¸ä¸åº”è¯¥æ•è·
    
4. åŸå› ä¸åŒï¼šå‰è€…é€šå¸¸æ˜¯ç±»åé”™è¯¯æˆ–ç±»ä¸å­˜åœ¨ï¼Œåè€…é€šå¸¸æ˜¯ç±»è·¯å¾„é—®é¢˜æˆ–ä¾èµ–ç¼ºå¤±
    

ç®€å•è®°å¿†ï¼šClassNotFoundException æ˜¯"æ‰¾ä¸åˆ°ç±»"ï¼ŒNoClassDefFoundError æ˜¯"ç±»å®šä¹‰æ‰¾ä¸åˆ°"ã€‚

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 8.2 Java ä¸­åˆ›å»ºå¯¹è±¡æœ‰å“ªäº›ç§æ–¹å¼ï¼Ÿ

Java ä¸­åˆ›å»ºå¯¹è±¡ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§æ–¹å¼ï¼š

1. **new å…³é”®å­—**ï¼šæœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œç›´æ¥è°ƒç”¨ç±»çš„æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡
    
2. **åå°„**ï¼šé€šè¿‡ Class.newInstance() æˆ– Constructor.newInstance() åŠ¨æ€åˆ›å»ºå¯¹è±¡
    
3. **clone() æ–¹æ³•**ï¼šé€šè¿‡å¤åˆ¶ç°æœ‰å¯¹è±¡åˆ›å»ºæ–°å¯¹è±¡ï¼Œéœ€è¦å®ç° Cloneable æ¥å£
    
4. **åºåˆ—åŒ–**ï¼šé€šè¿‡ååºåˆ—åŒ–ä»å­—èŠ‚æµä¸­æ¢å¤å¯¹è±¡
    
5. **Unsafe**ï¼šé€šè¿‡ Unsafe ç±»çš„ allocateInstance() æ–¹æ³•ç›´æ¥åˆ†é…å†…å­˜åˆ›å»ºå¯¹è±¡ï¼Œä¸è°ƒç”¨æ„é€ æ–¹æ³•ï¼Œè¿™ç§æ–¹å¼ä¸å®‰å…¨ï¼Œä¸€èˆ¬ä¸æ¨èä½¿ç”¨
    

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 8.3 ä»€ä¹ˆæ˜¯ AIOã€BIO å’Œ NIOï¼Ÿ

(å¾…è¡¥å……)

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 8.4 ä»€ä¹ˆæ˜¯åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼Ÿ

(å¾…è¡¥å……)

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 8.5 Java åºåˆ—åŒ–çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿ

(å¾…è¡¥å……)

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 8.6 serialVersionUID æœ‰ä½•ç”¨é€”ï¼Ÿå¦‚æœæ²¡å®šä¹‰ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ

(å¾…è¡¥å……)

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 8.7 ä½ çŸ¥é“ fastjson çš„ååºåˆ—åŒ–æ¼æ´å—ï¼Ÿ

(å¾…è¡¥å……)

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)

### 8.8 ä»€ä¹ˆæ˜¯ UUIDï¼Œèƒ½ä¿è¯å”¯ä¸€å—ï¼Ÿ

(å¾…è¡¥å……)

[â†‘ è¿”å›ç›®å½•](https://www.google.com/search?q=https://github.com/horizon-dawn/dev-docs/blob/main/Java%25E9%259D%25A2%25E8%25AF%2595%25E9%25A2%2598/Java%2520%25E5%259F%25BA%25E7%25A1%2580.md%23table-of-contents)