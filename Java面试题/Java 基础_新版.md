# Java 基础面试题

## 目录

### 一、Java 语言基础
- [1.1 Java 和 C++ 主要有哪些区别？分别有什么优缺点？](#11-java-和-c-主要有哪些区别分别有什么优缺点)
- [1.2 如何理解面向对象和面向过程？](#12-如何理解面向对象和面向过程)
- [1.3 Java 是值传递还是引用传递？](#13-java-是值传递还是引用传递)

### 二、面向对象
- [2.1 为什么 Java 不支持多继承？](#21-为什么-java-不支持多继承)
- [2.2 接口和抽象类的区别，如何选择？](#22-接口和抽象类的区别如何选择)
- [2.3 如何理解 Java 中的多态？](#23-如何理解-java-中的多态)
- [2.4 为什么建议自定义一个无参构造函数？](#24-为什么建议自定义一个无参构造函数)
- [2.5 为什么 Java 中的 main 方法必须是 public static void 的？](#25-为什么-java-中的-main-方法必须是-public-static-void-的)
- [2.6 有了 equals 为什么还需要 hashCode 方法？](#26-有了-equals-为什么还需要-hashcode-方法)
- [2.7 反射与封装是否矛盾？如何解决反射破坏封装的问题？](#27-反射与封装是否矛盾如何解决反射破坏封装的问题)

### 三、基本类型与包装类
- [3.1 Java 中有了基本类型为什么还需要包装类？](#31-java-中有了基本类型为什么还需要包装类)
- [3.2 为什么不能用浮点数表示金额？](#32-为什么不能用浮点数表示金额)
- [3.3 为什么不能用 BigDecimal 的 equals 方法做等值比较？](#33-为什么不能用-bigdecimal-的-equals-方法做等值比较)
- [3.4 BigDecimal(double) 和 BigDecimal(String) 有什么区别？](#34-bigdecimaldouble-和-bigdecimalstring-有什么区别)
- [3.5 为什么对 Java 中的负数取绝对值结果不一定是正数？](#35-为什么对-java-中的负数取绝对值结果不一定是正数)
- [3.6 RPC 接口返回中，使用基本类型还是包装类？](#36-rpc-接口返回中使用基本类型还是包装类)
- [3.7 char 能存储中文吗？](#37-char-能存储中文吗)
- [3.8 Integer a = 1000, Integer b = 1000, a == b 是什么结果？如果是 100 呢？](#38-integer-a--1000-integer-b--1000-a--b-是什么结果如果是-100-呢)

### 四、String 类
- [4.1 String、StringBuilder 和 StringBuffer 的区别？](#41-stringstringbuilder-和-stringbuffer-的区别)
- [4.2 String 为什么设计成不可变的？](#42-string-为什么设计成不可变的)
- [4.3 String str = new String("zhc") 创建了几个对象？](#43-string-str--new-stringzhc-创建了几个对象)
- [4.4 String a = "ab"; String b = "a" + "b"; a == b 吗？](#44-string-a--ab-string-b--a--b-a--b-吗)
- [4.5 String 有长度限制吗？是多少？](#45-string-有长度限制吗是多少)
- [4.6 字符串常量是什么时候进入到字符串常量池的？](#46-字符串常量是什么时候进入到字符串常量池的)
- [4.7 为什么 JDK 9 中把 String 的 char[] 改成了 byte[]？](#47-为什么-jdk-9-中把-string-的-char-改成了-byte)
- [4.8 String 是如何实现不可变的？](#48-string-是如何实现不可变的)
- [4.9 怎么修改一个类中的 private 修饰的 String 参数的值？](#49-怎么修改一个类中的private修饰的string参数的值)
- [4.10 JDK 9 中对字符串拼接做了什么优化？](#410-jdk-9-中对字符串拼接做了什么优化)

### 五、泛型
- [5.1 什么是泛型？有什么好处？](#51-什么是泛型有什么好处)
- [5.2 什么是类型擦除？](#52-什么是类型擦除)
- [5.3 泛型中 K T V E ? Object 等分别代表什么含义？](#53-泛型中-k-t-v-e--object-等分别代表什么含义)
- [5.4 泛型中上下界限定符 extends 和 super 有什么区别？](#54-泛型中上下界限定符-extends-和-super-有什么区别)

### 六、异常处理
- [6.1 Java 中异常分哪两类？有什么区别？](#61-java-中异常分哪两类有什么区别)
- [6.2 finally 中的代码一定会执行吗？](#62-finally-中的代码一定会执行吗)
- [6.3 try 中 return A，catch 中 return B，finally 中 return C，最终返回值是什么？](#63-try-中-return-acatch-中-return-bfinally-中-return-c最终返回值是什么)
- [6.4 final、finally、finalize 有什么区别？](#64-finalfinallyfinalize-有什么区别)

### 七、注解与反射
- [7.1 Java 注解的作用是什么？](#71-java-注解的作用是什么)
- [7.2 什么是反射机制？为什么反射慢？](#72-什么是反射机制为什么反射慢)
- [7.3 为什么不建议使用异常控制业务流程？](#73-为什么不建议使用异常控制业务流程)

### 八、枚举
- [8.1 Java 中的枚举有什么特点和好处？](#81-java-中的枚举有什么特点和好处)

### 九、编码与字符集
- [9.1 常见的字符编码有哪些？有什么区别？](#91-常见的字符编码有哪些有什么区别)

### 十、语法糖
- [10.1 说几个常见的语法糖？](#101-说几个常见的语法糖)
- [10.2 Lambda 表达式是如何实现的？](#102-lambda-表达式是如何实现的)
- [10.3 while(true) 和 for(;;) 哪个性能好？](#103-whiletrue-和-for-哪个性能好)

### 十一、SPI 机制
- [11.1 什么是 SPI，和 API 有什么区别？](#111-什么是-spi和-api-有什么区别)

### 十二、其他常见问题
- [12.1 SimpleDateFormat 是线程安全的吗？使用时应该注意什么？](#121-simpledateformat-是线程安全的吗使用时应该注意什么)
- [12.2 ClassNotFoundException 和 NoClassDefFoundError 的区别是什么？](#122-classnotfoundexception-和-noclassdeffounderror-的区别是什么)
- [12.3 Java 中创建对象有哪些种方式？](#123-java-中创建对象有哪些种方式)
- [12.4 Java 中 Timer 实现定时调度的原理是什么？](#124-java-中-timer-实现定时调度的原理是什么)
- [12.5 Stream 的并行流一定比串行流更快吗？](#125-stream-的并行流一定比串行流更快吗)

### 十三、待补充问题
- [13.1 Java 的动态代理如何实现？](#131-java-的动态代理如何实现)
- [13.2 Java 序列化的原理是什么？](#132-java-序列化的原理是什么)
- [13.3 serialVersionUID 有何用途？如果没定义会有什么问题？](#133-serialversionuid-有何用途如果没定义会有什么问题)
- [13.4 你知道 fastjson 的反序列化漏洞吗？](#134-你知道-fastjson-的反序列化漏洞吗)
- [13.5 什么是 AIO、BIO 和 NIO？](#135-什么是-aiobio-和-nio)
- [13.6 什么是深拷贝和浅拷贝？](#136-什么是深拷贝和浅拷贝)
- [13.7 什么是 UUID，能保证唯一吗？](#137-什么是-uuid能保证唯一吗)
- [13.8 String 中 intern 的原理是什么？](#138-string中intern的原理是什么)
- [13.9 什么是序列化与反序列化？](#139-什么是序列化与反序列化)
- [13.10 为什么建议多用组合少用继承？](#1310-为什么建议多用组合少用继承)
- [13.11 BigDecimal 和 Long 表示金额哪个更合适，怎么选择？](#1311-bigdecimal和long表示金额哪个更合适怎么选择)

---

## 一、Java 语言基础


### 1.1 Java 和 C++ 主要有哪些区别？分别有什么优缺点？


Java 是平台无关的语言，通过 JVM 实现"一次编写，到处运行"；而 C++ 是平台相关的，需要针对不同平台编译。

在内存管理上，Java 通过 GC 实现自动内存管理，C++ 则需要手动使用 new/delete 管理内存。

参数传递方面，Java 只支持值传递，C++ 支持值传递、指针传递和引用传递。

继承方式上，Java 只支持单继承，C++ 既支持单继承又支持多继承。

底层控制能力方面，Java 不能直接操作内存，C++ 可以直接操作内存和硬件。

执行方式上，Java 是解释型语言，通过编译器编译成字节码再由 JVM 解释执行；C++ 是编译型语言，直接编译成机器码。

Java 的优点包括平台无关性强、生态丰富、社区支持完善、垃圾回收器降低内存泄露风险。缺点是：启动速度较慢、内存占用较大、性能不如 C++、底层控制能力弱。

C++ 的优点包括性能高效、能直接操作内存和硬件、图形和音频库支持丰富。缺点是：内存管理复杂、学习曲线陡峭、容易造成内存泄露、跨平台开发困难。

---

### 1.2 如何理解面向对象和面向过程？

面向过程和面向对象是两种不同的编程思维方式。

面向过程更关注"怎么做"，类似流水线式作业。在解决问题时，将问题分解成一系列步骤，按顺序执行这些步骤来完成任务。

面向对象更关注"谁来做"，类似团队协作。在解决问题时，将问题分解成多个对象，每个对象负责特定的职责，通过对象间的协作来解决问题。

---

### 1.3 Java 是值传递还是引用传递？

Java 只有值传递，没有引用传递。这是一个容易混淆的概念，需要分情况理解：

**对于基本数据类型**：传递的是数值的副本。方法内对参数的修改不会影响原变量。比如传入一个 int 类型的变量，方法内修改这个参数，外部的原变量不会改变。

**对于引用数据类型**：传递的是引用地址的副本。这里容易产生误解，看起来像引用传递，但本质上传递的是引用值的拷贝。具体来说：

- 方法接收到的是对象引用的一个副本，这个副本和原引用指向同一个对象
- 通过这个副本可以修改对象的内容，所以外部能看到对象内部状态的变化
- 但如果在方法内给参数重新赋值（指向新对象），不会影响外部的原引用

举个例子：

```java
public void test(StringBuilder sb) {
    sb.append("world");  // 修改对象内容，外部可见
    sb = new StringBuilder("new");  // 重新赋值，外部不可见
}

StringBuilder sb = new StringBuilder("hello");
test(sb);
System.out.println(sb);  // 输出 "helloworld"，不是 "new"
```

这个例子说明：传递的是引用的副本，而不是引用本身。如果是真正的引用传递，重新赋值应该会影响外部变量。

---

## 二、面向对象


### 2.1 为什么 Java 不支持多继承？

Java 不支持多继承主要是为了避免**菱形继承**问题，同时保持**语言的简洁性**。

菱形继承是指：当 B、C 两个类同时继承了 A 类，D 类又同时继承了 B、C 类时，A 类的方法在 D 类中会出现两次。如果 A 类有一个方法，B 和 C 都重写了它，那么 D 继承时应该使用哪个版本？这会导致方法调用的二义性。C++ 支持多继承，为了解决菱形继承问题引入了虚继承，大大提高了语言的复杂度。

不支持多继承的好处包括：保持语言的简洁性、避免方法调用的歧义、降低类之间的耦合、防止子类过于臃肿（继承一些不必要的功能）。

---

### 2.2 接口和抽象类的区别，如何选择？

接口和抽象类的主要区别在于：

接口中的方法默认是 public abstract 的，只能定义常量（public static final），没有构造方法，一个类可以实现多个接口。

抽象类可以有抽象方法和具体方法，可以有实例变量和构造方法，但一个类只能继承一个抽象类。

在选择上，如果需要代码复用、共享状态或者表达"是什么"的 is-a 关系，就用抽象类；如果是为了定义行为规范、需要多继承或者表达"能做什么"的 can-do 关系，就用接口。

抽象类侧重于代码复用，接口侧重于定义规范。实际开发中接口使用更频繁，因为更灵活。

---

### 2.3 如何理解 Java 中的多态？

Java 多态是指同一操作作用于不同的对象，可以有不同的解释，产生不同的结果。

多态发生有三个必要条件：继承或实现接口、重写父类或接口的方法、父类的引用指向子类的对象。

举个例子：

```java
List<Integer> list = new ArrayList<>();
list.add(1);
```

虽然局部变量 list 的引用类型是 List，但实际执行的是 ArrayList 类的 add 方法。

多态提高了代码的扩展性和灵活性，可以用统一的接口操作不同的对象，降低了代码的耦合度。

---
